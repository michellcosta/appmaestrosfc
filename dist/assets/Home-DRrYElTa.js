import{j as e,c as a,u as t,P as s,a as r,b as n,d as i,e as o,f as l}from"./vendor-ui-Cg0qxSES.js";import{c as d,u as c,a as m,B as x,b as g,R as h,C as u,d as p,e as b,f,g as j,U as v,Z as N,S as y,h as w,i as k,j as C}from"./index-XxW9FBxQ.js";import{r as I}from"./vendor-react-CyD6OLG_.js";import{C as P}from"./check-Cf6Eusfg.js";import{D as S,a as z,b as R,c as E,d as T}from"./dialog-C8tkcOsA.js";import{I as D}from"./input-uMYoR_2G.js";import{U as A}from"./users-CT76zCld.js";import{S as _}from"./search-Vi8H8w3g.js";import{C as M}from"./circle-check-DyOVLLaD.js";import{M as $}from"./map-pin-D5gf0CoB.js";import{E as q,M as O,S as U}from"./sun-CA4sBXJa.js";import{S as F}from"./save-CUOiOV_5.js";import{B as L}from"./badge-hWvPWwxj.js";import{u as B}from"./vendor-router-VFXGavtY.js";import{C as X}from"./crown-CyBj_N2G.js";import{S as V}from"./shield-DWCzQdRN.js";import{u as G}from"./usePermissions-C7BJFuWB.js";import{C as J}from"./calendar-BrX1EaW7.js";import{P as W}from"./plus-BLqvMSWc.js";import{u as H}from"./useTeamDrawConvex-vOr6iHt4.js";import{c as Y,p as Z,a as K}from"./middleware-BLDYzNRS.js";import{u as Q}from"./gamesStore-CEKKs3cA.js";import{C as ee}from"./clock-DeGhZLZS.js";import{U as ae}from"./user-plus-2isPmhvc.js";import"./vendor-pdf-oqmhCI76.js";import"./vendor-utils-CrFdsnXa.js";const te=d("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),se=d("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),re=d("CloudSnow",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]]),ne=d("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),ie=d("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]),oe=d("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),le=d("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),de=d("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]),ce=d("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),me=d("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]);function xe(){const[a,t]=I.useState(!1),[s,r]=I.useState(""),n=c(m.forceUpdateOwner.forceUpdateMichellToOwner),i=c(m.forceUpdateOwner.deleteMichellProfile);return e.jsxs("div",{className:"p-4 border rounded-lg bg-yellow-50 border-yellow-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"🔧 Ferramenta de Administração"}),e.jsx("p",{className:"text-sm text-yellow-700 mb-4",children:"Você tem duas opções para resolver o problema do role:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(x,{onClick:async()=>{t(!0),r("🔄 Atualizando perfil...");try{const e=await n();if(e.success){r("✅ SUCESSO! Você foi promovido para OWNER!");const e=localStorage.getItem("offline_user");if(e){const a=JSON.parse(e);a.role="owner",localStorage.setItem("offline_user",JSON.stringify(a))}setTimeout(()=>{window.location.reload()},1e3)}else r(`❌ Erro: ${e.error}`)}catch(e){r("❌ Erro ao atualizar perfil. Tente novamente.")}finally{t(!1)}},disabled:a,className:"bg-yellow-600 hover:bg-yellow-700 text-white w-full",children:a?"🔄 Atualizando...":"🚀 Promover para Owner"}),e.jsx(x,{onClick:async()=>{t(!0),r("🗑️ Deletando perfil atual...");try{const e=await i();e.success?(r("✅ PERFIL DELETADO! Faça logout e login novamente."),localStorage.clear(),setTimeout(()=>{window.location.href="/login"},2e3)):r(`❌ Erro: ${e.error}`)}catch(e){r("❌ Erro ao deletar perfil. Tente novamente.")}finally{t(!1)}},disabled:a,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-50 w-full",children:a?"🗑️ Deletando...":"🗑️ Deletar e Recriar (Recomendado)"})]}),e.jsxs("div",{className:"mt-3 p-2 bg-blue-50 border border-blue-200 rounded text-xs text-blue-700",children:[e.jsx("strong",{children:"💡 Recomendação:"}),' Use "Deletar e Recriar" para uma solução limpa e definitiva.']}),s&&e.jsx("div",{className:"mt-4 p-3 rounded-lg bg-blue-50 border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-800",children:s})})]})}var ge="Checkbox",[he,ue]=a(ge),[pe,be]=he(ge);function fe(a){const{__scopeCheckbox:t,checked:s,children:r,defaultChecked:n,disabled:i,form:o,name:d,onCheckedChange:c,required:m,value:x="on",internal_do_not_use_render:g}=a,[h,u]=l({prop:s,defaultProp:n??!1,onChange:c,caller:ge}),[p,b]=I.useState(null),[f,j]=I.useState(null),v=I.useRef(!1),N=!p||(!!o||!!p.closest("form")),y={checked:h,disabled:i,setChecked:u,control:p,setControl:b,name:d,form:o,value:x,hasConsumerStoppedPropagationRef:v,required:m,defaultChecked:!Pe(n)&&n,isFormControl:N,bubbleInput:f,setBubbleInput:j};return e.jsx(pe,{scope:t,...y,children:Ie(g)?g(y):r})}var je="CheckboxTrigger",ve=I.forwardRef(({__scopeCheckbox:a,onKeyDown:n,onClick:i,...o},l)=>{const{control:d,value:c,disabled:m,checked:x,required:g,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:p,isFormControl:b,bubbleInput:f}=be(je,a),j=t(l,h),v=I.useRef(x);return I.useEffect(()=>{const e=d?.form;if(e){const a=()=>u(v.current);return e.addEventListener("reset",a),()=>e.removeEventListener("reset",a)}},[d,u]),e.jsx(s.button,{type:"button",role:"checkbox","aria-checked":Pe(x)?"mixed":x,"aria-required":g,"data-state":Se(x),"data-disabled":m?"":void 0,disabled:m,value:c,...o,ref:j,onKeyDown:r(n,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:r(i,e=>{u(e=>!!Pe(e)||!e),f&&b&&(p.current=e.isPropagationStopped(),p.current||e.stopPropagation())})})});ve.displayName=je;var Ne=I.forwardRef((a,t)=>{const{__scopeCheckbox:s,name:r,checked:n,defaultChecked:i,required:o,disabled:l,value:d,onCheckedChange:c,form:m,...x}=a;return e.jsx(fe,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:o,onCheckedChange:c,name:r,form:m,value:d,internal_do_not_use_render:({isFormControl:a})=>e.jsxs(e.Fragment,{children:[e.jsx(ve,{...x,ref:t,__scopeCheckbox:s}),a&&e.jsx(Ce,{__scopeCheckbox:s})]})})});Ne.displayName=ge;var ye="CheckboxIndicator",we=I.forwardRef((a,t)=>{const{__scopeCheckbox:r,forceMount:i,...o}=a,l=be(ye,r);return e.jsx(n,{present:i||Pe(l.checked)||!0===l.checked,children:e.jsx(s.span,{"data-state":Se(l.checked),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...a.style}})})});we.displayName=ye;var ke="CheckboxBubbleInput",Ce=I.forwardRef(({__scopeCheckbox:a,...r},n)=>{const{control:l,hasConsumerStoppedPropagationRef:d,checked:c,defaultChecked:m,required:x,disabled:g,name:h,value:u,form:p,bubbleInput:b,setBubbleInput:f}=be(ke,a),j=t(n,f),v=i(c),N=o(l);I.useEffect(()=>{const e=b;if(!e)return;const a=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(a,"checked").set,s=!d.current;if(v!==c&&t){const a=new Event("click",{bubbles:s});e.indeterminate=Pe(c),t.call(e,!Pe(c)&&c),e.dispatchEvent(a)}},[b,v,c,d]);const y=I.useRef(!Pe(c)&&c);return e.jsx(s.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??y.current,required:x,disabled:g,name:h,value:u,form:p,...r,tabIndex:-1,ref:j,style:{...r.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function Ie(e){return"function"==typeof e}function Pe(e){return"indeterminate"===e}function Se(e){return Pe(e)?"indeterminate":e?"checked":"unchecked"}Ce.displayName=ke;const ze=I.forwardRef(({className:a,...t},s)=>e.jsx(Ne,{ref:s,className:g("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...t,children:e.jsx(we,{className:g("flex items-center justify-center text-current"),children:e.jsx(P,{className:"h-4 w-4"})})}));function Re({open:a,onClose:t,players:s,selectedIds:r,onToggle:n,onSelectAll:i,onClearAll:o,onConfirm:l,minRequired:d,playersPerTeam:c,onPlayersPerTeamChange:m}){const[g,h]=I.useState(""),[u,p]=I.useState("all"),b=I.useMemo(()=>s.filter(e=>{const a=e.name.toLowerCase().includes(g.toLowerCase())||e.email.toLowerCase().includes(g.toLowerCase()),t="all"===u||e.position===u;return a&&t}),[s,g,u]),f=I.useMemo(()=>{const e=new Set(s.map(e=>e.position).filter(Boolean));return Array.from(e)},[s]),j=r.size,v=j>=d,N=Math.ceil(j/c),y=c;return e.jsx(S,{open:a,onOpenChange:t,children:e.jsxs(z,{className:"max-w-full sm:max-w-2xl max-h-[90vh] sm:max-h-[80vh] flex flex-col p-4 sm:p-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Selecionar Jogadores para o Sorteio"]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Jogadores por time:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[4,5,6].map(a=>e.jsxs(x,{variant:c===a?"default":"outline",size:"sm",onClick:()=>m(a),className:c===a?"bg-green-600 hover:bg-green-700 dark:bg-emerald-600 dark:hover:bg-emerald-700":"dark:text-slate-100 dark:border-slate-600",children:[a," jogadores"]},a))})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2 sm:gap-4 p-3 sm:p-4 bg-green-50 dark:bg-emerald-900/25 rounded-lg border border-green-200 dark:border-emerald-700",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-600 dark:text-emerald-400",children:j}),e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-slate-300",children:"Selecionados"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-600 dark:text-blue-400",children:N}),e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-slate-300",children:"Times"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-purple-600 dark:text-purple-400",children:y}),e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-600 dark:text-slate-300",children:"Por Time"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(D,{placeholder:"Buscar por nome ou email...",value:g,onChange:e=>h(e.target.value),className:"pl-9"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 -mx-1 px-1",children:[e.jsx(x,{variant:"all"===u?"default":"outline",size:"sm",onClick:()=>p("all"),className:"flex-shrink-0",children:"Todas"}),f.map(a=>e.jsx(x,{variant:u===a?"default":"outline",size:"sm",onClick:()=>p(a),className:"flex-shrink-0",children:a},a))]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto max-h-[50vh] border rounded-lg dark:border-slate-700",children:0===b.length?e.jsxs("div",{className:"p-8 text-center text-gray-500 dark:text-slate-300",children:[e.jsx(A,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum jogador encontrado"})]}):e.jsx("div",{className:"divide-y dark:divide-slate-700",children:b.map(a=>{const t=r.has(a._id);return e.jsx("div",{className:"p-2 sm:p-3 hover:bg-gray-50 dark:hover:bg-slate-800 cursor-pointer transition-colors "+(t?"bg-green-50 dark:bg-emerald-900/25":""),onClick:()=>n(a._id),children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx(ze,{checked:t,onCheckedChange:()=>n(a._id),onClick:e=>e.stopPropagation()}),a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:a.name,className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full object-cover"}):e.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center text-white font-bold text-xs sm:text-sm",children:a.name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-sm sm:text-base text-gray-900 dark:text-slate-100 truncate",children:a.name}),e.jsxs("div",{className:"text-xs sm:text-sm text-gray-500 dark:text-slate-400 flex items-center gap-1 sm:gap-2 flex-wrap",children:[a.position&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-200 rounded text-xs",children:a.position}),a.approved?e.jsx(M,{className:"h-3 w-3 text-green-500"}):e.jsx(te,{className:"h-3 w-3 text-gray-300"})]})]})]})},a._id)})})}),!v&&e.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg text-sm text-yellow-800",children:["⚠️ Selecione pelo menos ",d," jogadores para realizar o sorteio"]}),e.jsxs(T,{className:"flex flex-col sm:flex-row justify-between items-stretch sm:items-center gap-2",children:[e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx(x,{variant:"outline",size:"sm",onClick:i,className:"flex-1 sm:flex-none dark:text-slate-100 dark:border-slate-600",children:"Selecionar Todos"}),e.jsx(x,{variant:"outline",size:"sm",onClick:o,className:"flex-1 sm:flex-none dark:text-slate-100 dark:border-slate-600",children:"Limpar"})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx(x,{variant:"ghost",onClick:t,className:"flex-1 sm:flex-none",children:"Cancelar"}),e.jsxs(x,{onClick:()=>{v&&(l(),t())},disabled:!v,className:"flex-1 sm:flex-none bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:["Sortear (",j,")"]})]})]})]})})}ze.displayName=Ne.displayName;const Ee=({address:a,className:t="",mode:s="floating"})=>{const[r,n]=I.useState(!1),[i,o]=I.useState(!1),[l,d]=I.useState(!1),[c,m]=I.useState(!1),[g,h]=I.useState({x:0,y:0}),[u,p]=I.useState(null),[b,f]=I.useState("idle"),[j,v]=I.useState(null),N=I.useRef(null);I.useEffect(()=>{const e=()=>{const e=navigator.userAgent,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)||window.innerWidth<=768;d(a)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),I.useEffect(()=>{const e=e=>{N.current&&!N.current.contains(e.target)&&i&&(o(!1),m(!1))};return i&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[i]);const y=()=>{n(!0),o(!i),setTimeout(()=>{n(!1)},200)},w=()=>{o(!1),m(!1);const e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?`https://maps.google.com/maps?q=${encodeURIComponent(a)}`:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a)}`;window.open(e,"_blank")},k=()=>{o(!1),m(!1);const e=`https://waze.com/ul?q=${encodeURIComponent(a)}`;window.open(e,"_blank")},C=e=>{if(l||i)return;u&&clearTimeout(u);const a=e.currentTarget.getBoundingClientRect(),t=a.left+a.width/2,s=a.top-10;h({x:t,y:s});const r=setTimeout(()=>{i||m(!0)},800);p(r)},P=()=>{u&&(clearTimeout(u),p(null)),m(!1)};return I.useEffect(()=>{i&&(u&&(clearTimeout(u),p(null)),m(!1))},[i,u]),I.useEffect(()=>{(i||"morphing"!==s)&&(j&&(clearTimeout(j),v(null)),f("idle"))},[i,s,j]),e.jsxs("div",{ref:N,className:"relative",children:[e.jsx("style",{children:"\n        @keyframes slideUpFromBottom {\n          from {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateY(0);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes slideDownToBottom {\n          from {\n            transform: translateY(0);\n            opacity: 1;\n          }\n          to {\n            transform: translateY(100%);\n            opacity: 0;\n          }\n        }\n        \n        @keyframes expandWidth {\n          from {\n            width: auto;\n            opacity: 0.8;\n          }\n          to {\n            width: 100%;\n            opacity: 1;\n          }\n        }\n        \n        @keyframes slideInFromSides {\n          from {\n            transform: scaleX(0);\n            opacity: 0;\n          }\n          to {\n            transform: scaleX(1);\n            opacity: 1;\n          }\n        }\n        \n        @keyframes fadeInBackdrop {\n          from {\n            opacity: 0;\n          }\n          to {\n            opacity: 1;\n          }\n        }\n        \n        @keyframes tooltipFadeIn {\n          from {\n            opacity: 0;\n            transform: translate(-50%, -100%) scale(0.95) translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translate(-50%, -100%) scale(1) translateY(0);\n          }\n        }\n        \n        @keyframes tooltipFadeOut {\n          from {\n            opacity: 1;\n            transform: translate(-50%, -100%) scale(1) translateY(0);\n          }\n          to {\n            opacity: 0;\n            transform: translate(-50%, -100%) scale(0.95) translateY(10px);\n          }\n        }\n\n        @keyframes morphPulse {\n          0%, 100% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.05);\n          }\n        }\n\n        @keyframes morphRotate360 {\n          from {\n            transform: rotate(0deg) scale(1);\n          }\n          to {\n            transform: rotate(360deg) scale(1.1);\n          }\n        }\n\n        @keyframes morphSuccess {\n          0% {\n            transform: scale(1) rotate(0deg);\n          }\n          50% {\n            transform: scale(1.2) rotate(180deg);\n          }\n          100% {\n            transform: scale(1.1) rotate(360deg);\n          }\n        }\n\n        @keyframes morphGlow {\n          0%, 100% {\n            box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);\n          }\n          50% {\n            box-shadow: 0 0 40px rgba(168, 85, 247, 0.8);\n          }\n        }\n\n        .morph-loading {\n          animation: morphRotate360 1.5s linear infinite;\n        }\n\n        .morph-success {\n          animation: morphSuccess 0.8s ease-out forwards;\n        }\n\n        .morph-hover {\n          animation: morphPulse 0.6s ease-in-out, morphGlow 2s ease-in-out infinite;\n        }\n      "}),i&&e.jsx("div",{className:"fixed inset-0 z-40 "+(l?"bg-black bg-opacity-50 animate-in fade-in-0 duration-300":"bg-transparent"),onClick:()=>o(!1),style:{animation:l&&i?"fadeInBackdrop 0.3s ease-out both":void 0}}),e.jsxs(x,{variant:"outline",size:"sm",onClick:"floating"===s?()=>{n(!0),o(!i),setTimeout(()=>{n(!1)},200)}:"horizontal"===s?()=>{o(!i)}:"mobile"===s?l?()=>{o(!0)}:k:"tooltip"===s?k:"morphing"===s?()=>{if("hover"===b||"idle"===b){f("loading");const e=setTimeout(()=>{f("success");const e=setTimeout(()=>{k(),f("idle")},1200);v(e)},1500);v(e)}}:y,onMouseEnter:"tooltip"!==s||l?"morphing"!==s||l?C:()=>{"idle"!==b||i||l||f("hover")}:C,onMouseLeave:"tooltip"!==s||l?"morphing"!==s||l?P:()=>{"hover"!==b||i||f("idle")}:P,className:`\n          flex items-center gap-2 transition-all duration-200 relative z-50\n          ${"morphing"===s?(()=>{switch(b){case"idle":return"\n          bg-gradient-to-r from-blue-500 to-purple-600\n          hover:from-blue-600 hover:to-purple-700\n          transform scale-100\n          transition-all duration-500 ease-in-out\n          shadow-lg hover:shadow-xl\n        ";case"hover":return"\n          bg-gradient-to-r from-purple-500 to-pink-600\n          morph-hover\n          shadow-2xl shadow-purple-500/50\n          border-purple-400\n        ";case"loading":return"\n          bg-gradient-to-r from-orange-500 to-red-600\n          morph-loading\n          shadow-2xl shadow-orange-500/50\n          border-orange-400\n        ";case"success":return"\n          bg-gradient-to-r from-green-500 to-emerald-600\n          morph-success\n          shadow-2xl shadow-green-500/50\n          border-green-400\n        ";default:return"\n          bg-gradient-to-r from-blue-500 to-purple-600\n          transition-all duration-300 ease-in-out\n          shadow-lg\n        "}})():`\n            ${r?"bg-maestros-green text-white border-maestros-green":"bg-white text-maestros-green border-maestros-green hover:bg-maestros-green hover:text-white"}\n          `} \n          ${t}\n        `,children:["morphing"===s?(()=>{switch(b){case"idle":default:return e.jsx(de,{className:"w-4 h-4"});case"hover":return e.jsx($,{className:"w-4 h-4 animate-bounce"});case"loading":return e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"});case"success":return e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}})():e.jsx(de,{className:"w-4 h-4"}),"morphing"===s?(()=>{switch(b){case"idle":default:return"Abrir Rota";case"hover":return"Navegar Agora";case"loading":return"Carregando...";case"success":return"Rota Aberta!"}})():"Abrir Rota"]}),c&&!l&&e.jsx("div",{className:"fixed z-[100] pointer-events-none",style:{left:g.x,top:g.y,transform:"translate(-50%, -100%)",animation:"tooltipFadeIn 0.3s ease-out both"},children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl border border-gray-200 p-6 w-80 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-maestros-green/10 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-maestros-green"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Navegação"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Escolha seu app preferido"})]})]}),e.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx($,{className:"w-4 h-4 text-gray-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Destino:"}),e.jsx("p",{className:"text-sm text-gray-600 break-words",children:a})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:w,className:"w-full p-3 rounded-xl border border-gray-200 hover:border-blue-300 hover:bg-blue-50 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx($,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 group-hover:text-blue-700",children:"Google Maps"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Navegação com trânsito em tempo real"})]}),e.jsx(q,{className:"w-3 h-3 text-gray-400 group-hover:text-blue-600"})]})}),e.jsx("button",{onClick:k,className:"w-full p-3 rounded-xl border border-gray-200 hover:border-purple-300 hover:bg-purple-50 transition-all duration-200 group",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx(de,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 group-hover:text-purple-700",children:"Waze"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Rotas inteligentes e alertas da comunidade"})]}),e.jsx(q,{className:"w-3 h-3 text-gray-400 group-hover:text-purple-600"})]})})]}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"w-3 h-3 bg-white border-r border-b border-gray-200 transform rotate-45 -mt-1.5"})})]})}),!l&&i&&e.jsxs("div",{className:"absolute top-0 left-0 z-50 flex items-center gap-0 rounded-lg border-2 border-maestros-green bg-white overflow-hidden shadow-lg",children:[e.jsxs(x,{variant:"ghost",size:"sm",onClick:y,className:"flex items-center gap-2 transition-all duration-300 border-0 rounded-r-none bg-white text-maestros-green hover:bg-maestros-green hover:text-white border-r border-maestros-green/20",children:[e.jsx(de,{className:"w-4 h-4"}),"Abrir Rota"]}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 transition-all duration-300 group hover:bg-blue-50 border-r border-maestros-green/20",style:{animation:"slideInFromSides 0.3s ease-out 0.1s both"},children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-md flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx($,{className:"w-3 h-3 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-blue-700 whitespace-nowrap",children:"Google Maps"})]}),e.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-3 py-2 transition-all duration-300 group hover:bg-purple-50 rounded-r-md",style:{animation:"slideInFromSides 0.3s ease-out 0.2s both"},children:[e.jsx("div",{className:"w-6 h-6 bg-purple-100 rounded-md flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx(de,{className:"w-3 h-3 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-700 whitespace-nowrap",children:"Waze"})]})]})]}),l&&i&&e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white rounded-t-3xl shadow-2xl border-t border-gray-200",style:{animation:"slideUpFromBottom 0.4s ease-out both"},children:[e.jsx("div",{className:"flex justify-center pt-4 pb-2",children:e.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full"})}),e.jsx("div",{className:"px-6 pb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-maestros-green/10 rounded-full flex items-center justify-center",children:e.jsx(de,{className:"w-5 h-5 text-maestros-green"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Abrir Rota"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Escolha seu app de navegação"})]})]})}),e.jsxs("div",{className:"px-6 pb-8 space-y-3",children:[e.jsx("button",{onClick:w,className:"w-full p-4 rounded-2xl border-2 border-gray-100 hover:border-blue-200 hover:bg-blue-50 transition-all duration-200 group",style:{animation:"slideUpFromBottom 0.4s ease-out 0.1s both"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center group-hover:bg-blue-200 transition-colors",children:e.jsx($,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-blue-700",children:"Google Maps"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Navegação com trânsito em tempo real"})]}),e.jsx(q,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600"})]})}),e.jsx("button",{onClick:k,className:"w-full p-4 rounded-2xl border-2 border-gray-100 hover:border-purple-200 hover:bg-purple-50 transition-all duration-200 group",style:{animation:"slideUpFromBottom 0.4s ease-out 0.2s both"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center group-hover:bg-purple-200 transition-colors",children:e.jsx(de,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700",children:"Waze"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Rotas inteligentes e alertas da comunidade"})]}),e.jsx(q,{className:"w-4 h-4 text-gray-400 group-hover:text-purple-600"})]})})]}),e.jsx("div",{className:"h-safe-area-inset-bottom"})]})]})},Te={Preto:{bg:"bg-gray-900",border:"border-gray-700",text:"text-white",icon:"⚫"},Verde:{bg:"bg-green-600",border:"border-green-500",text:"text-white",icon:"🟢"},Cinza:{bg:"bg-gray-500",border:"border-gray-400",text:"text-white",icon:"⚪"},Vermelho:{bg:"bg-red-600",border:"border-red-500",text:"text-white",icon:"🔴"}};function De({color:a,players:t}){const s=Te[a];return e.jsxs(u,{className:`border-2 ${s.border} dark:bg-slate-900/90`,children:[e.jsx(p,{className:`${s.bg} ${s.text} py-2 sm:py-3`,children:e.jsxs(b,{className:"text-base sm:text-lg flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-lg sm:text-xl",children:s.icon}),e.jsxs("span",{children:["Time ",a]})]}),e.jsxs("span",{className:"text-xs sm:text-sm font-normal opacity-90",children:[t.length," jogador",1!==t.length?"es":""]})]})}),e.jsx(f,{className:"p-2 sm:p-3 space-y-1.5 sm:space-y-2 dark:bg-slate-900/90",children:0===t.length?e.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-slate-300 text-sm",children:[e.jsx(A,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),"Nenhum jogador"]}):t.map((a,t)=>e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 p-1.5 sm:p-2 bg-gray-50 dark:bg-slate-800 rounded-lg hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:[e.jsx("div",{className:"flex-shrink-0 w-5 sm:w-6 text-center text-xs font-medium text-gray-500 dark:text-slate-400",children:t+1}),a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:a.name,className:"h-7 w-7 sm:h-8 sm:w-8 rounded-full object-cover"}):e.jsx("div",{className:`h-7 w-7 sm:h-8 sm:w-8 rounded-full ${s.bg} flex items-center justify-center ${s.text} text-xs font-bold`,children:a.name.substring(0,2).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-medium text-xs sm:text-sm text-gray-900 dark:text-slate-100 truncate",children:a.name}),a.position&&e.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-slate-400 truncate",children:a.position})]})]},a._id))})]})}function Ae({teams:a,stats:t,onRedraw:s,onSave:r,isLoading:n}){const i=Object.entries(a).filter(([e,a])=>void 0!==a);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"rounded-lg p-4 bg-white dark:bg-slate-900 border border-green-200 dark:border-emerald-700 text-green-900 dark:text-emerald-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"text-lg sm:text-xl",children:"✅"}),e.jsx("h3",{className:"font-semibold text-sm sm:text-base",children:"Times Balanceados Automaticamente"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 justify-end",children:[s&&e.jsxs(x,{variant:"outline",onClick:s,disabled:n,className:"w-full sm:w-auto flex items-center justify-center gap-2",children:[e.jsx(h,{className:"h-4 w-4 "+(n?"animate-spin":"")}),"Sortear Novamente"]}),r&&e.jsxs(x,{onClick:r,disabled:n,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700",children:[e.jsx(F,{className:"h-4 w-4"}),"Confirmar Times"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:i.map(([a,t])=>e.jsx(De,{color:a,players:t.players},a))})]})}const _e=new class{apiKey;baseUrl;constructor(){this.apiKey="",this.baseUrl="https://api.openweathermap.org/data/2.5"}async getCoordinatesFromAddress(e){try{const a=`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(e)}&count=1&language=pt&format=json`,t=await fetch(a),s=await t.json();if(s.results&&s.results.length>0){const e=s.results[0];return{lat:e.latitude,lon:e.longitude}}return{lat:-22.9068,lon:-43.1729}}catch(a){return{lat:-22.9068,lon:-43.1729}}}mapWeatherCondition(e,a){const t=e.toLowerCase();return t.includes("rain")||t.includes("drizzle")?"rainy":t.includes("snow")?"snowy":t.includes("cloud")?"cloudy":t.includes("clear")?"sunny":t.includes("wind")||a.includes("50")?"windy":"sunny"}mapOpenMeteoWeatherCode(e,a){const t=this.isNightTime(a),s={0:{condition:"sunny",description:"Céu limpo",nightCondition:"sunny",nightDescription:"Noite clara"},1:{condition:"cloudy",description:"Principalmente limpo",nightCondition:"cloudy",nightDescription:"Parcialmente nublado"},2:{condition:"cloudy",description:"Parcialmente nublado",nightCondition:"cloudy",nightDescription:"Parcialmente nublado"},3:{condition:"cloudy",description:"Nublado"},45:{condition:"cloudy",description:"Neblina"},48:{condition:"cloudy",description:"Neblina com geada"},51:{condition:"rainy",description:"Garoa leve"},53:{condition:"rainy",description:"Garoa moderada"},55:{condition:"rainy",description:"Garoa intensa"},56:{condition:"rainy",description:"Garoa gelada leve"},57:{condition:"rainy",description:"Garoa gelada intensa"},61:{condition:"rainy",description:"Chuva leve"},63:{condition:"rainy",description:"Chuva moderada"},65:{condition:"rainy",description:"Chuva intensa"},66:{condition:"rainy",description:"Chuva gelada leve"},67:{condition:"rainy",description:"Chuva gelada intensa"},71:{condition:"snowy",description:"Neve leve"},73:{condition:"snowy",description:"Neve moderada"},75:{condition:"snowy",description:"Neve intensa"},77:{condition:"snowy",description:"Granizo"},80:{condition:"rainy",description:"Pancadas de chuva leves"},81:{condition:"rainy",description:"Pancadas de chuva moderadas"},82:{condition:"rainy",description:"Pancadas de chuva intensas"},85:{condition:"snowy",description:"Pancadas de neve leves"},86:{condition:"snowy",description:"Pancadas de neve intensas"},95:{condition:"rainy",description:"Tempestade"},96:{condition:"rainy",description:"Tempestade com granizo leve"},99:{condition:"rainy",description:"Tempestade com granizo intenso"}}[e]||{condition:"cloudy",description:"Nublado"};return t&&s.nightCondition?{condition:s.nightCondition,description:s.nightDescription||s.description}:{condition:s.condition,description:s.description}}isNightTime(e){if(!e)return!1;const[a]=e.split(":").map(Number);return a>=18||a<6}async getWeatherForecast(e,a,t){try{const s=await this.getCoordinatesFromAddress(a),r=`https://api.open-meteo.com/v1/forecast?latitude=${s.lat}&longitude=${s.lon}&current=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&hourly=temperature_2m,relative_humidity_2m,wind_speed_10m,weather_code&daily=weather_code,temperature_2m_max,temperature_2m_min&timezone=America/Sao_Paulo&forecast_days=7`,n=await fetch(r);if(!n.ok)throw new Error(`Erro na API: ${n.status}`);const i=await n.json(),o=new Date(e),l=new Date;let d;if(o.toDateString()===l.toDateString()&&i.current)d={temperature:Math.round(i.current.temperature_2m),humidity:i.current.relative_humidity_2m,windSpeed:Math.round(i.current.wind_speed_10m),weatherCode:i.current.weather_code};else{const s=Math.floor((o.getTime()-l.getTime())/864e5);if(!(s>=0&&s<i.daily.temperature_2m_max.length))return this.getSimulatedWeather(e,a,t);d={temperature:Math.round((i.daily.temperature_2m_max[s]+i.daily.temperature_2m_min[s])/2),humidity:60,windSpeed:Math.round(i.hourly.wind_speed_10m[24*s]||10),weatherCode:i.daily.weather_code[s]}}const{condition:c,description:m}=this.mapOpenMeteoWeatherCode(d.weatherCode,t);return{temperature:d.temperature,description:m,humidity:d.humidity,windSpeed:d.windSpeed,visibility:10,condition:c,precipitation:d.weatherCode>=61?20:0}}catch(s){return this.getSimulatedWeather(e,a,t)}}getSimulatedWeather(e,a,t){const s=new Date(e),r=Math.floor((s.getTime()-new Date(s.getFullYear(),0,0).getTime())/864e5),n=a.length;let i=!1;if(t){const[e]=t.split(":").map(Number);i=e>=18||e<6}const o=r+n,l=40+o%40,d=o%30;let c,m;return d>20?(c="rainy",m="Chuvoso"):d>10?(c="cloudy",m="Nublado"):l>70?(c="cloudy",m="Parcialmente nublado"):(c=i?"cloudy":"sunny",m=i?"Céu limpo":"Ensolarado"),{temperature:18+o%15,description:m,humidity:l,windSpeed:5+o%20,visibility:10,condition:c,precipitation:d}}},Me=({date:a,location:t,time:s,className:r=""})=>{const[n,i]=I.useState(null),[o,l]=I.useState(!0),[d,c]=I.useState(null),m=e=>{const[a]=e.split(":").map(Number);return a>=18||a<6};return I.useEffect(()=>{a&&t&&(async(e,a,t)=>{try{l(!0),c(null);const s=await _e.getWeatherForecast(e,a,t);i(s)}catch(s){c("Erro ao carregar previsão do tempo")}finally{l(!1)}})(a,t,s)},[a,t,s]),o?e.jsxs(u,{className:`rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-800 ${r}`,children:[e.jsx(p,{className:"pb-3",children:e.jsxs(b,{className:"text-sm font-semibold flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[e.jsx(ne,{className:"w-4 h-4"}),"Previsão do Tempo"]})}),e.jsx(f,{className:"pt-0",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})})]}):d||!n?e.jsxs(u,{className:`rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-800 ${r}`,children:[e.jsx(p,{className:"pb-3",children:e.jsxs(b,{className:"text-sm font-semibold flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[e.jsx(ne,{className:"w-4 h-4"}),"Previsão do Tempo"]})}),e.jsx(f,{className:"pt-0",children:e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:d||"Dados não disponíveis"})})]}):e.jsxs(u,{className:`rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 bg-zinc-50 dark:bg-zinc-800 ${r}`,children:[e.jsx(p,{className:"pb-3",children:e.jsxs(b,{className:"text-sm font-semibold flex items-center gap-2 text-zinc-900 dark:text-zinc-100",children:[e.jsx(ne,{className:"w-4 h-4"}),"Previsão do Tempo"]})}),e.jsxs(f,{className:"pt-0 space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[((a,t)=>{const r=t.includes("Céu limpo")||t.includes("nublado")&&s&&m(s);switch(a){case"sunny":default:return r?e.jsx(O,{className:"w-6 h-6 text-blue-300"}):e.jsx(U,{className:"w-6 h-6 text-yellow-500"});case"cloudy":return e.jsx(ne,{className:"w-6 h-6 text-gray-500"});case"rainy":return e.jsx(se,{className:"w-6 h-6 text-blue-500"});case"snowy":return e.jsx(re,{className:"w-6 h-6 text-blue-300"});case"windy":return e.jsx(me,{className:"w-6 h-6 text-gray-600"})}})(n.condition,n.description),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-2xl font-bold text-zinc-900 dark:text-zinc-100",children:[n.temperature,"°C"]}),e.jsx(L,{className:(x=n.temperature,x>=30?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":x>=25?"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200":x>=20?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":x>=15?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:n.temperature>=25?"Quente":n.temperature>=15?"Agradável":"Fresco"})]}),e.jsx("p",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:n.description})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{className:"text-zinc-600 dark:text-zinc-400",children:["Umidade: ",n.humidity,"%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(me,{className:"w-4 h-4 text-gray-500"}),e.jsxs("span",{className:"text-zinc-600 dark:text-zinc-400",children:["Vento: ",n.windSpeed," km/h"]})]}),n.precipitation>0&&e.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[e.jsx(se,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{className:"text-zinc-600 dark:text-zinc-400",children:["Chuva: ",n.precipitation,"%"]})]})]}),e.jsx("div",{className:"mt-3 p-2 bg-zinc-50 dark:bg-zinc-800 rounded-lg",children:e.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:"rainy"===n.condition&&n.precipitation>50?"⚠️ Risco de chuva - considere levar guarda-chuva":n.temperature>=30?"☀️ Dia quente - hidrate-se bem":n.temperature<=15?"🧥 Dia fresco - vista-se adequadamente":"✅ Condições ideais para o jogo"})})]})]});var x};function $e({title:a,subtitle:t,onMenuClick:s}){const{user:r}=j(),n=B();return e.jsx("header",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s&&e.jsx(x,{variant:"ghost",size:"sm",onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-zinc-700",children:e.jsx(le,{className:"w-5 h-5 text-gray-700 dark:text-zinc-300"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:a}),t&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:t})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:["owner"===r?.role&&e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>n("/owner-dashboard"),className:"p-2 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",title:"Acesso rápido ao Dashboard do Owner",children:e.jsx(X,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),r?.role&&"owner"!==r.role&&e.jsxs("div",{className:"flex items-center space-x-1 text-sm text-maestros-green dark:text-green-400",children:[(a=>{switch(a){case"owner":return e.jsx(X,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"});case"admin":return e.jsx(V,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"});case"aux":return e.jsx(N,{className:"w-4 h-4 text-green-600 dark:text-green-400"});case"mensalista":return e.jsx(y,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"});case"diarista":return e.jsx(N,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"});default:return e.jsx(v,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}})(r.role),e.jsx("span",{className:"hidden sm:inline font-medium",children:"admin"===r.role?"Admin":"aux"===r.role?"Auxiliar":"mensalista"===r.role?"Mensalista":"diarista"===r.role?"Diarista":"Usuário"})]})]})]})})}function qe({children:a,title:t="App Maestros FC",subtitle:s="Sistema de Gestão"}){return e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx($e,{title:t,subtitle:s}),a]})}function Oe({icon:a,title:t,description:s,action:r,secondaryAction:n}){return e.jsx(u,{className:"animate-fade-in-up",children:e.jsxs(f,{className:"p-8 text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center mx-auto",children:e.jsx(a,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:t}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:s})]}),(r||n)&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[r&&e.jsxs(x,{onClick:r.onClick,className:"bg-gradient-primary hover:opacity-90",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),r.label]}),n&&e.jsxs(x,{variant:"outline",onClick:n.onClick,children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),n.label]})]})]})})}function Ue(){const{canCreateGames:a}=G(),t=B();return e.jsx(Oe,{icon:J,title:"Nenhum jogo agendado",description:"Não há jogos programados no momento. Crie um novo jogo para começar.",action:a()?{label:"Criar Jogo",onClick:()=>{t("/owner-dashboard?action=create-game")}}:void 0})}function Fe({className:a,...t}){return e.jsx("div",{className:g("animate-pulse rounded-md bg-muted",a),...t})}function Le(){return e.jsxs(u,{className:"animate-fade-in-up",children:[e.jsxs(p,{children:[e.jsx(Fe,{className:"h-6 w-3/4"}),e.jsx(Fe,{className:"h-4 w-1/2"})]}),e.jsxs(f,{className:"space-y-4",children:[e.jsx(Fe,{className:"h-4 w-full"}),e.jsx(Fe,{className:"h-4 w-5/6"}),e.jsx(Fe,{className:"h-4 w-4/6"})]})]})}function Be(){return e.jsx("div",{className:"grid grid-cols-2 gap-4",children:Array.from({length:4}).map((a,t)=>e.jsx(u,{className:"animate-scale-in",style:{animationDelay:100*t+"ms"},children:e.jsx(f,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Fe,{className:"h-4 w-20"}),e.jsx(Fe,{className:"h-6 w-16"})]}),e.jsx(Fe,{className:"h-8 w-8 rounded"})]})})},t))})}const Xe={showInHome:!0,showInDashboard:!0,enabledCards:{helpArtist:!0,coffeeForDev:!0}},Ve=Y()(Z((e,a)=>({config:Xe,updateConfig:a=>e(e=>({config:{...e.config,...a}})),toggleHomeDisplay:()=>e(e=>({config:{...e.config,showInHome:!e.config.showInHome}})),toggleDashboardDisplay:()=>e(e=>({config:{...e.config,showInDashboard:!e.config.showInDashboard}})),toggleHelpArtistCard:()=>e(e=>({config:{...e.config,enabledCards:{...e.config.enabledCards,helpArtist:!e.config.enabledCards.helpArtist}}})),toggleCoffeeForDevCard:()=>e(e=>({config:{...e.config,enabledCards:{...e.config.enabledCards,coffeeForDev:!e.config.enabledCards.coffeeForDev}}})),resetToDefaults:()=>e({config:Xe})}),{name:"maestrosfc-donation-config"})),Ge=Y()(Z((e,a)=>({notifications:[],addNotification:a=>{const t={...a,id:`notification_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,read:!1};e(e=>({notifications:[t,...e.notifications]}))},markAsRead:a=>{e(e=>({notifications:e.notifications.map(e=>e.id===a?{...e,read:!0}:e)}))},markAllAsRead:()=>{e(e=>({notifications:e.notifications.map(e=>({...e,read:!0}))}))},removeNotification:a=>{e(e=>({notifications:e.notifications.filter(e=>e.id!==a)}))},clearAll:()=>{e({notifications:[]})},getUnreadCount:()=>a().notifications.filter(e=>!e.read).length,getNotificationsForUser:e=>a().notifications.filter(a=>a.targetRoles.includes(e)),getUnreadNotificationsForUser:e=>a().notifications.filter(a=>a.targetRoles.includes(e)&&!a.read),createDiaristRequestNotification:(e,t,s)=>{const{addNotification:r}=a();r({type:"diarist_request",title:"Nova Solicitação de Diarista",message:`${t.name} solicitou participação na partida de ${s}`,matchId:e,requesterId:t.id,requesterName:t.name,targetRoles:["owner","admin","aux"]})}}),{name:"notifications-storage",version:1})),Je=Y()(Z((e,a)=>({participants:[],diaristRequests:[],loading:!1,error:null,confirmParticipation:async(a,t)=>{e({loading:!0,error:null});try{const s={id:`${a}-${t.id}-${Date.now()}`,matchId:a,userId:t.id,userRole:t.role,status:"confirmed",confirmedAt:new Date,user:t};e(e=>({participants:[...e.participants.filter(e=>!(e.matchId===a&&e.userId===t.id)),s],loading:!1}))}catch(s){e({error:"Erro ao confirmar participação",loading:!1})}},cancelParticipation:async(a,t)=>{e({loading:!0,error:null});try{e(e=>({participants:e.participants.filter(e=>!(e.matchId===a&&e.userId===t)),loading:!1}))}catch(s){e({error:"Erro ao cancelar participação",loading:!1})}},requestToPlay:async(t,s)=>{e({loading:!0,error:null});try{if(a().diaristRequests.find(e=>e.matchId===t&&e.userId===s.id))throw new Error("Solicitação já existe para esta partida");const r={id:`req-${t}-${s.id}-${Date.now()}`,matchId:t,userId:s.id,status:"pending",requestedAt:new Date,user:s};e(e=>({diaristRequests:[...e.diaristRequests.filter(e=>!(e.matchId===t&&e.userId===s.id)),r],loading:!1}));const n=Ge.getState(),i=(new Date).toLocaleDateString("pt-BR");n.createDiaristRequestNotification(t,s,i)}catch(r){e({error:"Erro ao solicitar participação",loading:!1})}},cancelRequest:async(a,t)=>{e({loading:!0,error:null});try{e(e=>({diaristRequests:e.diaristRequests.filter(e=>!(e.matchId===a&&e.userId===t)),loading:!1}))}catch(s){e({error:"Erro ao cancelar solicitação",loading:!1})}},approveRequest:async(t,s)=>{e({loading:!0,error:null});try{const r=a().diaristRequests.find(e=>e.id===t);if(!r)throw new Error("Solicitação não encontrada");e(e=>({diaristRequests:e.diaristRequests.map(e=>e.id===t?{...e,status:"approved",reviewedAt:new Date,reviewedBy:s}:e),loading:!1}));const n={id:`${r.matchId}-${r.userId}-${Date.now()}`,matchId:r.matchId,userId:r.userId,userRole:"diarista",status:"waiting_list",confirmedAt:new Date,user:r.user};e(e=>({participants:[...e.participants,n]}))}catch(r){e({error:"Erro ao aprovar solicitação",loading:!1})}},rejectRequest:async(a,t,s)=>{e({loading:!0,error:null});try{e(e=>({diaristRequests:e.diaristRequests.map(e=>e.id===a?{...e,status:"rejected",reviewedAt:new Date,reviewedBy:t,notes:s}:e),loading:!1}))}catch(r){e({error:"Erro ao rejeitar solicitação",loading:!1})}},getParticipantsByMatch:e=>a().participants.filter(a=>a.matchId===e),getConfirmedParticipants:e=>a().participants.filter(a=>a.matchId===e&&"confirmed"===a.status),getWaitingListParticipants:e=>a().participants.filter(a=>a.matchId===e&&"waiting_list"===a.status),getPendingRequests:e=>a().diaristRequests.filter(a=>a.matchId===e&&"pending"===a.status),getAllPendingRequests:()=>a().diaristRequests.filter(e=>"pending"===e.status),getUserParticipation:(e,t)=>a().participants.find(a=>a.matchId===e&&a.userId===t)||null,getUserRequest:(e,t)=>a().diaristRequests.find(a=>a.matchId===e&&a.userId===t)||null,hasUserConfirmed:(e,t)=>a().participants.some(a=>a.matchId===e&&a.userId===t&&"confirmed"===a.status),hasUserRequested:(e,t)=>a().diaristRequests.some(a=>a.matchId===e&&a.userId===t&&"pending"===a.status),canUserConfirm:(e,t,s)=>{const r=a().getConfirmedParticipants(e).length;return"mensalista"===t.role||"diarista"===t.role&&r<s},reset:()=>{e({participants:[],diaristRequests:[],loading:!1,error:null})},loadExampleData:()=>{}}),{name:"match-participants-store",storage:K(()=>localStorage),partialize:e=>({participants:e.participants,diaristRequests:e.diaristRequests})}));function We(){const a=B(),{matches:t,getUpcomingMatches:s}=Q();Ve(),w();const[r,n]=I.useState(!0);I.useState(!1);const{success:i,error:o}=k(),{user:l}=j(),{canRequestToPlay:d,canDrawTeams:c}=G(),[m,g]=I.useState({}),[p,b]=I.useState({}),[v,N]=I.useState(!1),[y,P]=I.useState(!1),[T,_]=I.useState(""),[M,q]=I.useState(5),{approvedPlayers:O,selectedPlayers:U,selectedPlayerIds:F,currentDraw:X,validation:V,togglePlayerSelection:W,selectAll:Y,clearSelection:Z,drawTeams:K,redraw:te,hasTeamDraw:se,isTeamDrawComplete:re,getPlayersByTeam:ne}=H(),{confirmParticipation:ie,cancelParticipation:le,requestToPlay:de,cancelRequest:me,hasUserConfirmed:ge,hasUserRequested:he,canUserConfirm:ue,getUserParticipation:pe,getUserRequest:be,getConfirmedParticipants:fe,loading:je}=Je(),ve=()=>l?.name?`Bem vindo ${l.name}!`:"Bem vindo!",[Ne,ye]=I.useState(!1),[we,ke]=I.useState(2),[Ce,Ie]=I.useState(""),[Pe,Se]=I.useState(!1),[ze,Te]=I.useState(""),[De,_e]=I.useState(""),[$e,Oe]=I.useState("pending"),[Fe,Xe]=I.useState(0),Ge=e=>{let a;if(e.includes("/")){const[t,s,r]=e.split("/");a=new Date(`${r}-${s.padStart(2,"0")}-${t.padStart(2,"0")}T00:00:00`)}else{if(!e.includes("-"))return e;a=new Date(`${e}T00:00:00`)}return`${a.getDate()} de ${["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][a.getMonth()]}`},We=e=>`${e}h`,He=()=>{ye(!1),ke(2),Ie("")},Ye=e=>{ke(e),Ie("")},Ze=async(e,a)=>{if(Oe("pending"),Te(e),Xe(a),!e||e.includes("http"))return void alert("❌ PIX inválido! Configure no Dashboard Owner.");const t=Math.round(100*a),s={payloadFormatIndicator:"00020112",pointInitiationMethod:"0114br.gov.bcb.pix",merchantAccountInfo:`0136${e.trim()}`,merchantCategoryCode:"52040000",currencyCode:"5303986",amount:`540${t.toString()}`,countryCode:"5802BR",merchantName:"5906Maestros",merchantCity:"6009SaoPaulo",transactionRef:"62070503***",crc:"6304"},r=Object.values(s).join("");setTimeout(async()=>{_e(r),Oe("generated"),Se(!0);try{await navigator.clipboard.writeText(r),Oe("copied"),i(`🎉 PIX INTELIGENTE COPIADO!\n\n💰 Valor R$ ${a.toFixed(2)} JÁ INCLUÍDO!\n📱 Cole no banco → PAGAMENTO AUTOMÁTICO!`)}catch(e){i(`🎯 PIX INTELIGENTE GERADO!\n\n💰 Valor integrado R$ ${a.toFixed(2)}\n📋 Use "Copiar PIX Inteligente" abaixo!`)}},1200)};if(I.useEffect(()=>{const e=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(e)},[]),r)return e.jsx(qe,{title:ve(),subtitle:"Próximas partidas • Previsão do tempo",children:e.jsxs("div",{className:"space-y-4 pb-20",children:[e.jsx(Be,{}),e.jsx(Le,{})]})});const Ke=s();if(0===Ke.length)return e.jsx(qe,{title:ve(),subtitle:"Próximas partidas • Previsão do tempo",children:e.jsx("div",{className:"space-y-4 pb-20",children:e.jsx(Ue,{})})});const Qe=Ke[0];return e.jsxs(qe,{title:ve(),subtitle:"Próximas partidas • Previsão do tempo",children:[e.jsxs("div",{className:"space-y-4 pb-20",children:["owner"!==l?.role&&"michellcosta1269@gmail.com"===l?.email&&e.jsx(xe,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-zinc-100",children:"Próximas Partidas"}),Ke.slice(1).map(a=>e.jsx(u,{className:"rounded-2xl bg-zinc-50 dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700",children:e.jsxs(f,{className:"p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-zinc-900 dark:text-zinc-100",children:Ge(a.date)}),e.jsxs("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:[We(a.time)," - ",a.location]})]}),e.jsxs(L,{variant:"outline",className:"border-zinc-300 dark:border-zinc-600 text-zinc-700 dark:text-zinc-300",children:[a.confirmedPlayers,"/",a.maxPlayers," jogadores"]})]}),e.jsx(Me,{date:a.date,location:a.location,time:a.time,className:"border-0 shadow-none bg-zinc-100 dark:bg-zinc-700"})]})},a.id))]}),e.jsx(u,{className:"rounded-2xl",children:e.jsxs(f,{className:"p-4 sm:p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 text-zinc-600 dark:text-zinc-300",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:Ge(Qe.date)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-zinc-600 dark:text-zinc-300",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:We(Qe.time)})]})]}),e.jsxs(L,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",children:[e.jsx(A,{className:"w-3 h-3 mr-1"}),fe(Qe.id.toString()).length,"/",Qe.maxPlayers," jogadores"]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-zinc-600 dark:text-zinc-300",children:[e.jsx($,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium dark:text-zinc-200",children:Qe.location}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Local da partida"})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 flex items-center space-x-2 dark:bg-green-900/20 dark:border-green-800/30",children:[e.jsx(C,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-sm text-green-800 font-medium dark:text-green-300",children:"Check-in realizado"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[(()=>{const a=Qe.id.toString(),t=(e=>{if(!l)return{text:"Entrar",variant:"outline",disabled:!0};const a=Ke.find(a=>a.id.toString()===e);if(!a)return{text:"Partida não encontrada",variant:"outline",disabled:!0};const t=fe(e).length>=a.maxPlayers,s=ge(e,l.id),r=he(e,l.id);return"mensalista"===l.role||"owner"===l.role||"admin"===l.role||"aux"===l.role?s?{text:"Confirmado ✓",variant:"success",disabled:!1}:{text:"Confirmar Presença",variant:"outline",disabled:!1}:"diarista"===l.role?r?{text:"Lista de Espera",variant:"secondary",disabled:!1}:t?{text:"Partida Cheia",variant:"outline",disabled:!0}:{text:"Pedir para Jogar",variant:"outline",disabled:!1}:{text:"Não autorizado",variant:"outline",disabled:!0}})(a),s=!!l&&ge(a,l.id),r=t.text.includes("Confirmado")?C:t.text.includes("Lista de Espera")?ee:t.text.includes("Pedir para Jogar")?ae:C,n=s||t.text.includes("Confirmado")?"flex-1 bg-maestros-green text-white border-maestros-green hover:bg-maestros-green/90":"flex-1 bg-white border-maestros-green text-maestros-green hover:bg-maestros-green hover:text-white";return e.jsxs(x,{variant:"outline",className:n,disabled:t.disabled,onClick:()=>(async e=>{if(l)try{"mensalista"===l.role||"owner"===l.role||"admin"===l.role||"aux"===l.role?ge(e,l.id)?await le(e,l.id):await ie(e,l):"diarista"===l.role&&(he(e,l.id)?await me(e,l.id):await de(e,l))}catch(a){o("Erro ao processar solicitação")}else o("Usuário não encontrado")})(a),children:[e.jsx(r,{className:"w-4 h-4 mr-2"}),t.text]},`${a}-${s}-${t.text}`)})(),e.jsx(Ee,{address:Qe.location,className:"flex-1 border-maestros-green text-maestros-green hover:bg-maestros-green/10"})]}),c()&&(()=>{const a=Qe.id.toString(),t=p[a]||!1;let s="w-full !bg-maestros-green !text-white !border-maestros-green !hover:bg-maestros-green/90 transition-all duration-300";t&&(s+=" animate-pulse");return e.jsxs(x,{variant:"outline",className:s,onClick:()=>{(e=>{l?(_(e),P(!0)):o("Usuário não encontrado")})(a)},disabled:t,children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),t?"Sorteando...":"Sortear Times"]})})()]})]})}),e.jsx(Me,{date:Qe.date,location:Qe.location,time:Qe.time})]}),e.jsx(S,{open:Ne,onOpenChange:ye,children:e.jsxs(z,{className:"w-[95vw] max-w-sm mx-auto max-h-[85vh] overflow-hidden bg-gradient-to-br from-orange-50 to-amber-50 dark:from-orange-950/50 dark:to-amber-950/50 border-orange-200 dark:border-orange-800/50",children:[e.jsxs(R,{className:"pb-3",children:[e.jsxs(E,{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200 text-base",children:[e.jsx("div",{className:"bg-gradient-to-br from-orange-100 to-amber-100 dark:from-orange-800/30 dark:to-amber-800/30 p-1.5 rounded-full",children:e.jsx(oe,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"})}),"☕ Ajude o Artista"]}),e.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-300 mt-1",children:"Sua contribuição faz toda a diferença! 🚀"})]}),e.jsxs("div",{className:"overflow-y-auto max-h-[60vh] px-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-3 text-orange-700 dark:text-orange-300",children:"☕ Valores sugeridos:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[2,5,10].map(a=>e.jsx("button",{className:"h-10 rounded-lg transition-all duration-200 transform active:scale-95 "+(we===a?"bg-orange-500 hover:bg-orange-600 text-white shadow-md scale-105 ring-1 ring-orange-300":"bg-white/80 dark:bg-gray-800/50 border border-orange-200 dark:border-orange-700 text-orange-700 dark:text-orange-300 hover:bg-orange-100 dark:hover:bg-orange-900/40 hover:border-orange-400 hover:scale-102"),onClick:()=>Ye(a),children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-sm",children:["R$ ",a]}),e.jsx("div",{className:"text-xs opacity-80",children:2===a?"☕":5===a?"🥪":"🍽️"})]})},a))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-3 text-orange-700 dark:text-orange-300",children:"🎯 Ou escolha outro valor:"}),e.jsx("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[15,20,30].map(a=>e.jsx("button",{className:"h-10 rounded-lg transition-all duration-200 transform active:scale-95 "+(we===a?"bg-orange-500 hover:bg-orange-600 text-white shadow-md scale-105 ring-1 ring-orange-300":"bg-white/80 dark:bg-gray-800/50 border border-orange-200 dark:border-orange-700 text-orange-700 dark:text-orange-300 hover:bg-orange-100 dark:hover:bg-orange-900/40 hover:border-orange-400 hover:scale-102"),onClick:()=>Ye(a),children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"font-bold text-sm",children:["R$ ",a]}),e.jsx("div",{className:"text-xs opacity-80",children:15===a?"😊":20===a?"🤩":"🚀"})]})},a))}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"💰 Valor personalizado:"}),e.jsx(D,{type:"number",placeholder:"Digite o valor que desejar",value:Ce,onChange:e=>{return a=e.target.value,Ie(a),void(a&&ke(0));var a},className:"border-2 border-orange-200 dark:border-orange-700 focus:border-orange-400 focus:ring-orange-400/20 text-orange-900 dark:text-orange-100 placeholder:text-orange-400 bg-white/70 dark:bg-black/20"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 p-3 rounded-lg border border-orange-200/50 dark:border-orange-800/30",children:[e.jsxs("h4",{className:"font-medium text-orange-800 dark:text-orange-200 mb-2 flex items-center gap-1 text-sm",children:[e.jsx("span",{children:"💡"})," Como é usada:"]}),e.jsxs("ul",{className:"text-xs text-orange-700 dark:text-orange-300 space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full"}),"Servidor e hospedagem"]}),e.jsxs("li",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full"}),"Novas funcionalidades"]}),e.jsxs("li",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full"}),"Melhorias UX"]}),e.jsxs("li",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-orange-400 rounded-full"}),"Suporte técnico"]})]})]})]}),e.jsx("div",{className:"bg-gradient-to-r from-orange-100 to-amber-100 dark:from-orange-800/30 dark:to-amber-800/30 p-3 border-t border-orange-200/50 dark:border-orange-800/30",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-bold text-orange-800 dark:text-orange-200 text-sm",children:"🎯 Total:"}),e.jsxs("span",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:["R$ ",(Ce?parseFloat(Ce)||0:we).toFixed(2)]})]})}),e.jsxs("div",{className:"flex gap-2 p-3 pt-0",children:[e.jsx("button",{onClick:He,className:"flex-1 h-10 rounded-lg border border-orange-200 dark:border-orange-700 text-orange-600 dark:text-orange-300 hover:bg-orange-100 dark:hover:bg-orange-900/40 bg-white/80 dark:bg-gray-800/50 transition-all duration-200 transform active:scale-95 hover:border-orange-400 font-medium text-sm",children:"Cancelar"}),e.jsxs("button",{onClick:async()=>{const e=Ce?parseFloat(Ce):we,a=localStorage.getItem("pix_donation_config");if(a)try{const t=JSON.parse(a);if(t.key&&t.key.trim()){const a=t.key.trim();await Ze(a,e),He()}else alert("⚠️ Chave PIX não encontrada!\n\nConfigure um PIX de doações no Dashboard → Aba PIX\n\nMais informações no console."),i(`Obrigado pela contribuição de R$ ${e.toFixed(2)}! 💚`)}catch(t){alert("⚠️ Erro ao ler configuração PIX!\n\nVerifique as configurações no OwnerDashboard."),i(`Obrigado pela contribuição de R$ ${e.toFixed(2)}! 💚`)}else alert('⚠️ PIX de doações não configurado!\n\nComo Owner:\n1. Vá ao Dashboard Owner → Aba "PIX"\n2. Configure PIX de Doações\n3. Salve e teste novamente'),i(`Obrigado pela contribuição de R$ ${e.toFixed(2)}! 💚`)},disabled:!we&&!Ce,className:"flex-1 h-10 rounded-lg text-white font-bold shadow-md hover:shadow-lg transform transition-all duration-200 flex items-center justify-center gap-1 text-sm "+(we||Ce?"bg-gradient-to-r from-orange-500 to-amber-500 hover:from-orange-600 hover:to-amber-600 hover:scale-105 active:scale-95":"bg-gray-400 cursor-not-allowed"),children:[e.jsx(oe,{className:"w-3 h-3"}),"Contribuir via PIX"]})]})]})}),e.jsx(S,{open:v,onOpenChange:e=>{e?N(!0):(g(e=>({...e,[T]:!1})),N(!1),_(""),b(e=>({...e,[T]:!1})))},children:e.jsxs(z,{className:"max-w-sm mx-auto max-h-[90vh] overflow-hidden",children:[e.jsx(R,{className:"pb-2",children:e.jsxs(E,{className:"text-center text-lg font-bold flex items-center justify-center gap-2",children:["🎲 ",e.jsx("span",{children:"Sorteio de Times"})]})}),e.jsx("div",{className:"overflow-y-auto max-h-[70vh] px-1",children:p[T]?e.jsxs("div",{className:"space-y-6 py-8 text-center animate-in zoom-in-50 duration-500",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-maestros-green/20 rounded-full animate-spin",children:e.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-maestros-green rounded-full animate-spin"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(A,{className:"w-6 h-6 text-maestros-green animate-pulse"})})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-lg font-bold text-gray-700 animate-pulse",children:"🎲 Sorteando Times..."}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Distribuindo ",M," jogadores por time"]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{name:"PRETO",dot:"bg-black"},{name:"VERDE",dot:"bg-green-600"},{name:"CINZA",dot:"bg-gray-500"},{name:"VERMELHO",dot:"bg-red-600"}].map((a,t)=>e.jsx("div",{className:"bg-zinc-800 rounded-lg border border-zinc-700 p-2 animate-pulse",style:{animationDelay:200*t+"ms"},children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("div",{className:`w-2 h-2 ${a.dot} rounded-full animate-bounce`,style:{animationDelay:100*t+"ms"}}),e.jsx("span",{className:"text-xs font-medium text-white",children:a.name})]})},a.name))})]}):m[T]?e.jsxs("div",{className:"space-y-4 animate-in slide-in-from-right-5 duration-500",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-700 px-4 py-2 rounded-full text-sm font-medium animate-pulse",children:["✅ ",e.jsx("span",{children:"Sorteio Realizado!"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 p-3 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white animate-pulse"}),e.jsx("span",{className:"font-bold text-sm text-white",children:"TIME PRETO"}),e.jsxs("span",{className:"text-xs text-gray-300",children:["(",ne("Preto").length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[(ne("Preto")||[]).map((a,t)=>e.jsx("div",{className:"text-xs font-medium text-white bg-black/30 rounded px-2 py-1 animate-in fade-in duration-300",style:{animationDelay:100*t+"ms"},children:a?.name||"Jogador"},a?.id||`preto-${t}`)),0===(ne("Preto")||[]).length&&e.jsx("div",{className:"col-span-2 text-xs text-gray-400 italic text-center py-2",children:"Nenhum jogador"})]})]}),e.jsxs("div",{className:"bg-green-50 dark:bg-emerald-900/25 rounded-xl border border-green-200 dark:border-emerald-700 p-3 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-600 rounded-full animate-pulse"}),e.jsx("span",{className:"font-bold text-sm text-green-800 dark:text-emerald-200",children:"TIME VERDE"}),e.jsxs("span",{className:"text-xs text-green-600 dark:text-emerald-400",children:["(",ne("Verde").length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[(ne("Verde")||[]).map((a,t)=>e.jsx("div",{className:"text-xs font-medium text-green-800 dark:text-emerald-200 bg-white/50 dark:bg-slate-800/80 rounded px-2 py-1 animate-in fade-in duration-300",style:{animationDelay:100*t+"ms"},children:a?.name||"Jogador"},a?.id||`verde-${t}`)),0===(ne("Verde")||[]).length&&e.jsx("div",{className:"col-span-2 text-xs text-green-400 dark:text-emerald-500 italic text-center py-2",children:"Nenhum jogador"})]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 p-3 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-500 rounded-full animate-pulse"}),e.jsx("span",{className:"font-bold text-sm text-gray-700 dark:text-slate-200",children:"TIME CINZA"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-slate-400",children:["(",ne("Cinza").length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[(ne("Cinza")||[]).map((a,t)=>e.jsx("div",{className:"text-xs font-medium text-gray-700 dark:text-slate-200 bg-white/50 dark:bg-slate-700/80 rounded px-2 py-1 animate-in fade-in duration-300",style:{animationDelay:100*t+"ms"},children:a?.name||"Jogador"},a?.id||`cinza-${t}`)),0===(ne("Cinza")||[]).length&&e.jsx("div",{className:"col-span-2 text-xs text-gray-400 italic text-center py-2",children:"Nenhum jogador"})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-xl border border-red-200 p-3 transform transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-600 rounded-full animate-pulse"}),e.jsx("span",{className:"font-bold text-sm text-red-800",children:"TIME VERMELHO"}),e.jsxs("span",{className:"text-xs text-red-600",children:["(",ne("Vermelho").length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[(ne("Vermelho")||[]).map((a,t)=>e.jsx("div",{className:"text-xs font-medium text-red-800 bg-white/50 rounded px-2 py-1 animate-in fade-in duration-300",style:{animationDelay:100*t+"ms"},children:a?.name||"Jogador"},a?.id||`vermelho-${t}`)),0===(ne("Vermelho")||[]).length&&e.jsx("div",{className:"col-span-2 text-xs text-red-400 italic text-center py-2",children:"Nenhum jogador"})]})]})]}),e.jsxs("div",{className:"pt-3 sticky bottom-0 bg-white space-y-2",children:[e.jsxs(x,{onClick:()=>{g(e=>({...e,[T]:!1}))},className:"w-full bg-maestros-green hover:bg-maestros-green/90 text-white font-bold py-3 rounded-xl shadow-lg transform transition-all duration-200 active:scale-95",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),"Sortear Novamente"]}),e.jsxs(x,{onClick:()=>a("/match"),className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 rounded-xl shadow-lg transform transition-all duration-200 active:scale-95",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Ir para a Partida"]})]})]}):e.jsxs("div",{className:"space-y-5 animate-in slide-in-from-left-5 duration-500",children:[e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-base font-medium text-gray-700",children:"⚙️ Configurar Sorteio"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-slate-300",children:"Jogadores por time"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Escolha quantos jogadores cada time terá"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(x,{variant:"outline",onClick:()=>q(4),className:`h-16 ${4===M?"bg-maestros-green hover:bg-maestros-green/90 text-white border-maestros-green ring-2 ring-maestros-green/30":"bg-white dark:bg-slate-900 hover:bg-maestros-green/10 dark:hover:bg-emerald-900/25 text-gray-700 dark:text-slate-100 border-gray-300 dark:border-slate-700 hover:border-maestros-green"} transition-all duration-200 transform active:scale-95 rounded-xl`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"4"}),e.jsx("div",{className:"text-xs opacity-80",children:"4×4=16"}),e.jsx("div",{className:"text-xs opacity-60",children:"Menos jogadores"})]})}),e.jsx(x,{variant:"outline",onClick:()=>q(5),className:`h-16 ${5===M?"bg-maestros-green hover:bg-maestros-green/90 text-white border-maestros-green ring-2 ring-maestros-green/30":"bg-white dark:bg-slate-900 hover:bg-maestros-green/10 dark:hover:bg-emerald-900/25 text-gray-700 dark:text-slate-100 border-gray-300 dark:border-slate-700 hover:border-maestros-green"} transition-all duration-200 transform active:scale-95 rounded-xl`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"5"}),e.jsx("div",{className:"text-xs opacity-80",children:"5×4=20"}),e.jsx("div",{className:"text-xs opacity-60",children:"Mais rápido"})]})}),e.jsx(x,{variant:"outline",onClick:()=>q(6),className:`h-16 ${6===M?"bg-maestros-green hover:bg-maestros-green/90 text-white border-maestros-green ring-2 ring-maestros-green/30":"bg-white dark:bg-slate-900 hover:bg-maestros-green/10 dark:hover:bg-emerald-900/25 text-gray-700 dark:text-slate-100 border-gray-300 dark:border-slate-700 hover:border-maestros-green"} transition-all duration-200 transform active:scale-95 rounded-xl`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-xl font-bold",children:"6"}),e.jsx("div",{className:"text-xs opacity-80",children:"6×4=24"}),e.jsx("div",{className:"text-xs opacity-60",children:"Padrão"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 dark:text-slate-300",children:"Times que serão formados"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[M," jogadores cada"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-gray-900 rounded-lg border border-gray-700 transform transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"w-4 h-4 bg-black rounded-full border-2 border-white"}),e.jsx("span",{className:"font-bold text-xs text-white",children:"PRETO"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-green-800 rounded-lg border border-green-600 transform transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"w-4 h-4 bg-green-400 rounded-full border-2 border-white"}),e.jsx("span",{className:"font-bold text-xs text-white",children:"VERDE"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-gray-600 rounded-lg border border-gray-400 transform transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-300 rounded-full border-2 border-white"}),e.jsx("span",{className:"font-bold text-xs text-white",children:"CINZA"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 p-3 bg-red-800 rounded-lg border border-red-600 transform transition-all duration-300 hover:scale-105",children:[e.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full border-2 border-white"}),e.jsx("span",{className:"font-bold text-xs text-white",children:"VERMELHO"})]})]})]}),e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsxs("div",{className:"bg-maestros-green/10 border border-maestros-green/20 rounded-lg p-3 text-center",children:[e.jsxs("div",{className:"text-xs text-maestros-green font-medium",children:["🎯 Pronto para sortear ",4*M," jogadores"]}),e.jsxs("div",{className:"text-xs text-maestros-green/70 mt-1",children:[M," jogadores × 4 times"]})]}),e.jsx(x,{onClick:async()=>{if(T){b(e=>({...e,[T]:!0}));try{await new Promise(e=>setTimeout(e,1500)),await executeTeamDraw(T,M);ne("Preto");g(e=>({...e,[T]:!0})),b(e=>({...e,[T]:!1}))}catch(e){o(e.message||"Erro ao sortear times"),b(e=>({...e,[T]:!1}))}}},className:"w-full bg-maestros-green hover:bg-maestros-green/90 text-white border-none font-bold py-4 rounded-xl shadow-lg transform transition-all duration-200 active:scale-95",disabled:p[T],children:p[T]?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(h,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Sorteando..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("div",{className:"bg-white/20 p-1 rounded-full",children:e.jsx(A,{className:"w-4 h-4"})}),e.jsx("span",{children:"🎲 Iniciar Sorteio"})]})})]})]})})]})}),e.jsx(S,{open:Pe,onOpenChange:Se,children:e.jsxs(z,{className:"max-w-md mx-auto max-h-[90vh] overflow-hidden",children:[e.jsx(R,{className:"pb-3",children:e.jsxs(E,{className:"flex items-center gap-2 text-green-700 dark:text-green-300 text-base",children:[e.jsx("div",{className:"bg-gradient-to-br from-green-100 to-emerald-100 dark:from-green-800/30 dark:to-emerald-800/30 p-1.5 rounded-full",children:e.jsx(oe,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}),"🤖 PIX Inteligente Automático"]})}),e.jsxs("div",{className:"space-y-4",children:["pending"===$e&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),e.jsx("p",{className:"text-green-700 dark:text-green-300 text-sm font-medium",children:"🤖 Gerando seu PIX automaticamente..."})]}),"generated"===$e&&De&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg border border-green-200/50 dark:border-green-800/50",children:[e.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 text-sm mb-2 flex items-center gap-2",children:"🤖 PIX INTELIGENTE AUTOMÁTICO"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"✨ VALOR JÁ INTEGRADO - Cole e pague automaticamente!"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2 block",children:"📋 Código PIX Completo (Auto-pagamento):"}),e.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 p-3 rounded-lg border-2 border-dashed border-green-400 dark:border-green-500",children:e.jsx("p",{className:"text-xs font-mono text-gray-800 dark:text-gray-100 break-all leading-tight",children:De})})]}),e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-3 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("p",{className:"text-sm text-green-800 dark:text-green-200",children:["💰 ",e.jsxs("strong",{children:["Pagamemento: R$ ",Fe.toFixed(2)]}),e.jsx("span",{className:"text-xs block mt-1",children:"💡 Valor já está integrado no código!"})]})}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["🎯 ",e.jsx("strong",{children:"SUPER SIMPLES:"}),e.jsx("br",{}),'1️⃣ Tocque "Copiar PIX Inteligente"',e.jsx("br",{}),"2️⃣ Abra app do banco → Paste → PAGO automatic!"]})})]}),"copied"===$e&&De&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 p-4 rounded-lg text-center",children:[e.jsx("div",{className:"text-green-600 dark:text-green-400 text-3xl mb-2",children:"🎉"}),e.jsx("h4",{className:"font-semibold text-green-800 dark:text-green-200 text-sm mb-2",children:"✅ PIX Copiado Automaticamente!"}),e.jsxs("p",{className:"text-xs text-green-700 dark:text-green-300",children:["🎯 Código pronto na área de transferência!",e.jsx("br",{}),"📱 Cole agora no seu app do banco!"]})]})}),e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg",children:e.jsxs("p",{className:"text-xs text-amber-800 dark:text-amber-200",children:["⚡ ",e.jsx("strong",{children:"Sistema Inteligente:"})," Se o código completo não for aceito, use diretamente a chave PIX cadastrada"]})})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx(x,{variant:"outline",onClick:()=>{Se(!1),Oe("pending"),_e("")},className:"flex-1",children:"Fechar"}),De&&"copied"!==$e&&e.jsx(x,{onClick:async()=>{try{await navigator.clipboard.writeText(De),Oe("copied"),i("🎉 PIX COPIADO!\n\n💰 Valor incluído automaticamente!\n📱 Cole no app bancário!")}catch(e){try{const e=document.createElement("textarea");e.value=De,e.style.position="fixed",e.style.left="-9999px",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),Oe("copied"),i("🎉 PIX copiado pelo fallback!")}catch(a){i(`🔥 PIX GERADO!\n\n💰 Código: ${De.substring(0,50)}...\n\n📋 Copie manualmente!`)}}},className:"flex-1 bg-green-600 hover:bg-green-700 text-white font-semibold py-2 md:text-base text-sm",children:"🤖 Copiar PIX Inteligente"})]})]})}),e.jsx(Re,{open:y,onClose:()=>P(!1),players:O,selectedIds:F,onToggle:W,onSelectAll:Y,onClearAll:Z,onConfirm:async()=>{if(T)try{await K(T,M),i("Times sorteados com sucesso!"),g(e=>({...e,[T]:!0}))}catch(e){o(e.message||"Erro ao sortear times")}else o("ID da partida não encontrado")},minRequired:V.minRequired,playersPerTeam:M,onPlayersPerTeamChange:q}),X&&e.jsx(S,{open:!!X,onOpenChange:e=>{e||setTimeout(()=>{window.location.reload()},100)},children:e.jsxs(z,{className:"max-w-full sm:max-w-4xl max-h-[90vh] overflow-y-auto p-4 sm:p-6",children:[e.jsx(R,{children:e.jsxs(E,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Times Sorteados"]})}),e.jsx(Ae,{teams:X.teams,stats:X.stats,onRedraw:async()=>{if(T)try{await te(T,M),i("Times sorteados novamente!")}catch(e){o(e.message||"Erro ao sortear times")}else o("ID da partida não encontrado")},onSave:()=>{i("Times confirmados!"),a(`/match/${T}`)}})]})})]})}export{We as default};
