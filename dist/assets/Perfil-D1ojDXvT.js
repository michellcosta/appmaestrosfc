import{j as e,c as r,a as s,u as a,b as t,d as o,e as l,P as i,f as n,g as c,h as d}from"./vendor-ui-DOZUV3Wy.js";import{r as m}from"./vendor-react-Cf1qRDNe.js";import{c as u,B as x,C as h,d as g,T as p,j,a as f,u as b,S as v,R as y,Z as N,b as w,U as k,e as C}from"./index-Bsa-aCb5.js";import{u as M}from"./gamesStore-Cx_7RkeL.js";import{u as S}from"./usePermissions-7oGQgp6v.js";import{supabase as z}from"./supabase-BOE2RgTB.js";import{useAchievementsStore as P}from"./achievementsStore-DgXtQ8ry.js";import{B as _}from"./badge-D4egG7G3.js";import{I as A}from"./input-BYZJsBWd.js";import{S as q,a as D,b as G,c as R,d as E}from"./select-BAURzkwP.js";import{useMatchStore as T}from"./matchStore-DwrmAT5e.js";import{D as I,a as F,b as L,c as $,e as V}from"./dialog-DoEL0ppu.js";import{S as O,M as U}from"./sun-CwP83aJ2.js";import{u as B,T as H,S as K,a as Y,L as X}from"./useSimpleInvites-y2NvNo7h.js";import{M as W}from"./mail-D908SOYp.js";import{C as J}from"./check-B5t8Hm6r.js";import{C as Z}from"./copy-OQVcg4jZ.js";import{C as Q}from"./clock-DhlDhtTT.js";import{C as ee}from"./calendar-D6okV2Uj.js";import{E as re}from"./external-link-DlMQAwzS.js";import{u as se}from"./vendor-router-Cpu-KcQe.js";import{C as ae}from"./crown-m3m6Mn3s.js";import{S as te}from"./shield-BmDTv2cT.js";import{U as oe}from"./users-BrvS9_ZO.js";import{U as le}from"./user-plus-Dr4yQkrU.js";import"./vendor-supabase-C2G4akNc.js";import"./vendor-utils-CRulVwns.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=u("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ne=u("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ce=u("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),de=u("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),me=u("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ue=u("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),xe=u("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function he(e){const[r,s]=m.useState({totalGoals:0,totalAssists:0,totalMatches:0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:0,participation:0,totalTimePlayed:0,totalYellowCards:0,totalRedCards:0,averageRating:0,goalsPerMatch:0,assistsPerMatch:0,manOfMatchCount:0,lastMatchDate:null}),[a,t]=m.useState(!0),[o,l]=m.useState(null),[i,n]=m.useState([]),[c,d]=m.useState([]);m.useEffect(()=>{if(!e)return;const r=async()=>{try{t(!0),l(null);const{data:r,error:a}=await z.from("player_statistics").select("*").eq("player_id",e).single(),{data:o,error:i}=await z.from("goal_events").select("*").eq("player_id",e).order("created_at",{ascending:!1}),{data:c,error:m}=await z.from("goal_events").select("*").eq("assist_player_id",e).order("created_at",{ascending:!1}),{data:u,error:x}=await z.from("player_matches").select("*").eq("player_id",e).order("created_at",{ascending:!1});a&&a.code;const h=r?{totalGoals:r.total_goals||0,totalAssists:r.total_assists||0,totalMatches:r.total_matches||0,consecutiveMatches:0,totalPayments:0,victories:r.wins||0,draws:r.draws||0,defeats:r.losses||0,averageGoals:r.goals_per_match||0,participation:r.total_matches>0?Math.min(95,5*r.total_matches):0,totalTimePlayed:r.total_minutes_played||0,totalYellowCards:r.total_yellow_cards||0,totalRedCards:r.total_red_cards||0,averageRating:r.average_rating||0,goalsPerMatch:r.goals_per_match||0,assistsPerMatch:r.assists_per_match||0,manOfMatchCount:r.man_of_match_count||0,lastMatchDate:r.last_match_date||null}:{totalGoals:o?.length||0,totalAssists:c?.length||0,totalMatches:u?.length||0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:u?.length>0?Number(((o?.length||0)/u.length).toFixed(2)):0,participation:u?.length>0?Math.min(95,5*u.length):0,totalTimePlayed:u?.reduce((e,r)=>e+(r.minutes_played||0),0)||0,totalYellowCards:u?.reduce((e,r)=>e+(r.yellow_cards||0),0)||0,totalRedCards:u?.reduce((e,r)=>e+(r.red_cards||0),0)||0,averageRating:u?.length>0?Number((u.reduce((e,r)=>e+(r.rating||0),0)/u.length).toFixed(1)):0,goalsPerMatch:u?.length>0?Number(((o?.length||0)/u.length).toFixed(2)):0,assistsPerMatch:u?.length>0?Number(((c?.length||0)/u.length).toFixed(2)):0,manOfMatchCount:u?.filter(e=>e.is_man_of_match).length||0,lastMatchDate:u?.[0]?.created_at||null};n(o||[]),d(u||[]),s(h)}catch(r){l("Erro ao carregar estatísticas em tempo real"),s({totalGoals:0,totalAssists:0,totalMatches:0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:0,participation:0,totalTimePlayed:0,totalYellowCards:0,totalRedCards:0,averageRating:0,goalsPerMatch:0,assistsPerMatch:0,manOfMatchCount:0,lastMatchDate:null})}finally{t(!1)}};r();const a=setInterval(()=>{r()},3e4);return()=>{clearInterval(a)}},[e]);return{stats:r,loading:a,error:o,goalEvents:i,playerMatches:c,addGoal:async(r,a,t,o="Preto",l=0,i=1,n=!1,c=!1)=>{try{const{data:d,error:m}=await z.from("goal_events").insert({match_id:r,player_id:a,assist_player_id:t,team_color:o,minute:l,round_number:i,is_own_goal:n,is_penalty:c,created_by:e}).select().single();if(m)throw m;return s(e=>({...e,totalGoals:e.totalGoals+1,goalsPerMatch:e.totalMatches>0?Number(((e.totalGoals+1)/e.totalMatches).toFixed(2)):0})),await fetchPlayerStats(),d}catch(d){throw d}},addPlayerMatch:async(e,r,a,t="field",o=90)=>{try{const{data:l,error:i}=await z.from("player_matches").insert({player_id:r,match_id:e,team_color:a,position:t,minutes_played:o,goals_scored:0,assists:0,yellow_cards:0,red_cards:0,rating:0,is_man_of_match:!1}).select().single();if(i)throw i;return s(e=>({...e,totalMatches:e.totalMatches+1,totalTimePlayed:e.totalTimePlayed+o})),await fetchPlayerStats(),l}catch(l){throw l}},refreshStats:async()=>{await fetchPlayerStats()}}}const ge={basicas:{name:"Básicas",color:"green",description:"Primeiros passos no futebol",icon:"🥉"},intermediarias:{name:"Intermediárias",color:"blue",description:"Desenvolvendo suas habilidades",icon:"🥈"},avancadas:{name:"Avançadas",color:"purple",description:"Dominando o jogo",icon:"🥇"},lendarias:{name:"Lendárias",color:"gold",description:"Lendas do futebol",icon:"💎"},performance:{name:"Performance",color:"rainbow",description:"Habilidades especiais",icon:"⭐"},especiais:{name:"Especiais",color:"unique",description:"Conquistas únicas",icon:"👑"}},pe={common:{name:"Comum",color:"from-green-400 to-emerald-500",borderColor:"border-green-300 dark:border-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-800 dark:text-green-300"},rare:{name:"Rara",color:"from-blue-400 to-cyan-500",borderColor:"border-blue-300 dark:border-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-800 dark:text-blue-300"},epic:{name:"Épica",color:"from-purple-400 to-violet-500",borderColor:"border-purple-300 dark:border-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-800 dark:text-purple-300"},legendary:{name:"Lendária",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-300 dark:border-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",textColor:"text-yellow-800 dark:text-yellow-300"},mythic:{name:"Mítica",color:"from-pink-400 to-rose-500",borderColor:"border-pink-300 dark:border-pink-600",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-800 dark:text-pink-300"},unique:{name:"Única",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-300 dark:border-yellow-600",bgColor:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20",textColor:"text-yellow-800 dark:text-yellow-300"}};function je(e,r){const s=[];return s.push({id:"first-goal",name:"Primeiro Gol",emoji:"⚽",description:"1º gol da vida",requirement:1,current:e.totalGoals,unlocked:e.totalGoals>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"first-assist",name:"Primeira Assist",emoji:"🎯",description:"1ª assistência",requirement:1,current:e.totalAssists,unlocked:e.totalAssists>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"debutante",name:"Debutante",emoji:"⭐",description:"1ª partida",requirement:1,current:e.totalMatches,unlocked:e.totalMatches>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"first-payment",name:"Primeiro Pago",emoji:"💰",description:"1º pagamento",requirement:1,current:e.totalPayments,unlocked:e.totalPayments>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"primeiro-passo",name:"Primeiro Passo",emoji:"🏃",description:"Participar de 1 partida",requirement:1,current:e.totalMatches,unlocked:e.totalMatches>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"boas-vindas",name:"Boas Vindas",emoji:"👋",description:"Fazer login pela primeira vez",requirement:1,current:e.loginDays||0,unlocked:(e.loginDays||0)>=1,color:pe.common.color,borderColor:pe.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"nao-falto-uma",name:"Não Falto Uma",emoji:"🔗",description:"5 partidas seguidas",requirement:5,current:e.consecutiveMatches,unlocked:e.consecutiveMatches>=5,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"presente",name:"Presente",emoji:"🔥",description:"5 partidas total",requirement:5,current:e.totalMatches,unlocked:e.totalMatches>=5,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"velocista",name:"Velocista",emoji:"⚡",description:"Fazer 3 gols em 1 partida",requirement:3,current:0,unlocked:!1,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"precisao",name:"Precisão",emoji:"🎯",description:"5 assistências em 1 partida",requirement:5,current:0,unlocked:!1,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"resistencia",name:"Resistência",emoji:"💪",description:"Jogar 3 partidas seguidas",requirement:3,current:e.consecutiveMatches,unlocked:e.consecutiveMatches>=3,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"maratonista",name:"Maratonista",emoji:"🏃",description:"10 partidas em 1 mês",requirement:10,current:e.monthlyMatches||0,unlocked:(e.monthlyMatches||0)>=10,color:pe.rare.color,borderColor:pe.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"artilheiro",name:"Artilheiro",emoji:"🥊",description:"15+ gols total",requirement:15,current:e.totalGoals,unlocked:e.totalGoals>=15,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"criador",name:"Criador",emoji:"⚡",description:"10+ assistências",requirement:10,current:e.totalAssists,unlocked:e.totalAssists>=10,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"rei-futebol",name:"Rei do Futebol",emoji:"👑",description:"50 gols totais",requirement:50,current:e.totalGoals,unlocked:e.totalGoals>=50,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"mestre-assistencias",name:"Mestre das Assistências",emoji:"🎪",description:"25 assistências totais",requirement:25,current:e.totalAssists,unlocked:e.totalAssists>=25,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"campeao",name:"Campeão",emoji:"🏆",description:"20 vitórias totais",requirement:20,current:e.victories,unlocked:e.victories>=20,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"estrela",name:"Estrela",emoji:"⭐",description:"100 partidas jogadas",requirement:100,current:e.totalMatches,unlocked:e.totalMatches>=100,color:pe.epic.color,borderColor:pe.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"lenda-viva",name:"Lenda Viva",emoji:"🔥",description:"100 gols totais",requirement:100,current:e.totalGoals,unlocked:e.totalGoals>=100,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"mestre-supremo",name:"Mestre Supremo",emoji:"⚡",description:"50 assistências totais",requirement:50,current:e.totalAssists,unlocked:e.totalAssists>=50,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"imperador",name:"Imperador",emoji:"👑",description:"50 vitórias totais",requirement:50,current:e.victories,unlocked:e.victories>=50,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"lenda",name:"Lenda",emoji:"🌟",description:"200 partidas jogadas",requirement:200,current:e.totalMatches,unlocked:e.totalMatches>=200,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"campeao-absoluto",name:"Campeão Absoluto",emoji:"🏆",description:"100 vitórias totais",requirement:100,current:e.victories,unlocked:e.victories>=100,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"idolo",name:"Ídolo",emoji:"⭐",description:"500 partidas jogadas",requirement:500,current:e.totalMatches,unlocked:e.totalMatches>=500,color:pe.legendary.color,borderColor:pe.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"raio",name:"Raio",emoji:"⚡",description:"Gol em menos de 1 minuto",requirement:1,current:e.fastestGoal&&e.fastestGoal<60?1:0,unlocked:(e.fastestGoal||999)<60,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"atirador-elite",name:"Atirador de Elite",emoji:"🎯",description:"90% de precisão em gols",requirement:90,current:e.goalAccuracy||0,unlocked:(e.goalAccuracy||0)>=90,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"muralha",name:"Muralha",emoji:"🛡️",description:"0 gols sofridos em 5 partidas",requirement:5,current:e.cleanSheets||0,unlocked:(e.cleanSheets||0)>=5,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"hat-trick",name:"Hat-trick",emoji:"🔥",description:"3 gols em 1 partida",requirement:1,current:e.hatTricks||0,unlocked:(e.hatTricks||0)>=1,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"assistencia-perfeita",name:"Assistência Perfeita",emoji:"🎪",description:"5 assistências em 1 partida",requirement:1,current:e.perfectAssists||0,unlocked:(e.perfectAssists||0)>=1,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"mvp",name:"MVP",emoji:"👑",description:"Melhor jogador da partida",requirement:1,current:e.mvpCount||0,unlocked:(e.mvpCount||0)>=1,color:pe.mythic.color,borderColor:pe.mythic.borderColor,rarity:"mythic",category:"performance"}),"owner"===r&&s.push({id:"grande-lider",name:"O GRANDE LÍDER",emoji:"👑",description:"Soberano Supremo",requirement:1,current:1,unlocked:!0,color:pe.unique.color,borderColor:pe.unique.borderColor,rarity:"unique",category:"especiais"}),s.forEach(e=>{!e.unlocked&&e.requirement>0&&(e.progress=Math.min(100,e.current/e.requirement*100))}),s}function fe({playerStats:r,userRole:s,onClose:a}){const[t,o]=m.useState(""),[l,i]=m.useState("all"),[n,c]=m.useState("all"),[d,u]=m.useState(!1),j=m.useMemo(()=>je(r,s),[r,s]),f=m.useMemo(()=>{let e=j;var r,s;return t.trim()&&(e=function(e,r){if(!r.trim())return e;const s=r.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))}(e,t)),"all"!==l&&(r=e,e="all"===(s=l)?r:r.filter(e=>e.category===s)),"all"!==n&&(e=function(e,r){return"all"===r?e:e.filter(e=>e.rarity===r)}(e,n)),d&&(e=e.filter(e=>e.unlocked)),e},[j,t,l,n,d]),b=m.useMemo(()=>function(e){const r=e.length,s=e.filter(e=>e.unlocked).length;return{total:r,unlocked:s,locked:r-s,progress:r>0?Math.round(s/r*100):0,byCategory:e.reduce((e,r)=>(e[r.category]=(e[r.category]||0)+1,e),{}),byRarity:e.reduce((e,r)=>(e[r.rarity]=(e[r.rarity]||0)+1,e),{})}}(j),[j]),v=({figurinha:r})=>e.jsx(h,{className:`\n      relative overflow-hidden transition-all duration-300 hover:scale-105\n      ${r.unlocked?`bg-gradient-to-br ${r.color} ${pe[r.rarity].bgColor} border-2 ${r.borderColor}`:"bg-muted/50 border-muted"}\n    `,children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-3xl",children:r.emoji}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:r.unlocked?"default":"secondary",className:`\n                ${r.unlocked?`bg-gradient-to-r ${r.color} text-white`:"bg-muted text-muted-foreground"}\n              `,children:pe[r.rarity].name}),r.unlocked&&e.jsx(p,{className:"h-4 w-4 text-yellow-500"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:`font-bold text-lg ${r.unlocked?pe[r.rarity].textColor:"text-muted-foreground"}`,children:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r.description}),!r.unlocked&&void 0!==r.progress&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Progresso"}),e.jsxs("span",{children:[Math.round(r.progress),"%"]})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${r.progress}%`}})}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[r.current," / ",r.requirement]})]}),r.unlocked&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:"Desbloqueada!"})]})]})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Catálogo de Figurinhas"}),e.jsxs("p",{className:"text-muted-foreground",children:[b.unlocked," de ",b.total," figurinhas desbloqueadas (",b.progress,"%)"]})]}),a&&e.jsx(x,{variant:"outline",onClick:a,children:"Fechar"})]}),e.jsx(h,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:b.unlocked}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Desbloqueadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:b.locked}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Bloqueadas"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[b.progress,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Progresso"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:b.total}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})}),e.jsx(h,{children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(A,{placeholder:"Buscar figurinhas...",value:t,onChange:e=>o(e.target.value),className:"pl-10"})]}),e.jsxs(q,{value:l,onValueChange:i,children:[e.jsx(D,{children:e.jsx(G,{placeholder:"Categoria"})}),e.jsxs(R,{children:[e.jsx(E,{value:"all",children:"Todas as categorias"}),Object.entries(ge).map(([r,s])=>e.jsxs(E,{value:r,children:[s.icon," ",s.name]},r))]})]}),e.jsxs(q,{value:n,onValueChange:c,children:[e.jsx(D,{children:e.jsx(G,{placeholder:"Raridade"})}),e.jsxs(R,{children:[e.jsx(E,{value:"all",children:"Todas as raridades"}),Object.entries(pe).map(([r,s])=>e.jsx(E,{value:r,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${s.color}`}),s.name]})},r))]})]}),e.jsxs(x,{variant:d?"default":"outline",onClick:()=>u(!d),className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4"}),d?"Todas":"Desbloqueadas"]}),e.jsxs(x,{variant:"outline",onClick:()=>{o(""),i("all"),c("all"),u(!1)},className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"Limpar"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:f.map(r=>e.jsx(v,{figurinha:r},r.id))}),0===f.length&&e.jsx(h,{children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx(p,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma figurinha encontrada"}),e.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros para encontrar as figurinhas que procura."})]})})]})}function be(){const{theme:r,setTheme:s}=j(),a=[{id:"light",label:"Claro",icon:O},{id:"dark",label:"Escuro",icon:U},{id:"auto",label:"Automático",icon:ce}];return e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"Tema:"}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-zinc-700 p-1 rounded-lg",children:a.map(a=>{const t=a.icon,o=r===a.id;return e.jsx("button",{className:"h-8 w-8 p-0 transition-all duration-200 border-0 rounded-md flex items-center justify-center "+(o?"bg-maestros-green hover:bg-maestros-green/90 text-white shadow-sm":"bg-transparent hover:bg-maestros-green/10 text-gray-600 dark:text-gray-300 hover:text-maestros-green"),onClick:()=>s(a.id),title:a.label,children:e.jsx(t,{className:"w-4 h-4"})},a.id)})})]})}var ve=["PageUp","PageDown"],ye=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ne={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},we="Slider",[ke,Ce,Me]=r(we),[Se,ze]=s(we,[Me]),[Pe,_e]=Se(we),Ae=m.forwardRef((r,s)=>{const{name:o,min:l=0,max:i=100,step:n=1,orientation:c="horizontal",disabled:u=!1,minStepsBetweenThumbs:x=0,defaultValue:h=[l],value:g,onValueChange:p=()=>{},onValueCommit:j=()=>{},inverted:f=!1,form:b,...v}=r,y=m.useRef(new Set),N=m.useRef(0),w="horizontal"===c?Ge:Re,[k=[],C]=a({prop:g,defaultProp:h,onChange:e=>{const r=[...y.current];r[N.current]?.focus(),p(e)}}),M=m.useRef(k);function S(e,r,{commit:s}={commit:!1}){const a=function(e){return(String(e).split(".")[1]||"").length}(n),t=function(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}(Math.round((e-l)/n)*n+l,a),o=d(t,[l,i]);C((e=[])=>{const a=function(e=[],r,s){const a=[...e];return a[s]=r,a.sort((e,r)=>e-r)}(e,o,r);if(function(e,r){if(r>0){const s=function(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}(e);return Math.min(...s)>=r}return!0}(a,x*n)){N.current=a.indexOf(o);const r=String(a)!==String(e);return r&&s&&j(a),r?a:e}return e})}return e.jsx(Pe,{scope:r.__scopeSlider,name:o,disabled:u,min:l,max:i,valueIndexToChangeRef:N,thumbs:y.current,values:k,orientation:c,form:b,children:e.jsx(ke.Provider,{scope:r.__scopeSlider,children:e.jsx(ke.Slot,{scope:r.__scopeSlider,children:e.jsx(w,{"aria-disabled":u,"data-disabled":u?"":void 0,...v,ref:s,onPointerDown:t(v.onPointerDown,()=>{u||(M.current=k)}),min:l,max:i,inverted:f,onSlideStart:u?void 0:function(e){const r=function(e,r){if(1===e.length)return 0;const s=e.map(e=>Math.abs(e-r)),a=Math.min(...s);return s.indexOf(a)}(k,e);S(e,r)},onSlideMove:u?void 0:function(e){S(e,N.current)},onSlideEnd:u?void 0:function(){const e=M.current[N.current];k[N.current]!==e&&j(k)},onHomeKeyDown:()=>!u&&S(l,0,{commit:!0}),onEndKeyDown:()=>!u&&S(i,k.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:r})=>{if(!u){const s=ve.includes(e.key)||e.shiftKey&&ye.includes(e.key)?10:1,a=N.current;S(k[a]+n*s*r,a,{commit:!0})}}})})})})});Ae.displayName=we;var[qe,De]=Se(we,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ge=m.forwardRef((r,s)=>{const{min:a,max:t,dir:i,inverted:n,onSlideStart:c,onSlideMove:d,onSlideEnd:u,onStepKeyDown:x,...h}=r,[g,p]=m.useState(null),j=o(s,e=>p(e)),f=m.useRef(void 0),b=l(i),v="ltr"===b,y=v&&!n||!v&&n;function N(e){const r=f.current||g.getBoundingClientRect(),s=He([0,r.width],y?[a,t]:[t,a]);return f.current=r,s(e-r.left)}return e.jsx(qe,{scope:r.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:e.jsx(Ee,{dir:b,"data-orientation":"horizontal",...h,ref:j,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const r=N(e.clientX);c?.(r)},onSlideMove:e=>{const r=N(e.clientX);d?.(r)},onSlideEnd:()=>{f.current=void 0,u?.()},onStepKeyDown:e=>{const r=Ne[y?"from-left":"from-right"].includes(e.key);x?.({event:e,direction:r?-1:1})}})})}),Re=m.forwardRef((r,s)=>{const{min:a,max:t,inverted:l,onSlideStart:i,onSlideMove:n,onSlideEnd:c,onStepKeyDown:d,...u}=r,x=m.useRef(null),h=o(s,x),g=m.useRef(void 0),p=!l;function j(e){const r=g.current||x.current.getBoundingClientRect(),s=He([0,r.height],p?[t,a]:[a,t]);return g.current=r,s(e-r.top)}return e.jsx(qe,{scope:r.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:e.jsx(Ee,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const r=j(e.clientY);i?.(r)},onSlideMove:e=>{const r=j(e.clientY);n?.(r)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:e=>{const r=Ne[p?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:r?-1:1})}})})}),Ee=m.forwardRef((r,s)=>{const{__scopeSlider:a,onSlideStart:o,onSlideMove:l,onSlideEnd:n,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:m,...u}=r,x=_e(we,a);return e.jsx(i.span,{...u,ref:s,onKeyDown:t(r.onKeyDown,e=>{"Home"===e.key?(c(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):ve.concat(ye).includes(e.key)&&(m(e),e.preventDefault())}),onPointerDown:t(r.onPointerDown,e=>{const r=e.target;r.setPointerCapture(e.pointerId),e.preventDefault(),x.thumbs.has(r)?r.focus():o(e)}),onPointerMove:t(r.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&l(e)}),onPointerUp:t(r.onPointerUp,e=>{const r=e.target;r.hasPointerCapture(e.pointerId)&&(r.releasePointerCapture(e.pointerId),n(e))})})}),Te="SliderTrack",Ie=m.forwardRef((r,s)=>{const{__scopeSlider:a,...t}=r,o=_e(Te,a);return e.jsx(i.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...t,ref:s})});Ie.displayName=Te;var Fe="SliderRange",Le=m.forwardRef((r,s)=>{const{__scopeSlider:a,...t}=r,l=_e(Fe,a),n=De(Fe,a),c=m.useRef(null),d=o(s,c),u=l.values.length,x=l.values.map(e=>Be(e,l.min,l.max)),h=u>1?Math.min(...x):0,g=100-Math.max(...x);return e.jsx(i.span,{"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,...t,ref:d,style:{...r.style,[n.startEdge]:h+"%",[n.endEdge]:g+"%"}})});Le.displayName=Fe;var $e="SliderThumb",Ve=m.forwardRef((r,s)=>{const a=Ce(r.__scopeSlider),[t,l]=m.useState(null),i=o(s,e=>l(e)),n=m.useMemo(()=>t?a().findIndex(e=>e.ref.current===t):-1,[a,t]);return e.jsx(Oe,{...r,ref:i,index:n})}),Oe=m.forwardRef((r,s)=>{const{__scopeSlider:a,index:l,name:c,...d}=r,u=_e($e,a),x=De($e,a),[h,g]=m.useState(null),p=o(s,e=>g(e)),j=!h||(u.form||!!h.closest("form")),f=n(h),b=u.values[l],v=void 0===b?0:Be(b,u.min,u.max),y=function(e,r){return r>2?`Value ${e+1} of ${r}`:2===r?["Minimum","Maximum"][e]:void 0}(l,u.values.length),N=f?.[x.size],w=N?function(e,r,s){const a=e/2,t=He([0,50],[0,a]);return(a-t(r)*s)*s}(N,v,x.direction):0;return m.useEffect(()=>{if(h)return u.thumbs.add(h),()=>{u.thumbs.delete(h)}},[h,u.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[x.startEdge]:`calc(${v}% + ${w}px)`},children:[e.jsx(ke.ItemSlot,{scope:r.__scopeSlider,children:e.jsx(i.span,{role:"slider","aria-label":r["aria-label"]||y,"aria-valuemin":u.min,"aria-valuenow":b,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...d,ref:p,style:void 0===b?{display:"none"}:r.style,onFocus:t(r.onFocus,()=>{u.valueIndexToChangeRef.current=l})})}),j&&e.jsx(Ue,{name:c??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:b},l)]})});Ve.displayName=$e;var Ue=m.forwardRef(({__scopeSlider:r,value:s,...a},t)=>{const l=m.useRef(null),n=o(l,t),d=c(s);return m.useEffect(()=>{const e=l.current;if(!e)return;const r=window.HTMLInputElement.prototype,a=Object.getOwnPropertyDescriptor(r,"value").set;if(d!==s&&a){const r=new Event("input",{bubbles:!0});a.call(e,s),e.dispatchEvent(r)}},[d,s]),e.jsx(i.input,{style:{display:"none"},...a,ref:n,defaultValue:s})});function Be(e,r,s){return d(100/(s-r)*(e-r),[0,100])}function He(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const a=(r[1]-r[0])/(e[1]-e[0]);return r[0]+a*(s-e[0])}}Ue.displayName="RadioBubbleInput";var Ke=Ae,Ye=Ie,Xe=Le,We=Ve;const Je=m.forwardRef(({className:r,...s},a)=>e.jsxs(Ke,{ref:a,className:f("relative flex w-full touch-none select-none items-center",r),...s,children:[e.jsx(Ye,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:e.jsx(Xe,{className:"absolute h-full bg-primary"})}),e.jsx(We,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));function Ze({imageSrc:r,onCropComplete:s,onCancel:a}){const t=m.useRef(null),o=m.useRef(null),[l,i]=m.useState(1),[n,c]=m.useState(0),[d,u]=m.useState({x:0,y:0}),[h,g]=m.useState(!1),[p,j]=m.useState({x:0,y:0}),[f,b]=m.useState(!1),v=m.useCallback(()=>{const e=t.current,r=o.current;if(!e||!r||!f)return;const s=e.getContext("2d");if(!s)return;const a=300;e.width=a,e.height=a,s.clearRect(0,0,a,a),s.save(),s.beginPath(),s.arc(150,150,150,0,2*Math.PI),s.clip();s.translate(150+d.x,150+d.y),s.rotate(n*Math.PI/180),s.scale(l,l);const i=r.naturalWidth/r.naturalHeight;let c,m;i>1?(m=a,c=a*i):(c=a,m=a/i),s.drawImage(r,-c/2,-m/2,c,m),s.restore()},[l,n,d,f]);m.useEffect(()=>{f&&v()},[v,f]);const y=()=>{g(!1)};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("img",{ref:o,src:r,alt:"Original",className:"hidden",onLoad:()=>{b(!0)}}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsx("canvas",{ref:t,className:"border-2 border-zinc-200 rounded-full cursor-move select-none",style:{width:"300px",height:"300px",touchAction:"none"},onMouseDown:e=>{e.preventDefault(),g(!0),j({x:e.clientX-d.x,y:e.clientY-d.y})},onMouseMove:e=>{h&&(e.preventDefault(),u({x:e.clientX-p.x,y:e.clientY-p.y}))},onMouseUp:y,onMouseLeave:y,onTouchStart:e=>{e.preventDefault();const r=e.touches[0];g(!0),j({x:r.clientX-d.x,y:r.clientY-d.y})},onTouchMove:e=>{if(!h)return;e.preventDefault();const r=e.touches[0];u({x:r.clientX-p.x,y:r.clientY-p.y})},onTouchEnd:()=>{g(!1)},onWheel:e=>{e.preventDefault();const r=e.deltaY>0?-.1:.1,s=Math.max(.5,Math.min(3,l+r));i(s)}}),e.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-zinc-400 rounded-full pointer-events-none opacity-50"})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(xe,{className:"w-4 h-4"}),"Zoom"]}),e.jsxs("span",{className:"text-sm text-zinc-500",children:[Math.round(100*l),"%"]})]}),e.jsx(Je,{value:[l],onValueChange:e=>{i(e[0])},min:.5,max:3,step:.1,className:"w-full"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:()=>{c(e=>(e+90)%360)},className:"flex-1 flex items-center justify-center",children:[e.jsx(me,{className:"w-4 h-4 mr-2"}),"Girar"]}),e.jsx(x,{variant:"outline",size:"sm",onClick:()=>{i(1),c(0),u({x:0,y:0})},className:"flex-1",children:"Resetar"})]}),e.jsxs("div",{className:"text-xs text-zinc-500 text-center space-y-1",children:[e.jsxs("p",{className:"flex items-center justify-center gap-1",children:[e.jsx(de,{className:"w-3 h-3"}),"Arraste para mover a imagem"]}),e.jsx("p",{children:"Use o scroll do mouse ou slider para zoom"}),e.jsx("p",{children:"Toque e arraste funciona no mobile"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(x,{variant:"outline",onClick:a,className:"flex-1",children:"Cancelar"}),e.jsx(x,{onClick:()=>{try{const e=t.current;if(!e)return;const r=document.createElement("canvas"),a=r.getContext("2d");if(!a)return;const o=512;r.width=o,r.height=o,a.drawImage(e,0,0,o,o);const l=r.toDataURL("image/jpeg",.9);s(l)}catch(e){alert("Erro ao processar a imagem")}},className:"flex-1 bg-green-600 hover:bg-green-700",children:"Aplicar Recorte"})]})]})}function Qe({open:r,onOpenChange:s}){const{user:a}=b(),[t,o]=m.useState(null),[l,i]=m.useState(null),[n,c]=m.useState(null),{invites:d,loading:u,createInvite:p,copyToClipboard:j,cleanExpiredInvites:f,getRecentInvites:w,loadInvites:k}=B();m.useEffect(()=>{r&&k()},[r,k]);const C=async e=>{if(!a)return;const r=a.id||a.email||"unknown",s=await p(e,r);s?(i(e),c(s)):alert("Erro ao criar convite. Tente novamente.")},M=async e=>{await j(e.link)?(o(e.id),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar link. Verifique as permissões do navegador.")},S=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),z=e=>"mensalista"===e?"Mensalista":"Diarista",P=w(5);return e.jsx(I,{open:r,onOpenChange:s,children:e.jsxs(F,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(L,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5 text-blue-500"}),"Criar Convites para WhatsApp"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(h,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C("mensalista"),children:e.jsxs(g,{className:"p-6 text-center",children:[e.jsx(v,{className:"w-12 h-12 mx-auto text-purple-500 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-purple-600 mb-2",children:"Convite Mensalista"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Para jogadores que pagam mensalidade fixa"}),e.jsx(x,{className:"w-full bg-purple-600 hover:bg-purple-700",disabled:u,children:u?e.jsx(y,{className:"w-4 h-4 animate-spin"}):"Gerar Convite"})]})}),e.jsx(h,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C("diarista"),children:e.jsxs(g,{className:"p-6 text-center",children:[e.jsx(N,{className:"w-12 h-12 mx-auto text-orange-500 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-2",children:"Convite Diarista"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Para jogadores que pagam por partida"}),e.jsx(x,{className:"w-full bg-orange-600 hover:bg-orange-700",disabled:u,children:u?e.jsx(y,{className:"w-4 h-4 animate-spin"}):"Gerar Convite"})]})})]}),n&&e.jsx(h,{className:"border-2 border-green-200 bg-green-50 dark:bg-green-900/20",children:e.jsxs(g,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-5 h-5 text-green-500"}),e.jsxs("h3",{className:"text-lg font-semibold text-green-600",children:["Convite ",z(n.type)," Criado!"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Link do Convite:"}),e.jsx("div",{className:"text-sm font-mono text-gray-800 dark:text-gray-200 break-all",children:n.link})]}),e.jsx(x,{size:"sm",onClick:()=>M(n),className:"ml-3 flex items-center gap-1",variant:t===n.id?"default":"outline",children:t===n.id?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs",children:"Copiado!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Copiar"})]})})]})}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Mensagem para WhatsApp:"}),e.jsx(x,{size:"sm",onClick:()=>(async e=>{await j(e.message)?(o(`message_${e.id}`),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar mensagem. Verifique as permissões do navegador.")})(n),className:"flex items-center gap-1",variant:t===`message_${n.id}`?"default":"outline",children:t===`message_${n.id}`?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs",children:"Copiado!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Copiar"})]})})]}),e.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-line",children:n.message})]}),e.jsx(x,{onClick:()=>(async e=>{const r=`${e.message}\n\n🔗 Link: ${e.link}`;await j(r)?(o(`all_${e.id}`),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar conteúdo. Verifique as permissões do navegador.")})(n),className:"w-full bg-green-600 hover:bg-green-700",variant:(n.id,"default"),children:t===`all_${n.id}`?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Copiado! Cole no WhatsApp"]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Copiar Link + Mensagem"]})}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{className:"w-3 h-3"}),e.jsxs("span",{children:["Expira em ",S(n.expiresAt)]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),e.jsxs("span",{children:["Criado em ",S(n.createdAt)]})]})]})]})]})}),P.length>0&&e.jsx(h,{children:e.jsxs(g,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5 text-gray-500"}),"Convites Recentes (",P.length,")"]}),e.jsx("div",{className:"space-y-3",children:P.map(r=>{return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[(s=r.type,"mensalista"===s?e.jsx(v,{className:"w-5 h-5 text-purple-500"}):e.jsx(N,{className:"w-5 h-5 text-orange-500"})),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:z(r.type)}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Criado em ",S(r.createdAt)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Expira em ",S(r.expiresAt)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(x,{size:"sm",variant:"outline",onClick:()=>M(r),className:"flex items-center gap-1",children:t===r.id?e.jsxs(e.Fragment,{children:[e.jsx(J,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-xs",children:"Copiado!"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs",children:"Copiar"})]})}),e.jsx(x,{size:"sm",variant:"outline",onClick:()=>window.open(r.link,"_blank"),className:"flex items-center gap-1",children:e.jsx(re,{className:"w-4 h-4"})})]})]},r.id);var s})})]})}),0===d.length&&e.jsx(h,{children:e.jsxs(g,{className:"p-8 text-center",children:[e.jsx(W,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum convite criado"}),e.jsx("p",{className:"text-gray-500",children:"Crie seu primeiro convite clicando nos botões acima!"})]})})]}),e.jsxs(V,{children:[e.jsx(x,{variant:"outline",onClick:()=>s(!1),children:"Fechar"}),e.jsx(x,{onClick:f,variant:"outline",className:"text-orange-600 hover:text-orange-700",children:"Limpar Expirados"}),e.jsx(x,{onClick:async()=>{const e="🧪 TESTE DE CÓPIA - Maestros FC\n\nSe você está vendo esta mensagem, a função de cópia está funcionando!\n\n✅ Timestamp: "+(new Date).toLocaleString("pt-BR");await j(e)?alert("✅ Teste de cópia bem-sucedido! Cole em qualquer lugar para verificar."):alert("❌ Teste de cópia falhou! Verifique o console para mais detalhes.")},variant:"outline",className:"text-blue-600 hover:text-blue-700",children:"🧪 Testar Cópia"})]})]})})}function er(e){return e.trim().replace(/[<>]/g,"")}function rr({className:r,...s}){return e.jsx("div",{className:`animate-pulse rounded-md bg-gray-300 dark:bg-gray-600 ${r}`,...s})}function sr({size:r="large"}){return e.jsx(rr,{className:`${{small:"w-12 h-12",medium:"w-20 h-20",large:"w-32 h-32"}[r]} rounded-full`})}function ar(){return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(r=>e.jsx(h,{children:e.jsx(g,{className:"p-4 text-center",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx(rr,{className:"w-8 h-8 mx-auto mb-2 rounded"}),e.jsx(rr,{className:"h-6 w-8 mx-auto mb-2 rounded"}),e.jsx(rr,{className:"h-4 w-16 mx-auto rounded"})]})})},r))})}function tr(){return e.jsxs(h,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"w-6 h-6 rounded"}),e.jsx(rr,{className:"h-6 w-32 rounded"})]})}),e.jsx(g,{children:e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:Array.from({length:8}).map((r,s)=>e.jsxs("div",{className:"text-center p-3 bg-gray-200 dark:bg-gray-700 rounded-lg",children:[e.jsx(rr,{className:"w-8 h-8 mx-auto mb-2 rounded"}),e.jsx(rr,{className:"h-3 w-16 mx-auto mb-1 rounded"}),e.jsx(rr,{className:"h-3 w-12 mx-auto rounded"})]},s))})})]})}function or(){return e.jsx(h,{children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(sr,{size:"large"}),e.jsx(rr,{className:"h-8 w-24 rounded"})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-3",children:[e.jsxs("div",{children:[e.jsx(rr,{className:"h-8 w-48 mx-auto sm:mx-0 mb-2 rounded"}),e.jsx(rr,{className:"h-4 w-64 mx-auto sm:mx-0 rounded"})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-xl p-4 mt-4 border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(rr,{className:"w-4 h-4 rounded"}),e.jsx(rr,{className:"h-4 w-32 rounded"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rr,{className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(rr,{className:"h-3 w-16 mb-1 rounded"}),e.jsx(rr,{className:"h-4 w-20 rounded"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(rr,{className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(rr,{className:"h-3 w-16 mb-1 rounded"}),e.jsx(rr,{className:"h-4 w-20 rounded"})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsx(rr,{className:"h-8 w-20 rounded"})})]})]})})})}function lr(){return e.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:[e.jsx("div",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx(rr,{className:"h-6 w-24 mb-2 rounded"}),e.jsx(rr,{className:"h-4 w-48 rounded"})]}),e.jsx(rr,{className:"w-8 h-8 rounded"})]})}),e.jsx(or,{}),e.jsx(ar,{}),e.jsx(tr,{}),e.jsxs(h,{children:[e.jsx(w,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rr,{className:"w-5 h-5 rounded"}),e.jsx(rr,{className:"h-6 w-32 rounded"})]})}),e.jsx(g,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx(rr,{className:"w-12 h-12 mx-auto mb-4 rounded"}),e.jsx(rr,{className:"h-4 w-48 mx-auto rounded"})]})})]}),e.jsxs(h,{children:[e.jsx(w,{children:e.jsx(rr,{className:"h-6 w-24 rounded"})}),e.jsx(g,{children:e.jsx(rr,{className:"h-10 w-full rounded"})})]}),e.jsx(rr,{className:"h-10 w-full rounded"})]})}function ir({fileName:r,progress:s=0}){return e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Processando: ",r]}),e.jsx("div",{className:"mt-1 w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s}%`}})}),e.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:[Math.round(s),"% concluído"]})]})]})})}function nr(){const{user:r,loading:s,signOut:a,signInWithGoogle:t,updateAvatar:o}=b(),l=se();M(),S();const[i,n]=m.useState(!1),[c,d]=m.useState(!1),[u,j]=m.useState(!1),[f,v]=m.useState(""),[y,N]=m.useState(!1);m.useState(!1),m.useState(null),m.useState(!1);const z=m.useRef(null),[A,q]=m.useState("Meia"),[D,G]=m.useState("G"),[R,E]=m.useState(!1),[V,O]=m.useState([]),[U,B]=m.useState([]),[W,J]=m.useState(!1),[Z,Q]=m.useState(!1),[ee,re]=m.useState(()=>{const e=localStorage.getItem("playerRewards");return e?JSON.parse(e):{xp:0,coins:0,badges:[],titles:[],unlocked:[]}});m.useState(!1),m.useState([]),m.useState(new Set);const[ne,ce]=m.useState(0),[de,me]=m.useState(""),[ue,xe]=m.useState(!1),{stats:ge,loading:pe,error:ve}=he(r?.id||"");!function(e,r){const[s,a]=m.useState([]),[t,o]=m.useState([]),[l,i]=m.useState(null),{events:n,allEvents:c,round:d}=T();M();const{stats:u}=he(e),x=m.useCallback(()=>{if(!u)return;const e={totalGoals:u.totalGoals||0,totalAssists:u.totalAssists||0,totalMatches:u.totalMatches||0,totalPayments:u.totalPayments||0,consecutiveMatches:u.consecutiveMatches||0,victories:u.victories||0,fastestGoal:45,goalAccuracy:85,cleanSheets:3,hatTricks:1,perfectAssists:2,mvpCount:5,monthlyGoals:8,monthlyMatches:6,loginDays:15},s=je(e,r),t=l?je(l,r):[],n=s.filter(e=>{const r=t.find(r=>r.id===e.id);return e.unlocked&&(!r||!r.unlocked)});if(n.length>0){o(n);const e=n.map(e=>({id:`notification-${Date.now()}-${e.id}`,figurinha:e,timestamp:Date.now(),isNew:!0}));a(r=>[...e,...r])}i(e)},[u,r,l]);m.useEffect(()=>{u&&x()},[u]),m.useEffect(()=>{(n.length>0||c.length>0)&&x()},[n,c]);const h=m.useCallback(e=>{a(r=>r.map(r=>r.id===e?{...r,isNew:!1}:r))},[]),g=m.useCallback(()=>{a([])},[])}(r?.id||"",r?.role);const ye=m.useMemo(()=>({victories:ge.victories||0,totalGoals:ge.totalGoals||0,totalAssists:ge.totalAssists||0,totalMatches:ge.totalMatches||0,totalPayments:ge.totalPayments||0,consecutiveMatches:ge.consecutiveMatches||0}),[ge]),Ne=m.useMemo(()=>({totalGoals:ye.totalGoals,totalAssists:ye.totalAssists,totalMatches:ye.totalMatches,totalPayments:ye.totalPayments,consecutiveMatches:ye.consecutiveMatches,victories:ye.victories,fastestGoal:45,goalAccuracy:85,cleanSheets:3,hatTricks:1,perfectAssists:2,mvpCount:5,monthlyGoals:8,monthlyMatches:6,loginDays:15}),[ye]);m.useEffect(()=>{},[ge,pe]);const we=m.useRef(ee);m.useEffect(()=>{JSON.stringify(we.current)!==JSON.stringify(ee)&&(localStorage.setItem("playerRewards",JSON.stringify(ee)),we.current=ee)},[ee]),m.useMemo(()=>function(e){const r=Math.floor(e/100)+1,s=100*(r-1),a=100*r,t=(e-s)/(a-s)*100;return{level:r,xpToNext:a-e,progress:Math.min(100,Math.max(0,t))}}(ee.xp),[ee.xp]);const ke=m.useRef(null);m.useEffect(()=>{if(ge&&!pe){const e=function(e){const r=[],s=[];if(!e||"object"!=typeof e)return{isValid:!1,errors:["Dados de estatísticas devem ser um objeto válido"],warnings:[]};const a=["victories","totalGoals","totalAssists","totalMatches","totalPayments","consecutiveMatches"];for(const l of a)void 0!==e[l]&&null!==e[l]&&("number"!=typeof e[l]?r.push(`${l} deve ser um número`):Number.isInteger(e[l])?e[l]<0&&r.push(`${l} não pode ser negativo`):s.push(`${l} deve ser um número inteiro`));const t=0===r.length;let o;if(t){o={};for(const r of a)void 0!==e[r]&&null!==e[r]&&(o[r]=Math.max(0,Math.floor(e[r])))}return{isValid:t,errors:r,warnings:s,sanitizedData:o}}(ge);e.isValid||(B(e.warnings),J(!0),ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>{J(!1),B([])},3e3))}return()=>{ke.current&&clearTimeout(ke.current)}},[ge,pe]),m.useEffect(()=>{},[r]);const{subscribePlayerUpdates:Ce,unsubscribePlayerUpdates:Me,isRealtime:Se}=P();m.useEffect(()=>(r?.id&&Ce(r.id),()=>{r?.id&&Me(r.id)}),[r?.id]);const ze=m.useMemo(()=>[{id:"first-goal",name:"Primeiro Gol",emoji:"⚽",description:"1º gol da vida",requirement:1,current:ye.totalGoals,unlocked:ye.totalGoals>=1,color:"from-green-400 to-emerald-500",borderColor:"border-green-300 dark:border-green-600"},{id:"first-assist",name:"Primeira Assist",emoji:"🎯",description:"1ª assistência",requirement:1,current:ye.totalAssists,unlocked:ye.totalAssists>=1,color:"from-blue-400 to-cyan-500",borderColor:"border-blue-300 dark:border-blue-600"},{id:"debutante",name:"Debutante",emoji:"⭐",description:"1ª partida",requirement:1,current:ye.totalMatches,unlocked:ye.totalMatches>=1,color:"from-purple-400 to-indigo-500",borderColor:"border-purple-300 dark:border-purple-600"},{id:"first-payment",name:"Primeiro Pago",emoji:"💰",description:"1º pagamento",requirement:1,current:ye.totalPayments,unlocked:ye.totalPayments>=1,color:"from-yellow-400 to-amber-500",borderColor:"border-yellow-300 dark:border-yellow-600"},{id:"consecutive",name:"Não Falto Uma",emoji:"🔗",description:"5 partidas seguidas",requirement:5,current:ye.consecutiveMatches,unlocked:ye.consecutiveMatches>=5,color:"from-red-400 to-pink-500",borderColor:"border-red-300 dark:border-red-600"},{id:"presente",name:"Presente",emoji:"🔥",description:"5 partidas total",requirement:5,current:ye.totalMatches,unlocked:ye.totalMatches>=5,color:"from-emerald-400 to-teal-500",borderColor:"border-emerald-300 dark:border-emerald-600"},{id:"artilheiro",name:"Artilheiro",emoji:"🥊",description:"15+ gols total",requirement:15,current:ye.totalGoals,unlocked:ye.totalGoals>=15,color:"from-orange-400 to-red-500",borderColor:"border-orange-300 dark:border-orange-600"},{id:"criador",name:"Criador",emoji:"⚡",description:"10+ assistências",requirement:10,current:ye.totalAssists,unlocked:ye.totalAssists>=10,color:"from-violet-400 to-purple-500",borderColor:"border-violet-300 dark:border-violet-600"}],[ye]),Pe=m.useCallback(async e=>{const r=e.target.files?.[0];if(!r)return;const s=function(e){const r=[],s=[];if(!(e&&e instanceof File))return{isValid:!1,errors:["Arquivo inválido"],warnings:[]};e.type.startsWith("image/")||r.push("Arquivo deve ser uma imagem"),e.size>10485760&&r.push("Arquivo deve ter no máximo 10MB"),e.size<1024&&s.push("Arquivo muito pequeno, pode ser de baixa qualidade");const a="."+e.name.split(".").pop()?.toLowerCase();return[".jpg",".jpeg",".png",".gif",".webp"].includes(a)||s.push("Extensões recomendadas: JPG, PNG, GIF, WebP"),{isValid:0===r.length,errors:r,warnings:s}}(r);if(!s.isValid)return O(s.errors),B(s.warnings),J(!0),void setTimeout(()=>{J(!1),O([]),B([])},5e3);s.warnings.length>0&&(B(s.warnings),J(!0),setTimeout(()=>{J(!1),B([])},3e3)),me(r.name),xe(!0),ce(0);const a=setInterval(()=>{ce(e=>e>=90?(clearInterval(a),90):e+10)},100),t=new FileReader;t.onload=e=>{const r=e.target?.result;ce(100),setTimeout(()=>{v(r),j(!0),n(!1),xe(!1),ce(0),me("")},500)},t.onerror=()=>{alert("Erro ao ler arquivo. Tente novamente."),xe(!1),ce(0),me(""),clearInterval(a)},t.readAsDataURL(r),z.current&&(z.current.value="")},[]),_e=m.useCallback(async e=>{d(!0),j(!1);try{await o(e)}catch(r){alert("Erro ao atualizar avatar")}finally{d(!1),v(""),n(!1)}},[o]),Ae=m.useCallback(async()=>{try{await a(),l("/login")}catch(e){localStorage.removeItem("offline_user"),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},[a,l]);return s?e.jsx(lr,{}):r?e.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:[e.jsx("header",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:"Perfil"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Informações do seu perfil e configurações"})]}),"owner"===r.role&&e.jsx("button",{onClick:()=>l("/owner-dashboard"),className:"p-2 hover:bg-purple-100 hover:text-purple-700 transition-colors rounded-lg",title:"Acesso rápido ao Dashboard do Owner",children:e.jsx(ae,{className:"w-4 h-4 text-purple-600"})})]})}),s?e.jsx(or,{}):e.jsx(h,{children:e.jsx(g,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:"relative",children:r?.custom_avatar||r?.avatar_url||r?.avatar?e.jsx("img",{src:r.custom_avatar||r.avatar_url||r.avatar,alt:"Avatar",className:"w-28 h-28 sm:w-32 sm:h-32 rounded-full object-cover shadow-lg"}):e.jsx("div",{className:"w-28 h-28 sm:w-32 sm:h-32 bg-zinc-200 dark:bg-zinc-700 rounded-full flex items-center justify-center shadow-lg",children:e.jsx(k,{className:"w-12 h-12 sm:w-14 sm:h-14 text-zinc-500"})})}),e.jsxs("button",{onClick:()=>n(!0),className:"w-fit px-4 py-2 text-sm bg-blue-600 text-white rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors shadow-md",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Alterar Foto"]})]}),e.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold dark:text-zinc-100",children:r.name||"Usuário"}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:r.email||"E-mail não disponível"})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-xl p-4 mt-4 border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Informações do Jogador"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:e.jsx(H,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-1",children:"Posição"}),R?e.jsxs("select",{value:A,onChange:e=>q(e.target.value),className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg px-3 py-2 w-full",children:[e.jsx("option",{value:"Goleiro",children:"Goleiro"}),e.jsx("option",{value:"Zagueiro",children:"Zagueiro"}),e.jsx("option",{value:"Meia",children:"Meia"}),e.jsx("option",{value:"Atacante",children:"Atacante"})]}):e.jsx("p",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:A})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:e.jsx(k,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-1",children:"Tamanho"}),R?e.jsxs("select",{value:D,onChange:e=>G(e.target.value),className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg px-3 py-2 w-full",children:[e.jsx("option",{value:"G",children:"G"}),e.jsx("option",{value:"GG",children:"GG"})]}):e.jsx("p",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:D})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-4",children:e.jsxs("button",{onClick:()=>{if(R){const e=function(e){const r=[];e.position&&"string"!=typeof e.position?r.push("Posição deve ser uma string"):e.position&&(["Goleiro","Zagueiro","Meia","Atacante"].includes(e.position)||r.push("Posição deve ser uma das opções válidas: Goleiro, Zagueiro, Meia, Atacante"));e.shirtSize&&"string"!=typeof e.shirtSize?r.push("Tamanho da camisa deve ser uma string"):e.shirtSize&&(["P","M","G","GG","XG"].includes(e.shirtSize)||r.push("Tamanho da camisa deve ser um dos valores válidos: P, M, G, GG, XG"));const s=0===r.length;let a;return s&&(a={position:e.position?er(e.position):void 0,shirtSize:e.shirtSize?er(e.shirtSize):void 0}),{isValid:s,errors:r,warnings:[],sanitizedData:a}}({position:A,shirtSize:D});if(!e.isValid)return O(e.errors),B(e.warnings),J(!0),void setTimeout(()=>{J(!1),O([]),B([])},5e3)}E(!R)},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 "+(R?"bg-green-600 hover:bg-green-700 text-white shadow-md":"bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-700 dark:text-zinc-300"),children:[R?"Salvar":"Editar",e.jsx(K,{className:"w-4 h-4"})]})}),r.role&&e.jsxs(_,{variant:"secondary",className:"owner"===r.role?"mt-3 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-800":"admin"===r.role?"mt-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-800":"mt-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-200 dark:border-green-800",children:[e.jsx(te,{className:"w-3 h-3 mr-1"}),"owner"===r.role?"👑 Dono":"admin"===r.role?"🛡️ Admin":"aux"===r.role?"⚡ Auxiliar":"mensalista"===r.role?"⭐ Mensalista":"diarista"===r.role?"🔹 Diarista":"👤 Usuário"]}),"owner"===r.role&&e.jsxs(x,{onClick:()=>l("/owner-dashboard"),variant:"ghost",className:"mt-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white px-4 py-2 rounded-lg transition-colors",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Acessar Dashboard Completo"]})]})]})})}),pe?e.jsx(ar,{}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(h,{children:e.jsxs(g,{className:"p-4 text-center",children:[e.jsx(p,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:ye.victories}),e.jsx("div",{className:"text-sm text-zinc-500",children:"Vitórias"})]})}),e.jsx(h,{children:e.jsxs(g,{className:"p-4 text-center",children:[e.jsx(H,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:ye.totalGoals}),e.jsx("div",{className:"text-sm text-zinc-500",children:"Gols"})]})}),e.jsx(h,{children:e.jsxs(g,{className:"p-4 text-center",children:[e.jsx(Y,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:ye.totalAssists}),e.jsx("div",{className:"text-sm text-zinc-500",children:"Assistências"})]})})]}),!1,Se&&!pe&&e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Dados em tempo real ativo"]})}),ue&&e.jsx(ir,{fileName:de,progress:ne}),W&&e.jsxs("div",{className:"space-y-2",children:[V.length>0&&e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"!"})}),e.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-300",children:"Erros de Validação"})]}),e.jsx("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1",children:V.map((r,s)=>e.jsxs("li",{children:["• ",r]},s))})]}),U.length>0&&e.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"⚠"})}),e.jsx("h4",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-300",children:"Avisos"})]}),e.jsx("ul",{className:"text-sm text-yellow-700 dark:text-yellow-400 space-y-1",children:U.map((r,s)=>e.jsxs("li",{children:["• ",r]},s))})]})]}),pe?e.jsx(tr,{}):e.jsxs(h,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-300",children:[e.jsx(p,{className:"w-6 h-6"}),"Minhas Conquistas"]})}),e.jsxs(g,{children:[e.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:["owner"===r?.role&&e.jsxs("div",{className:"relative group",children:[e.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg border-4 border-yellow-300 dark:border-yellow-600 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx("div",{className:"text-4xl mb-1 drop-shadow-lg",children:"👑"}),e.jsx("div",{className:"text-xs font-bold text-white drop-shadow-md leading-tight",children:"O GRANDE LÍDER"}),e.jsx("div",{className:"text-xs text-yellow-100 drop-shadow-md mt-1",children:"Soberano Supremo"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"💎"})})]}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-black text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-10",children:[e.jsx("div",{className:"text-yellow-300 font-bold",children:"FIGURINHA LENDÁRIA"}),e.jsx("div",{children:"Owner do Projeto"}),e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]})]}),"owner"!==r?.role&&e.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-800 rounded-lg border-2 border-gray-300 dark:border-gray-600",children:[e.jsx("div",{className:"text-2xl text-gray-400 mb-1",children:"🔒"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Bloqueada"})]}),ze.map(r=>e.jsxs("div",{className:"relative text-center p-3 rounded-lg border-2 shadow-md transition-all duration-300 "+(r.unlocked?`bg-gradient-to-br ${r.color} ${r.borderColor} hover:scale-105`:"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"),children:[e.jsx("div",{className:"text-3xl mb-1 opacity-100",children:r.emoji}),e.jsx("div",{className:"text-xs font-bold drop-shadow-md "+(r.unlocked?"text-white":"text-gray-500"),children:r.name}),e.jsx("div",{className:"text-xs "+(r.unlocked?"text-gray-100":"text-gray-500"),children:r.description}),!r.unlocked&&r.current>0&&e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1",children:e.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-500",style:{width:`${Math.min(100,r.current/r.requirement*100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[r.current,"/",r.requirement]})]}),r.unlocked&&e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-xs",children:"✓"})})]},r.id))]}),e.jsxs("div",{className:"mt-4 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Progresso das Conquistas"}),e.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:[ze.filter(e=>e.unlocked).length,"/",ze.length]})]}),e.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-1000",style:{width:ze.filter(e=>e.unlocked).length/ze.length*100+"%"}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 text-xs text-zinc-600 dark:text-zinc-400",children:[e.jsxs("div",{children:["✅ Desbloqueadas: ",ze.filter(e=>e.unlocked).length]}),e.jsxs("div",{children:["🔒 Em progresso: ",ze.filter(e=>!e.unlocked&&e.current>0).length]})]})]}),"owner"===r?.role&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 text-center",children:[e.jsx("span",{className:"font-bold",children:"🎉 Parabéns! Você possui a figurinha lendária de Owner!"}),e.jsx("br",{}),e.jsx("span",{className:"text-xs",children:"Esta conquista excepcional destaca sua posição como fundador e líder do projeto."})]})}),!1,e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsxs(x,{onClick:()=>Q(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Catálogo de Figurinhas"]})})]})]}),e.jsxs(h,{children:[e.jsx(w,{children:e.jsx(C,{className:"flex items-center justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Partidas Recentes"]})})}),e.jsx(g,{children:e.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[e.jsx(H,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Nenhuma partida registrada ainda"})]})})]}),e.jsxs(h,{children:[e.jsx(w,{children:e.jsx(C,{children:"Configurações"})}),e.jsx(g,{className:"space-y-4",children:e.jsx(be,{})})]}),("admin"===r.role||"aux"===r.role)&&e.jsxs(h,{className:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/10",children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2 text-green-800 dark:text-green-300",children:[e.jsx(oe,{className:"w-5 h-5"}),"Ferramentas de Administração"]})}),e.jsx(g,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:[e.jsxs(x,{onClick:()=>{N(!0)},className:"w-full justify-start bg-green-600 hover:bg-green-700 text-white transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02]",variant:"default",children:[e.jsx(le,{className:"w-4 h-4 mr-2"}),"Criar Convites WhatsApp"]}),e.jsxs("div",{className:"mt-3 text-xs text-green-600 dark:text-green-400 space-y-1",children:[e.jsxs("p",{className:"flex items-center gap-1",children:["📱 ",e.jsx("strong",{children:"Mensalistas:"})," Link de convite válido por 1 dia"]}),e.jsxs("p",{className:"flex items-center gap-1",children:["📱 ",e.jsx("strong",{children:"Diaristas:"})," Link de convite válido por 1 dia"]}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Mensagem personalizada + URLs únicos para compartilhar"})]})]})})})]}),e.jsx("div",{children:e.jsxs(x,{variant:"destructive",onClick:Ae,className:"w-full flex items-center justify-center",title:"Sair da conta",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Sair da Conta"]})}),e.jsx(I,{open:i,onOpenChange:n,children:e.jsxs(F,{children:[e.jsx(L,{children:e.jsx($,{children:"Alterar Foto de Perfil"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-zinc-500",children:"Selecione uma imagem para ser sua foto de perfil."}),e.jsx("input",{ref:z,type:"file",accept:"image/*",onChange:Pe,className:"w-full",hidden:!0}),e.jsxs(x,{onClick:()=>z.current?.click(),className:"w-full",children:[e.jsx(ie,{className:"w-4 h-4 mr-2"}),"Selecionar Imagem"]})]})]})}),u&&e.jsx(I,{open:u,onOpenChange:j,children:e.jsxs(F,{className:"max-w-md",children:[e.jsx(L,{children:e.jsx($,{children:"Recortar Imagem"})}),e.jsx(Ze,{imageSrc:f,onCropComplete:_e,onCancel:()=>j(!1)})]})}),("admin"===r.role||"aux"===r.role)&&e.jsx(Qe,{open:y,onOpenChange:N}),e.jsx(I,{open:Z,onOpenChange:Q,children:e.jsxs(F,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[e.jsx(L,{children:e.jsxs($,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-6 h-6"}),"Catálogo de Figurinhas"]})}),e.jsx(fe,{playerStats:Ne,userRole:r?.role,onClose:()=>Q(!1)})]})})]}):e.jsx("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:e.jsx(h,{children:e.jsxs(g,{className:"p-6 text-center",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Acesso Restrito"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Você precisa estar logado para acessar seu perfil."}),e.jsx(x,{onClick:()=>l("/simple-auth"),children:"Fazer Login"})]})})})}Je.displayName=Ke.displayName;export{nr as default};
