const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vendor-pdf-zyjwHXYs.js","assets/vendor-supabase-Dvt-yfip.js","assets/vendor-react-Cf1qRDNe.js","assets/vendor-ui-Crwl98nu.js"])))=>i.map(i=>d[i]);
import{_ as e}from"./vendor-supabase-Dvt-yfip.js";import{j as s}from"./vendor-ui-Crwl98nu.js";import{r as t}from"./vendor-react-Cf1qRDNe.js";import{c as a,u as r,B as i,C as n,d as l,T as c,U as d,S as o,D as m,Z as x,h}from"./index-D4lv_L5s.js";import{D as u,a as j,b as g,c as p,d as b,e as v}from"./dialog-CH6W1Vak.js";import{L as f}from"./label-C1dG6DTd.js";import{S as N,a as z,b as w,c as y,d as k}from"./select-DOFi3y6O.js";import{T as S,a as A,b as C}from"./tabs-iWnRdRAn.js";import{useMatchStore as E}from"./matchStore-DwrmAT5e.js";import{usePlayersStore as P}from"./playersStore-BTpHLPJw.js";import{u as D}from"./gamesStore-Cx_7RkeL.js";import{u as T}from"./usePermissions-Dx433XVy.js";import{u as V}from"./vendor-router-Cpu-KcQe.js";import{C as F}from"./crown-CPnk1FlJ.js";import{T as M}from"./trash-2-3xRMomrh.js";import{F as R}from"./file-text-Xq4wvnQi.js";import{C as O}from"./calendar-CWrH74dQ.js";import{H as $}from"./history-CrT7s-yr.js";import{D as B}from"./database-wzY-4vyB.js";import{S as L}from"./shield-Cw7Op2NE.js";import"./vendor-utils-CRulVwns.js";import"./check-BOIfqwE8.js";import"./supabase-Bm48QYjr.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=a("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),I=a("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),J=a("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),H={Preto:"bg-zinc-800 text-white border-2 border-zinc-300 dark:border-zinc-600",Verde:"bg-emerald-600 text-white border-2 border-emerald-300 dark:border-emerald-400",Cinza:"bg-slate-500 text-white border-2 border-slate-300 dark:border-slate-400",Vermelho:"bg-red-600 text-white border-2 border-red-300 dark:border-red-400"},q=({color:e,className:t})=>s.jsx("span",{className:["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium w-8 h-8 shadow-md",H[e],t||""].join(" ")}),_=()=>{const{round:a,durationMin:h,events:$,allEvents:B,history:I,setDuration:H,start:_,pause:Q,reset:Y,addGoal:Z,editGoal:W,deleteGoal:X,endRoundChooseNext:K,getAllEvents:ee,clearHistory:se,clearEvents:te,clearAll:ae,resetToInitialState:re,recomputeScores:ie}=E(),{players:ne,currentMatchId:le,loadPlayersFromTeamDraw:ce,getPlayersByTeam:de,getActivePlayersByTeam:oe,substitutePlayer:me,addSubstitution:xe,getPlayerByName:he}=P();D();const{canControlMatch:ue}=T(),je=()=>{const e=[];return["Preto","Verde","Cinza","Vermelho"].forEach(s=>{de(s).length>0&&e.push(s)}),e},{user:ge}=r(),pe=V(),be=a&&Array.isArray(a.inPlay)&&2===a.inPlay.length?a:{inPlay:["Preto","Verde"],scores:{},number:a?.number??1,running:!!a?.running},ve=Array.isArray($)?$:[],fe=Array.isArray(I)?I:[],Ne=E(e=>{const s="number"==typeof e.now?e.now:Date.now();return("number"==typeof e.accumulatedSec?e.accumulatedSec:0)+(e.runningSince?Math.max(Math.floor((s-e.runningSince)/1e3),0):0)}),ze=Ne>=60*h,we=t.useRef(null);t.useEffect(()=>{const e=we.current;if(e)if(ze&&!be.running)e.loop=!0,e.volume=.5,e.play().catch(()=>{});else try{e.pause(),e.currentTime=0}catch{}},[ze,be.running]),t.useEffect(()=>{be.running&&ze&&Q()},[ze,be.running,Q]);const ye=t.useMemo(()=>Math.floor(Ne/60).toString().padStart(2,"0")+":"+(Ne%60).toString().padStart(2,"0"),[Ne]),[ke,Se]=t.useState(!1),[Ae,Ce]=t.useState(null),[Ee,Pe]=t.useState("Preto"),[De,Te]=t.useState(""),[Ve,Fe]=t.useState("none"),[Me,Re]=t.useState(!1),[Oe,$e]=t.useState(null);t.useEffect(()=>{(async()=>{try{await ce("")}catch(e){}})()},[ce]);const[Be,Le]=t.useState(!1),[Ge,Ie]=t.useState("Preto"),[Je,He]=t.useState(!1),[qe,_e]=t.useState("Preto"),[Ue,Qe]=t.useState(""),[Ye,Ze]=t.useState(""),[We,Xe]=t.useState(!1),[Ke,es]=t.useState(null),[ss,ts]=t.useState(!1),[as,rs]=t.useState(null),[is,ns]=t.useState(!1),[ls,cs]=t.useState(null),[ds,os]=t.useState(null);t.useEffect(()=>()=>{ds&&clearTimeout(ds)},[ds]);const ms=()=>{ds&&(clearTimeout(ds),os(null)),ts(!1),rs(null),ns(!1),cs(null)},xs=e=>{const s=de(e);if(s.length>0){return s.map(e=>e.name)}return[]},hs=e=>{Ce(e.id),Pe(e.team),Te(e.author||xs(e.team)[0]||""),Fe(e.assist??"none"),Se(!0)},us=e=>{$e(e),Re(!0)};t.useEffect(()=>{ke&&"none"!==Ve&&Ve===De&&Fe("none")},[De,Ve,ke]),t.useEffect(()=>{ie()},[ie]);const[js,gs]=be.inPlay;be.scores[js],be.scores[gs];const ps=["Preto","Verde","Cinza","Vermelho"].filter(e=>e!==js&&e!==gs),bs=t.useMemo(()=>{const e=Array.isArray(B)?B:[],s={};for(const t of e)t.author&&(s[t.author]=s[t.author]||{g:0,a:0},s[t.author].g+=1),t.assist&&(s[t.assist]=s[t.assist]||{g:0,a:0},s[t.assist].a+=1);return Object.entries(s).map(([e,s])=>({name:e,g:s.g,a:s.a})).sort((e,s)=>s.g-e.g||s.a-e.a||e.name.localeCompare(s.name))},[B]),[vs,fs]=t.useState("week"),Ns=t.useMemo(()=>{const e=fe;if("all"===vs)return e;const s=new Date;return e.filter(e=>{const t=new Date(e.ts);if("week"===vs){return(s.getTime()-t.getTime())/864e5<=7}return t.getMonth()===s.getMonth()&&t.getFullYear()===s.getFullYear()})},[fe,vs]),zs=()=>{try{const e=we.current;e&&(e.pause(),e.currentTime=0)}catch{}Y()},ws=()=>{const[e,s]=a.inPlay;if((a.scores[e]??0)===(a.scores[s]??0))return void((e,s)=>{const t=["Preto","Verde","Cinza","Vermelho"];if(!t.includes(e)||!t.includes(s))return;ms(),ns(!0),ts(!0);const a=setTimeout(()=>{const t=Math.random()>.5?e:s;rs(t),ns(!1),os(null)},3e3);os(a)})(e,s);const t=["Preto","Verde","Cinza","Vermelho"];if("Cinza"!==e&&"Cinza"!==s)Ie("Cinza");else{const a=t.filter(t=>t!==e&&t!==s);Ie(a[0]||"Preto")}Le(!0)},ys=e=>{const s=de(e),t=oe(e);return{playersOut:t.map(e=>e.name),playersIn:s.filter(e=>!t.find(s=>s.name===e.name)).map(e=>e.name)}};return s.jsxs("div",{className:"mx-auto w-full max-w-4xl px-4 py-5 pb-[120px] sm:pb-5",children:[s.jsx("header",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:s.jsxs("div",{className:"flex items-center justify-between p-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:"Partida ao Vivo"}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:["Rodada ",be.number]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:["owner"===ge?.role&&s.jsx(i,{variant:"ghost",size:"sm",onClick:()=>pe("/owner-dashboard"),className:"p-2 hover:bg-purple-100 dark:hover:bg-purple-900/30 hover:text-purple-700 dark:hover:text-purple-300 transition-colors",title:"Acesso r√°pido ao Dashboard do Owner",children:s.jsx(F,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"})}),ge?.role&&"owner"!==ge.role&&s.jsxs("div",{className:"flex items-center space-x-1 text-sm text-maestros-green dark:text-green-400",children:[(e=>{switch(e){case"owner":return s.jsx(F,{className:"w-4 h-4 text-role-owner"});case"admin":return s.jsx(L,{className:"w-4 h-4 text-role-admin"});case"aux":return s.jsx(x,{className:"w-4 h-4 text-role-aux"});case"mensalista":return s.jsx(o,{className:"w-4 h-4 text-role-mensalista"});case"diarista":return s.jsx(x,{className:"w-4 h-4 text-role-diarista"});default:return s.jsx(d,{className:"w-4 h-4 text-role-default"})}})(ge.role),s.jsx("span",{className:"hidden sm:inline font-medium",children:"admin"===ge.role?"Admin":"aux"===ge.role?"Auxiliar":"mensalista"===ge.role?"Mensalista":"diarista"===ge.role?"Diarista":"Usu√°rio"})]})]})]})}),s.jsx(n,{className:"mb-3 rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800",children:s.jsx(l,{className:"p-4 sm:p-6",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:["text-5xl sm:text-6xl font-extrabold tabular-nums",ze&&!be.running?"text-red-600 motion-safe:animate-pulse [animation-duration:350ms]":""].join(" "),"aria-live":"polite",children:ye}),s.jsx("audio",{ref:we,preload:"auto",className:"hidden",src:"data:audio/wav;base64,UklGRm4AAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABYAAAChAAAAAAAaAABSUQAA////AP///wD///8A////AP///wD///8A////AP///wD///8A"}),ue()&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f,{className:"text-sm text-zinc-600",children:"Dura√ß√£o:"}),s.jsxs(N,{value:String(h),onValueChange:e=>H(Number(e)),disabled:be.running,children:[s.jsx(z,{className:"w-[110px]",children:s.jsx(w,{placeholder:"Minutos"})}),s.jsx(y,{children:[5,8,10,12,15].map(e=>s.jsxs(k,{value:String(e),children:[e," min"]},e))})]})]}),ue()&&s.jsxs("div",{className:"hidden w-full sm:grid grid-cols-3 gap-2",children:[be.running?s.jsx(i,{type:"button",onClick:Q,className:"h-12 w-full bg-amber-500 hover:bg-amber-500/90",children:"Pausar"}):s.jsx(i,{type:"button",onClick:_,className:"h-12 w-full",children:"Iniciar"}),s.jsx(i,{type:"button",onClick:zs,className:"h-12 w-full bg-sky-500 hover:bg-sky-600 text-white",children:"Recome√ßar"}),s.jsx(i,{type:"button",onClick:ws,className:"h-12 w-full bg-rose-500 hover:bg-rose-600 text-white",children:"Encerrar"})]})]})})}),ue()&&s.jsx("div",{className:"md:hidden mb-3",children:s.jsx(n,{className:"rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800",children:s.jsx(l,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-center gap-3",children:[be.running?s.jsx("button",{type:"button",onClick:Q,className:"w-12 h-12 rounded-full bg-amber-500 hover:bg-amber-600 active:scale-95 transition-all duration-200 flex items-center justify-center text-white shadow-md hover:shadow-lg",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})})}):s.jsx("button",{type:"button",onClick:_,className:"w-12 h-12 rounded-full bg-emerald-600 hover:bg-emerald-700 active:scale-95 transition-all duration-200 flex items-center justify-center text-white shadow-md hover:shadow-lg",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{type:"button",onClick:zs,className:"w-12 h-12 rounded-full bg-sky-500 hover:bg-sky-600 active:scale-95 transition-all duration-200 flex items-center justify-center text-white shadow-md hover:shadow-lg",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"})})}),s.jsx("button",{type:"button",onClick:ws,className:"w-12 h-12 rounded-full bg-rose-500 hover:bg-rose-600 active:scale-95 transition-all duration-200 flex items-center justify-center text-white shadow-md hover:shadow-lg",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M6 6h12v12H6z"})})})]})})})}),s.jsx(n,{className:"rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 mb-3",children:s.jsxs(l,{className:"p-4 sm:p-5",children:[s.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2 mb-3",children:[s.jsx(c,{className:"h-4 w-4 text-emerald-600"})," Placar"]}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:[js,gs].map(e=>s.jsxs("div",{className:"flex items-center justify-between gap-3 rounded-xl border px-3 py-2 min-h-12",children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(q,{color:e}),s.jsx("span",{className:"text-sm truncate",children:e})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tabular-nums",children:be.scores[e]??0}),ue()&&je().length>0&&s.jsx(i,{type:"button",variant:"outline",size:"sm",onClick:()=>(e=>{_e(e),Qe(""),Ze(""),He(!0)})(e),disabled:!be.running,"aria-label":"Substitui√ß√£o do "+e,className:"h-8 w-8 p-0",children:"‚áÑ"}),ue()&&s.jsx(i,{type:"button",variant:"outline",size:"sm",onClick:()=>(e=>{be.running&&(Ce(null),Pe(e),Te(xs(e)[0]??""),Fe("none"),Se(!0))})(e),disabled:!be.running,"aria-label":"Adicionar gol do "+e,className:"h-8 w-8 p-0",children:"+"})]})]},e))})]})}),s.jsx(n,{className:"rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 mb-3",children:s.jsxs(l,{className:"p-4 sm:p-5",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2",children:"Gols da partida"}),0===ve.length?s.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhum gol registrado ainda."}):s.jsx("ul",{className:"space-y-2",children:ve.slice().reverse().map(e=>s.jsxs("li",{className:"flex items-center justify-between gap-2 rounded-lg border px-3 py-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{color:e.team}),s.jsxs("div",{className:"text-sm",children:[s.jsx("div",{children:s.jsx("strong",{children:e.author})}),e.assist&&s.jsxs("div",{className:"text-xs text-zinc-500",children:["assist√™ncia: ",e.assist]})]})]}),ue()&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(i,{type:"button",variant:"outline",size:"icon",className:"sm:hidden",onClick:()=>hs(e),"aria-label":"Editar gol",title:"Editar",children:[s.jsx(G,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Editar"})]}),s.jsxs(i,{type:"button",variant:"secondary",size:"icon",className:"sm:hidden",onClick:()=>us(e),"aria-label":"Excluir gol",title:"Excluir",children:[s.jsx(M,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Excluir"})]}),s.jsx(i,{type:"button",variant:"outline",size:"sm",className:"hidden sm:inline-flex",onClick:()=>hs(e),children:"Editar"}),s.jsx(i,{type:"button",variant:"secondary",size:"sm",className:"hidden sm:inline-flex",onClick:()=>us(e),children:"Excluir"})]})]},e.id))})]})}),s.jsx(n,{className:"rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800 mb-3",children:s.jsxs(l,{className:"p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-4 h-4 text-maestros-green"}),s.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Estat√≠sticas dos Jogadores"})]}),s.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[ve.length," ",1===ve.length?"gol":"gols"," nesta partida"]})]}),0===bs.length?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-12 h-12 mx-auto mb-3 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-6 h-6 text-zinc-400"})}),s.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Nenhum gol registrado ainda"}),s.jsx("p",{className:"text-xs text-zinc-400 dark:text-zinc-500 mt-1",children:"Os gols aparecer√£o aqui conforme forem marcados"})]}):s.jsxs("div",{className:"space-y-3",children:[bs.slice(0,3).map((e,t)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-zinc-50 to-zinc-100 dark:from-zinc-800/50 dark:to-zinc-700/50 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm "+(0===t?"bg-yellow-500":1===t?"bg-gray-400":"bg-amber-600"),children:t+1}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm text-zinc-900 dark:text-zinc-100",children:e.name}),s.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[e.g+e.a," participa√ß√µes ‚Ä¢ ",e.g,"G ",e.a,"A"]})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-emerald-600 dark:text-emerald-400",children:e.g}),s.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Gols"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-blue-600 dark:text-blue-400",children:e.a}),s.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"Assist."})]})]})]},e.name)),bs.length>3&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 mb-2",children:"Outros jogadores"}),bs.slice(3).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-zinc-50 dark:bg-zinc-800/30 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center",children:s.jsx(d,{className:"w-3 h-3 text-zinc-500"})}),s.jsx("span",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:e.name})]}),s.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[s.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:[e.g,"G"]}),s.jsxs("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:[e.a,"A"]})]})]},e.name))]})]}),bs.length>0&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-700 dark:text-blue-300",children:[s.jsx(c,{className:"w-3 h-3"}),s.jsx("span",{children:'As estat√≠sticas s√£o persistentes e s√≥ zeram na pr√≥xima partida agendada ou ao usar "Reset Total"'})]})})]})}),s.jsx("div",{className:"mb-3",children:s.jsx(S,{value:vs,onValueChange:e=>fs(e),children:s.jsxs(A,{className:"grid grid-cols-3 w-full h-12 p-1 rounded-lg bg-zinc-100 dark:bg-zinc-800 items-center justify-center",children:[s.jsx(C,{value:"week",className:"flex items-center justify-center h-6 px-1.5 rounded text-xs font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-zinc-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-zinc-700 dark:data-[state=active]:text-zinc-100 text-zinc-600 dark:text-zinc-300",children:"Semana"}),s.jsx(C,{value:"month",className:"flex items-center justify-center h-6 px-1.5 rounded text-xs font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-zinc-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-zinc-700 dark:data-[state=active]:text-zinc-100 text-zinc-600 dark:text-zinc-300",children:"M√™s"}),s.jsx(C,{value:"all",className:"flex items-center justify-center h-6 px-1.5 rounded text-xs font-medium transition-all data-[state=active]:bg-white data-[state=active]:text-zinc-900 data-[state=active]:shadow-sm dark:data-[state=active]:bg-zinc-700 dark:data-[state=active]:text-zinc-100 text-zinc-600 dark:text-zinc-300",children:"Todos"})]})})}),s.jsx(n,{className:"rounded-2xl border border-zinc-200 shadow-sm dark:border-zinc-800",children:s.jsxs(l,{className:"p-5 sm:p-7",children:[s.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4",children:"Hist√≥rico de Partidas"}),Ns.length>0&&s.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-zinc-50 to-zinc-100 dark:from-zinc-800/30 dark:to-zinc-700/30 rounded-lg border border-zinc-200/50 dark:border-zinc-700/50",children:[s.jsx("h4",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3",children:"Estat√≠sticas do Per√≠odo"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:["Preto","Verde","Cinza","Vermelho"].map(e=>{const t=Ns.reduce((s,t)=>{if(!(t.left===e||t.right===e))return s;const a=t.winner===e,r="Empate"===t.winner;return{games:s.games+1,wins:s.wins+(a?1:0),draws:s.draws+(r?1:0),losses:s.losses+(a||r?0:1),goalsFor:s.goalsFor+(t.left===e?t.leftScore:t.rightScore),goalsAgainst:s.goalsAgainst+(t.left===e?t.rightScore:t.leftScore)}},{games:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0});if(0===t.games)return null;const a=Math.round(t.wins/t.games*100);return s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1 mb-2",children:[s.jsx(q,{color:e}),s.jsx("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-300",children:e})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[t.games," ",1===t.games?"jogo":"jogos"]}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs",children:[s.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:[t.wins,"V"]}),s.jsxs("span",{className:"text-amber-600 dark:text-amber-400 font-medium",children:[t.draws,"E"]}),s.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:[t.losses,"D"]})]}),s.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:[t.goalsFor,"-",t.goalsAgainst," gols"]}),s.jsxs("div",{className:"text-xs font-medium "+(a>=60?"text-emerald-600 dark:text-emerald-400":a>=40?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400"),children:[a,"% vit√≥rias"]})]})]},e)}).filter(Boolean)})]}),0===fe.length?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-8 h-8 text-zinc-400"})}),s.jsx("p",{className:"text-sm text-zinc-500",children:"Sem registros ainda."}),s.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:"As partidas aparecer√£o aqui ap√≥s serem finalizadas"})]}):s.jsx("div",{className:"space-y-3",children:Ns.map(e=>{const t=s=>e.winner===s,a="Empate"===e.winner,r=new Date(e.ts);return s.jsxs("button",{onClick:()=>(es(e),void Xe(!0)),className:"w-full bg-zinc-50 dark:bg-zinc-800/50 rounded-xl p-4 border border-zinc-200/50 dark:border-zinc-700/50 hover:shadow-md hover:bg-zinc-100 dark:hover:bg-zinc-700/50 hover:border-maestros-green/30 transition-all duration-200 cursor-pointer group text-left",title:"Clique para ver os gols da partida",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"bg-maestros-green/10 text-maestros-green px-2 py-1 rounded-lg text-xs font-medium",children:["Rodada #",e.round]}),a&&s.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 px-2 py-1 rounded-lg text-xs font-medium",children:"Empate"})]}),s.jsxs("div",{className:"text-right relative",children:[s.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:r.toLocaleDateString("pt-BR")}),s.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:r.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),s.jsx("div",{className:"absolute -top-1 -right-1 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx("div",{className:"w-2 h-2 bg-maestros-green rounded-full animate-pulse"})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-3 flex-1",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q,{color:e.left}),s.jsx("span",{className:"font-medium text-sm "+(t(e.left)?"text-emerald-600 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-300"),children:e.left}),t(e.left)&&s.jsx(c,{className:"w-4 h-4 text-emerald-500"})]})}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2",children:[s.jsx("div",{className:`text-xl font-bold transition-colors ${t(e.left)?"text-emerald-600 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"} group-hover:text-maestros-green`,children:e.leftScore}),s.jsx("div",{className:"text-zinc-400 dark:text-zinc-500 font-medium group-hover:text-maestros-green transition-colors",children:"√ó"}),s.jsx("div",{className:`text-xl font-bold transition-colors ${t(e.right)?"text-emerald-600 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-400"} group-hover:text-maestros-green`,children:e.rightScore})]}),s.jsx("div",{className:"flex items-center gap-3 flex-1 justify-end",children:s.jsxs("div",{className:"flex items-center gap-2",children:[t(e.right)&&s.jsx(c,{className:"w-4 h-4 text-emerald-500"}),s.jsx("span",{className:"font-medium text-sm "+(t(e.right)?"text-emerald-600 dark:text-emerald-400":"text-zinc-600 dark:text-zinc-300"),children:e.right}),s.jsx(q,{color:e.right})]})})]})]},e.round+"-"+e.ts)})})]})}),s.jsx(u,{open:ke,onOpenChange:e=>{Se(e),e||Ce(null)},children:s.jsxs(j,{className:"z-[99999] max-w-md",children:[s.jsxs(g,{children:[s.jsx(p,{children:Ae?"Editar Gol":"Registrar Gol"}),s.jsxs(b,{children:["Autor pr√©-selecionado; assist√™ncia √© opcional. Autoassist√™ncia n√£o √© permitida.",je().length>0?s.jsxs("div",{className:"mt-2 text-green-600 text-xs flex items-center gap-1",children:[s.jsx(o,{className:"w-3 h-3"}),"Usando jogadores do sorteio oficial"]}):s.jsxs("div",{className:"mt-2 text-amber-600 text-xs flex items-center gap-1",children:[s.jsx(d,{className:"w-3 h-3"}),"Usando jogadores de exemplo (carregue o sorteio)"]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"mr-2",children:"Time:"}),s.jsx(q,{color:Ee})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(f,{htmlFor:"goal-author",children:"Autor do gol"}),s.jsxs(N,{value:De,onValueChange:e=>{Te(e),Ve===e&&Fe("none")},children:[s.jsx(z,{id:"goal-author",children:s.jsx(w,{placeholder:"Selecione o autor"})}),s.jsx(y,{className:"z-[100000]",position:"popper",sideOffset:5,children:xs(Ee).map(e=>s.jsx(k,{value:e,children:e},e))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(f,{htmlFor:"goal-assist",children:"Assist√™ncia (opcional)"}),s.jsxs(N,{value:Ve,onValueChange:e=>{Fe(e)},children:[s.jsx(z,{id:"goal-assist",children:s.jsx(w,{placeholder:"Selecione (opcional)"})}),s.jsxs(y,{className:"z-[100000]",position:"popper",sideOffset:5,children:[s.jsx(k,{value:"none",children:"Sem assist√™ncia"}),xs(Ee).filter(e=>e!==De).map(e=>s.jsx(k,{value:e,children:e},e))]})]})]})]}),s.jsxs(v,{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"text-xs text-gray-500",children:['Debug: Autor atual = "',De,'" | Jogadores dispon√≠veis = ',xs(Ee).length]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(i,{type:"button",variant:"secondary",onClick:()=>{Se(!1),Ce(null)},children:"Cancelar"}),s.jsx(i,{type:"button",onClick:()=>{if(!De)return void alert("Selecione o autor do gol");const e="none"===Ve?null:Ve;if(je().length>0)try{const s=he(De);if(!s)return void alert(`Jogador "${De}" n√£o encontrado no sorteio`);if(s.team_color!==Ee)return void alert(`Jogador "${De}" n√£o pertence ao time ${Ee}`);if(s.is_substitute)return void alert(`Jogador "${De}" est√° no banco e n√£o pode marcar gol`);if(e){const s=he(e);if(!s)return void alert(`Jogador da assist√™ncia "${e}" n√£o encontrado no sorteio`);if(s.team_color!==Ee)return void alert(`Jogador da assist√™ncia "${e}" n√£o pertence ao time ${Ee}`);if(s.is_substitute)return void alert(`Jogador da assist√™ncia "${e}" est√° no banco`);if(De===e)return void alert("Jogador n√£o pode dar assist√™ncia para si mesmo")}}catch(s){return void alert("Erro na valida√ß√£o: "+s.message)}try{Ae?W(Ae,{author:De,assist:e??null}):Z({team:Ee,author:De,assist:e??null}),Se(!1),Ce(null)}catch(s){alert("Erro ao salvar gol: "+s.message)}},children:Ae?"Salvar altera√ß√µes":"Salvar Gol"})]})]})]})}),"owner"===ge?.role&&s.jsx(n,{className:"rounded-2xl border border-emerald-200 shadow-sm dark:border-emerald-800 mb-3",children:s.jsxs(l,{className:"p-4 sm:p-5",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(R,{className:"w-4 h-4 text-emerald-600"}),s.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Exportar Relat√≥rio"})]}),s.jsx("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"PDF completo"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-50 dark:bg-zinc-800/30 rounded-lg",children:[s.jsx(c,{className:"w-4 h-4 text-yellow-500"}),s.jsxs("span",{className:"text-zinc-700 dark:text-zinc-300",children:[bs.length," jogadores"]})]}),s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-zinc-50 dark:bg-zinc-800/30 rounded-lg",children:[s.jsx(O,{className:"w-4 h-4 text-blue-500"}),s.jsxs("span",{className:"text-zinc-700 dark:text-zinc-300",children:[fe.length," partidas"]})]})]}),s.jsxs(i,{onClick:async()=>{try{const{default:s}=await e(async()=>{const{default:e}=await import("./vendor-pdf-zyjwHXYs.js").then(e=>e.j);return{default:e}},__vite__mapDeps([0,1,2,3])),t=new s,a=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();let i=20;t.setFontSize(20),t.setFont("helvetica","bold"),t.text("MAESTROS FC - RELAT√ìRIO DE PARTIDA",a/2,i,{align:"center"}),i+=10,t.setFontSize(12),t.setFont("helvetica","normal");const n=(new Date).toLocaleDateString("pt-BR");t.text(`Data: ${n}`,a/2,i,{align:"center"}),i+=20,t.setFontSize(16),t.setFont("helvetica","bold"),t.text("ESTAT√çSTICAS DOS JOGADORES",20,i),i+=15,bs.length>0?(t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Posi√ß√£o",20,i),t.text("Jogador",40,i),t.text("Gols",120,i),t.text("Assist√™ncias",140,i),t.text("Total",170,i),i+=8,t.line(20,i,190,i),i+=5,t.setFont("helvetica","normal"),bs.forEach((e,s)=>{i>r-30&&(t.addPage(),i=20);const a=e?.name||"Jogador Desconhecido",n=e?.g||0,l=e?.a||0,c=n+l;t.text(`${s+1}¬∫`,20,i),t.text(a,40,i),t.text(n.toString(),120,i),t.text(l.toString(),140,i),t.text(c.toString(),170,i),i+=8})):(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhuma estat√≠stica registrada",20,i),i+=10),i+=10,t.setFontSize(16),t.setFont("helvetica","bold"),t.text("HIST√ìRICO DE PARTIDAS",20,i),i+=15,fe.length>0?(t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Rodada",20,i),t.text("Partida",40,i),t.text("Placar",120,i),t.text("Vencedor",140,i),t.text("Data/Hora",170,i),i+=8,t.line(20,i,190,i),i+=5,t.setFont("helvetica","normal"),fe.forEach(e=>{i>r-30&&(t.addPage(),i=20);const s=e?.ts||Date.now(),a=e?.round||0,n=e?.left||"Time A",l=e?.right||"Time B",c=e?.leftScore||0,d=e?.rightScore||0,o=e?.winner||"Empate",m=new Date(s).toLocaleString("pt-BR"),x=`${c} x ${d}`,h=`${n} vs ${l}`;t.text(`#${a}`,20,i),t.text(h,40,i),t.text(x,120,i),t.text(o,140,i),t.text(m,170,i),i+=8})):(t.setFontSize(10),t.setFont("helvetica","italic"),t.text("Nenhuma partida registrada",20,i));const l=r-20;t.setFontSize(8),t.setFont("helvetica","italic"),t.text("Relat√≥rio gerado automaticamente pelo sistema Maestros FC",a/2,l,{align:"center"});const c=`maestros-fc-relatorio-${n.replace(/\//g,"-")}.pdf`;t.save(c)}catch(s){alert("Erro ao gerar PDF: "+s.message)}},className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:[s.jsx(m,{className:"w-4 h-4 mr-2"}),"Exportar PDF"]})]})]})}),s.jsx(U,{clearEvents:te,clearHistory:se,clearAll:ae,resetToInitialState:re,canControlMatch:ue()}),s.jsx(u,{open:Me,onOpenChange:e=>{Re(e),e||$e(null)},children:s.jsxs(j,{children:[s.jsxs(g,{children:[s.jsx(p,{children:"Excluir gol?"}),s.jsx(b,{children:"Essa a√ß√£o n√£o pode ser desfeita. O placar ser√° atualizado."})]}),Oe&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"Time:"}),s.jsx(q,{color:Oe.team})]}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Autor:"})," ",Oe.author]}),Oe.assist&&s.jsxs("div",{className:"text-zinc-600",children:[s.jsx("strong",{children:"Assist√™ncia:"})," ",Oe.assist]}),s.jsxs("div",{className:"text-zinc-600",children:[s.jsx("strong",{children:"Hor√°rio:"})," ",new Date(Oe.ts).toLocaleTimeString()]})]})]}),s.jsxs(v,{children:[s.jsx(i,{type:"button",variant:"secondary",onClick:()=>{Re(!1),$e(null)},children:"N√£o"}),s.jsx(i,{type:"button",className:"bg-red-600 hover:bg-red-600/90",onClick:()=>{Oe&&(X(Oe.id),Re(!1),$e(null))},children:"Sim, excluir"})]})]})}),s.jsx(u,{open:Be,onOpenChange:Le,children:s.jsxs(j,{children:[s.jsxs(g,{children:[s.jsx(p,{children:"Encerrar rodada"}),s.jsx(b,{children:"O vencedor permanece. Escolha o pr√≥ximo advers√°rio ou deixe autom√°tico."})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(f,{children:"Pr√≥ximo time a entrar"}),s.jsxs(N,{value:Ge,onValueChange:e=>Ie(e),children:[s.jsx(z,{children:s.jsx(w,{placeholder:"Selecione o pr√≥ximo"})}),s.jsx(y,{children:ps.map(e=>s.jsx(k,{value:e,children:e},e))})]})]}),s.jsxs(v,{children:[s.jsx(i,{variant:"secondary",onClick:()=>Le(!1),children:"Cancelar"}),s.jsx(i,{onClick:()=>{try{if(ls){if(!["Preto","Verde","Cinza","Vermelho"].includes(Ge))return;const{round:e,events:s}=E.getState(),[t,a]=e.inPlay,r=e.scores[t]??0,i=e.scores[a]??0,n={round:e.number,left:t,right:a,leftScore:r,rightScore:i,winner:ls,ts:Date.now(),goals:[...s]},l=ls,c=Ge;E.setState({history:[...E.getState().history,n],round:{number:e.number+1,inPlay:[l,c],scores:{Preto:0,Verde:0,Cinza:0,Vermelho:0},running:!1},events:[],allEvents:[...E.getState().allEvents],accumulatedSec:0,runningSince:null}),Le(!1),cs(null)}else K(Ge),Le(!1)}catch(e){Le(!1)}},children:"Confirmar"})]})]})}),s.jsx(u,{open:ss,onOpenChange:e=>{if(!e){if(is)return void ts(!0);ms()}},children:s.jsxs(j,{className:"max-w-md",children:[s.jsxs(g,{children:[s.jsxs(p,{className:"flex items-center gap-2",children:[s.jsx(J,{className:"w-5 h-5 text-amber-500"}),is?"Determinando Vencedor...":"Empate! Vencedor Sorteado"]}),s.jsx(b,{children:is?"As cores dos times est√£o competindo para determinar o vencedor!":"O vencedor foi determinado por sorteio justo!"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-center items-center space-x-4",children:a.inPlay.map((e,t)=>{const a=!is&&as===e;return s.jsx("div",{className:`\n                      w-16 h-16 rounded-full flex items-center justify-center text-white font-bold text-lg\n                      ${{Preto:"bg-zinc-800",Verde:"bg-green-500",Cinza:"bg-gray-500",Vermelho:"bg-red-500"}[e]}\n                      ${is?"animate-pulse animate-bounce":""}\n                      ${a?"ring-4 ring-yellow-400 scale-110":""}\n                      transition-all duration-500\n                    `,children:is?s.jsx(x,{className:"w-8 h-8 animate-spin"}):a?s.jsx(c,{className:"w-8 h-8 text-yellow-400"}):s.jsx("span",{className:"text-xs",children:e.charAt(0)})},e)})}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-2xl font-bold text-gray-600",children:[a.scores[a.inPlay[0]]," - ",a.scores[a.inPlay[1]]]}),s.jsx("div",{className:"text-sm text-gray-500",children:"Empate!"})]}),!is&&as&&s.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200 rounded-lg p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-semibold text-amber-800 mb-2",children:["üèÜ Vencedor: ",as]}),s.jsxs("div",{className:"text-sm text-amber-600",children:["O time ",as," continuar√° na pr√≥xima rodada!"]})]})})]}),s.jsx(v,{children:!is&&s.jsxs(i,{onClick:()=>{if(as)try{cs(as),ts(!1),rs(null),ns(!1),Le(!0)}catch(e){ms()}},className:"w-full bg-amber-600 hover:bg-amber-700 text-white",children:[s.jsx(c,{className:"w-4 h-4 mr-2"}),"Continuar com ",as]})})]})}),s.jsx(u,{open:Je,onOpenChange:e=>{He(e),e||(Qe(""),Ze(""))},children:s.jsxs(j,{className:"z-[99999]",children:[s.jsxs(g,{children:[s.jsxs(p,{children:["Substitui√ß√£o - ",qe]}),s.jsx(b,{children:"Selecione o jogador que sai e o que entra. A substitui√ß√£o ser√° registrada no hist√≥rico."})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"mr-2",children:"Time:"}),s.jsx(q,{color:qe})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(f,{children:"Jogador que sai (ativo)"}),s.jsxs(N,{value:Ue,onValueChange:Qe,children:[s.jsx(z,{children:s.jsx(w,{placeholder:"Selecione quem sai"})}),s.jsx(y,{children:ys(qe).playersOut.map(e=>s.jsx(k,{value:e,children:e},e))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(f,{children:"Jogador que entra (banco)"}),s.jsxs(N,{value:Ye,onValueChange:Ze,children:[s.jsx(z,{children:s.jsx(w,{placeholder:"Selecione quem entra"})}),s.jsx(y,{children:ys(qe).playersIn.map(e=>s.jsx(k,{value:e,children:e},e))})]})]}),0===ys(qe).playersIn.length&&s.jsx("div",{className:"text-sm text-amber-600 bg-amber-50 p-2 rounded",children:"‚ö†Ô∏è N√£o h√° jogadores no banco para substitui√ß√£o"})]}),s.jsxs(v,{children:[s.jsx(i,{type:"button",variant:"secondary",onClick:()=>He(!1),children:"Cancelar"}),s.jsx(i,{type:"button",onClick:()=>{if(Ue&&Ye)if(Ue!==Ye)try{xe(qe,Ue,Ye),He(!1),Qe(""),Ze("")}catch(e){alert("Erro ao realizar substitui√ß√£o: "+e.message)}else alert("Jogador que sai deve ser diferente do que entra");else alert("Selecione ambos os jogadores para a substitui√ß√£o")},disabled:!Ue||!Ye,children:"Confirmar Substitui√ß√£o"})]})]})}),s.jsx(u,{open:We,onOpenChange:Xe,children:s.jsxs(j,{className:"max-w-md",children:[s.jsxs(g,{children:[s.jsxs(p,{className:"flex items-center gap-2",children:[s.jsx(c,{className:"w-5 h-5 text-maestros-green"}),"Gols da Rodada #",Ke?.round]}),s.jsx(b,{children:Ke&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:Ke.left})," vs ",s.jsx("span",{className:"font-medium",children:Ke.right}),s.jsxs("span",{className:"ml-2 text-sm",children:["(",Ke.leftScore,"-",Ke.rightScore,")"]})]})})]}),s.jsx("div",{className:"space-y-4",children:Ke?.goals&&Ke.goals.length>0?s.jsx("div",{className:"space-y-3",children:Ke.goals.slice().sort((e,s)=>e.ts-s.ts).map((e,t)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-zinc-50 dark:bg-zinc-800/50 rounded-lg border border-zinc-200/50 dark:border-zinc-700/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs font-medium text-zinc-500 dark:text-zinc-400 bg-zinc-200 dark:bg-zinc-700 px-2 py-1 rounded",children:[t+1,"¬∫"]}),s.jsx(q,{color:e.team})]}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm text-zinc-900 dark:text-zinc-100",children:e.author}),s.jsxs("span",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:["(",e.team,")"]})]}),e.assist&&s.jsxs("div",{className:"text-xs text-zinc-500 dark:text-zinc-400 mt-1",children:["Assist√™ncia: ",s.jsx("span",{className:"font-medium",children:e.assist})]})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:new Date(e.ts).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})})]},e.id))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-zinc-100 dark:bg-zinc-800 rounded-full flex items-center justify-center",children:s.jsx(c,{className:"w-8 h-8 text-zinc-400"})}),s.jsx("p",{className:"text-sm text-zinc-500",children:"Nenhum gol foi marcado nesta rodada"}),s.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:"A partida terminou 0-0"})]})}),s.jsx(v,{children:s.jsx(i,{variant:"outline",onClick:()=>Xe(!1),className:"w-full",children:"Fechar"})})]})})]})};
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function U({clearEvents:e,clearHistory:t,clearAll:a,resetToInitialState:r,canControlMatch:c}){return c?s.jsx(n,{className:"rounded-2xl border border-amber-200 bg-amber-50 shadow-sm dark:border-amber-800 dark:bg-amber-950/30 mt-6",children:s.jsxs(l,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(h,{className:"w-4 h-4 text-amber-600"}),s.jsx("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-300",children:"Controles de Teste"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[s.jsxs(i,{onClick:e,variant:"outline",size:"sm",className:"border-amber-300 text-amber-700 hover:bg-amber-100 dark:border-amber-700 dark:text-amber-400 dark:hover:bg-amber-900/50",children:[s.jsx(I,{className:"w-3 h-3 mr-1"}),"Limpar Gols"]}),s.jsxs(i,{onClick:t,variant:"outline",size:"sm",className:"border-amber-300 text-amber-700 hover:bg-amber-100 dark:border-amber-700 dark:text-amber-400 dark:hover:bg-amber-900/50",children:[s.jsx($,{className:"w-3 h-3 mr-1"}),"Limpar Hist√≥rico"]}),s.jsxs(i,{onClick:a,variant:"outline",size:"sm",className:"border-amber-300 text-amber-700 hover:bg-amber-100 dark:border-amber-700 dark:text-amber-400 dark:hover:bg-amber-900/50",children:[s.jsx(B,{className:"w-3 h-3 mr-1"}),"Limpar Tudo"]}),s.jsxs(i,{onClick:()=>{r(),alert("P√°gina resetada completamente! Estat√≠sticas zeradas!")},variant:"outline",size:"sm",className:"border-red-300 text-red-700 hover:bg-red-100 dark:border-red-700 dark:text-red-400 dark:hover:bg-red-900/50",children:[s.jsx(M,{className:"w-3 h-3 mr-1"}),"Reset Total"]})]}),s.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-500 mt-2",children:"‚ö†Ô∏è Estes bot√µes s√£o para facilitar testes durante o desenvolvimento"})]})}):null}export{_ as Match,_ as default};
