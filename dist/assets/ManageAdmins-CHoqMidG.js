import{j as e}from"./vendor-ui-Bl6_fDik.js";import{r as a}from"./vendor-react-BSMgdr9Q.js";import{f as s,u as r,C as i,d as t,e as d,a as n,B as o,p as l,q as c,P as m}from"./index-D-h0AB1a.js";import{I as x}from"./input-BNNcVYdw.js";import{B as p}from"./badge-eiJjEpw9.js";import{S as u}from"./shield-Dzd3wczT.js";import{U as h}from"./user-plus-ODQ3hupG.js";import{U as j}from"./users-Ck2fTSdf.js";import{C as v}from"./crown-DQow1lgx.js";import{U as f}from"./user-minus-DV9VsbGJ.js";import"./vendor-router-uw2sfKrb.js";import"./vendor-supabase-5K_8OYiR.js";import"./vendor-utils-CrFdsnXa.js";function g(){const[g,b]=a.useState(""),[k,N]=a.useState(!1),{success:z,error:w}=s(),{user:y}=r(),[A,D]=a.useState([{id:"1",name:"Jo√£o Silva",email:"joao@exemplo.com",role:"admin",status:"active",addedDate:"2024-01-15"},{id:"2",name:"Maria Santos",email:"maria@exemplo.com",role:"aux",status:"active",addedDate:"2024-01-20"}]);return e.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(u,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Gerenciar Administradores"]}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gerencie as permiss√µes dos administradores do grupo"})]}),e.jsxs(i,{className:"animate-fade-in-up dark:bg-zinc-800 dark:border-zinc-700",children:[e.jsx(t,{children:e.jsxs(d,{className:"flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(h,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Adicionar Administrador"]})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{type:"email",placeholder:"Digite o email do novo admin",value:g,onChange:e=>b(e.target.value),className:"flex-1 dark:bg-zinc-700 dark:border-zinc-600 dark:text-zinc-100 dark:placeholder-zinc-400"}),e.jsx(o,{onClick:async()=>{if(g){N(!0);try{await new Promise(e=>setTimeout(e,1500));const e={id:Date.now().toString(),name:g.split("@")[0],email:g,role:"admin",status:"pending",addedDate:(new Date).toISOString().split("T")[0]};D(a=>[...a,e]),b(""),z("Admin adicionado","Convite enviado para "+g)}catch(e){w("Erro ao adicionar","Tente novamente")}finally{N(!1)}}else w("Email obrigat√≥rio","Digite um email v√°lido")},disabled:k||!g,className:"bg-gradient-primary hover:opacity-90 dark:bg-blue-600 dark:hover:bg-blue-700",children:k?"Adicionando...":"Adicionar"})]}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"O usu√°rio receber√° um convite por email para se tornar administrador"})]})]}),e.jsxs(i,{className:"animate-fade-in-up dark:bg-zinc-800 dark:border-zinc-700",children:[e.jsx(t,{children:e.jsxs(d,{className:"flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(j,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Administradores Ativos (",A.length,")"]})}),e.jsx(n,{children:e.jsx("div",{className:"space-y-3",children:A.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",style:{animationDelay:100*s+"ms"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-primary dark:bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold dark:text-zinc-100",children:a.name}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:a.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(p,{variant:"admin"===a.role?"default":"secondary",className:"text-xs dark:border-zinc-600",children:"admin"===a.role?"üõ°Ô∏è Admin":"‚ö° Auxiliar"}),e.jsx(p,{variant:"active"===a.status?"default":"outline",className:"text-xs dark:border-zinc-600",children:"active"===a.status?"‚úÖ Ativo":"‚è≥ Pendente"}),l(a.id)&&e.jsx(p,{variant:"destructive",className:"text-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white dark:from-purple-700 dark:to-blue-700",children:"üëë Owner Principal"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:["Adicionado em ",new Date(a.addedDate).toLocaleDateString("pt-BR")]}),e.jsx(o,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(c(e,y?.id)){N(!0);try{await new Promise(e=>setTimeout(e,1e3)),D(a=>a.filter(a=>a.id!==e)),z("Admin removido","Permiss√µes revogadas com sucesso")}catch(a){w("Erro ao remover","Tente novamente")}finally{N(!1)}}else w("Acesso negado",m.CANNOT_DELETE_MAIN_OWNER)})(a.id),disabled:k||!c(a.id,y?.id),className:c(a.id,y?.id)?"text-red-600 hover:bg-red-50 hover:border-red-200 dark:text-red-400 dark:hover:bg-red-900/30 dark:hover:border-red-800 dark:border-zinc-600":"text-gray-400 cursor-not-allowed dark:text-zinc-600 dark:border-zinc-700",title:c(a.id,y?.id)?"Remover administrador":"O owner principal n√£o pode ser removido",children:e.jsx(f,{className:"w-4 h-4"})})]})]},a.id))})})]})]})}export{g as default};
