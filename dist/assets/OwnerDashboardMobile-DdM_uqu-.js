import{j as e}from"./vendor-ui-Cg0qxSES.js";import{g as s,h as a,B as l,n as r,C as t,f as i,T as c,d as n,e as d}from"./index-XxW9FBxQ.js";import{B as m}from"./badge-hWvPWwxj.js";import{D as x,a as o,b as h,c as j,d as u,e as p}from"./dialog-C8tkcOsA.js";import{I as g}from"./input-uMYoR_2G.js";import{L as N}from"./label-CfKHBYYN.js";import{T as v,a as f,b,c as y}from"./tabs-DCR6OKyG.js";import{u as w}from"./gamesStore-CEKKs3cA.js";import{r as C}from"./vendor-react-CyD6OLG_.js";import{u as P}from"./vendor-router-VFXGavtY.js";import{C as k}from"./crown-CyBj_N2G.js";import{L as S}from"./log-out-DoNdvP1Z.js";import{C as z}from"./calendar-BrX1EaW7.js";import{U as J}from"./users-CT76zCld.js";import{S as F}from"./settings-CXYkW_Aa.js";import{P as G}from"./plus-BLqvMSWc.js";import{C as M}from"./clock-DeGhZLZS.js";import{E as L}from"./eye-BFtLU7hx.js";import{S as R}from"./square-pen-Z_vz8fGA.js";import{T as D}from"./trash-2-__SYsBQH.js";import{M as O}from"./map-pin-D5gf0CoB.js";import{U as E}from"./user-check-C0OIbiVK.js";import{S as A}from"./shield-DWCzQdRN.js";import"./vendor-pdf-oqmhCI76.js";import"./vendor-utils-CrFdsnXa.js";import"./middleware-BLDYzNRS.js";function B(){const{user:B,signOut:T}=s(),H=P(),{matches:I,addMatch:U,updateMatch:$,deleteMatch:q,getUpcomingMatches:V}=w(),{players:Y,stats:_,isLoading:K}=a();C.useState(!0);const[Z,Q]=C.useState("overview"),[W,X]=C.useState(!1),[ee,se]=C.useState(!1),[ae,le]=C.useState(!1),[re,te]=C.useState(!1),[ie,ce]=C.useState(null),[ne,de]=C.useState({date:"",time:"20:00",location:"R. Renato Bazin, 705-751 - Laranjal, São Gonçalo - RJ",maxPlayers:22}),[me,xe]=C.useState({date:"",time:"",location:"",maxPlayers:22}),oe=()=>{const e=new Date,s=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0");de({date:`${s}-${a}-${l}`,time:"20:00",location:"R. Renato Bazin, 705-751 - Laranjal, São Gonçalo - RJ",maxPlayers:22}),X(!0)},he=e=>{ce(e),xe({date:e.date,time:e.time,location:e.location,maxPlayers:e.maxPlayers}),se(!0)},je=e=>{ce(e),le(!0)},ue=e=>{ce(e),te(!0)},pe=V();return e.jsxs("div",{className:"min-h-[100dvh] bg-background text-foreground pb-20",children:[e.jsx("div",{className:"bg-card shadow-sm border-b",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-6 w-6 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-bold",children:"Maestros FC"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Owner"})]})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>H("/owner-dashboard"),className:"flex items-center space-x-1",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsx("span",{children:"Owner"})]}),e.jsx(l,{variant:"outline",size:"sm",onClick:async()=>{try{await T(),H("/")}catch(e){}},className:"flex items-center space-x-1",children:e.jsx(S,{className:"h-4 w-4"})})]})]})})}),e.jsx("div",{className:"p-4",children:e.jsxs(v,{value:Z,onValueChange:Q,className:"space-y-4",children:[e.jsxs(f,{className:"grid w-full grid-cols-4",children:[e.jsxs(b,{value:"overview",className:"flex items-center space-x-2",children:[e.jsx(r,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Geral"})]}),e.jsxs(b,{value:"matches",className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Partidas"})]}),e.jsxs(b,{value:"players",className:"flex items-center space-x-2",children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Jogadores"})]}),e.jsxs(b,{value:"config",className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Config"})]})]}),e.jsxs(y,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(t,{className:"shadow-sm",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx(J,{className:"h-6 w-6 text-blue-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:_.total}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Jogadores"})]})}),e.jsx(t,{className:"shadow-sm",children:e.jsxs(i,{className:"p-4 text-center",children:[e.jsx(c,{className:"h-6 w-6 text-green-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold",children:pe.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Partidas"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(l,{onClick:()=>H("/manage-players"),className:"h-20 flex flex-col items-center justify-center space-y-2 bg-blue-50 hover:bg-blue-100 text-blue-700",children:[e.jsx(J,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Gerenciar Jogadores"})]}),e.jsxs(l,{onClick:oe,className:"h-20 flex flex-col items-center justify-center space-y-2 bg-green-50 hover:bg-green-100 text-green-700",children:[e.jsx(G,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Nova Partida"})]})]}),e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-5 w-5"}),e.jsx("span",{children:"Próximas Partidas"})]})}),e.jsx(i,{children:0===pe.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(z,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("h3",{className:"font-medium mb-2",children:"Nenhuma partida agendada"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crie uma nova partida para começar"}),e.jsxs(l,{onClick:oe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Nova Partida"]})]}):e.jsx("div",{className:"space-y-3",children:pe.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:s.date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.time})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>ue(s),children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>he(s),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>je(s),className:"text-red-600 hover:text-red-700",children:e.jsx(D,{className:"h-4 w-4"})})]})]},s.id))})})]})]}),e.jsxs(y,{value:"matches",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Gerenciar Partidas"}),e.jsxs(l,{onClick:oe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Nova Partida"]})]}),0===I.length?e.jsx(t,{children:e.jsxs(i,{className:"text-center py-8",children:[e.jsx(z,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsx("h3",{className:"font-medium mb-2",children:"Nenhuma partida cadastrada"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Crie sua primeira partida para começar"}),e.jsxs(l,{onClick:oe,className:"bg-green-600 hover:bg-green-700",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Nova Partida"]})]})}):e.jsx("div",{className:"space-y-3",children:I.map(s=>e.jsx(t,{className:"hover:shadow-md transition-shadow",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"font-medium",children:s.date})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(M,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:s.time})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-32",children:s.location})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>ue(s),children:e.jsx(L,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>he(s),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>je(s),className:"text-red-600 hover:text-red-700",children:e.jsx(D,{className:"h-4 w-4"})})]})]})})},s.id))})]}),e.jsxs(y,{value:"players",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold flex items-center space-x-2",children:[e.jsx(J,{className:"h-6 w-6 text-blue-600"}),"Gerenciar Jogadores"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.total," jogadores cadastrados"]})]})}),e.jsxs(l,{onClick:()=>H("/manage-players"),className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Gerenciar Jogadores"]}),0===Y.length?e.jsx(t,{children:e.jsxs(i,{className:"text-center py-8",children:[e.jsx(J,{className:"h-12 w-12 mx-auto mb-3 text-gray-400"}),e.jsxs("h3",{className:"font-medium mb-2",children:[_.total," Jogadores Cadastrados"]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Gerencie jogadores, convites e aprovações"}),e.jsxs(l,{onClick:()=>H("/manage-players"),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Gerenciar Jogadores"]})]})}):e.jsxs("div",{className:"space-y-3",children:[Y.slice(0,5).map(s=>e.jsx(t,{className:"hover:shadow-md transition-shadow",children:e.jsx(i,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"h-4 w-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.email})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{variant:"outline",className:"text-xs",children:s.role}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>H("/manage-players"),children:e.jsx(L,{className:"h-4 w-4"})})]})]})})},s._id)),Y.length>5&&e.jsxs(l,{onClick:()=>H("/manage-players"),variant:"outline",className:"w-full",children:["Ver todos os ",_.total," jogadores"]})]})]}),e.jsx(y,{value:"config",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(n,{children:e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(F,{className:"h-5 w-5"}),e.jsx("span",{children:"Configurações do Sistema"})]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(l,{onClick:()=>H("/manage-admins"),className:"h-20 flex flex-col items-center justify-center space-y-2 bg-purple-50 hover:bg-purple-100 text-purple-700",children:[e.jsx(A,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Gerenciar Admins"})]}),e.jsxs(l,{onClick:()=>H("/configure-access"),className:"h-20 flex flex-col items-center justify-center space-y-2 bg-orange-50 hover:bg-orange-100 text-orange-700",children:[e.jsx(F,{className:"h-6 w-6"}),e.jsx("span",{className:"text-sm font-medium",children:"Configurar Acesso"})]})]}),e.jsxs("div",{className:"pt-4 border-t",children:[e.jsx("h3",{className:"font-medium mb-3",children:"Ações do Sistema"}),e.jsx("div",{className:"space-y-2",children:e.jsxs(l,{variant:"outline",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Sair do Sistema"]})})]})]})]})})]})}),e.jsx(x,{open:W,onOpenChange:X,children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(j,{children:"Nova Partida"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"date",children:"Data"}),e.jsx(g,{id:"date",type:"date",value:ne.date,onChange:e=>de({...ne,date:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"time",children:"Horário"}),e.jsx(g,{id:"time",type:"time",value:ne.time,onChange:e=>de({...ne,time:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"location",children:"Local"}),e.jsx(g,{id:"location",value:ne.location,onChange:e=>de({...ne,location:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"maxPlayers",children:"Máximo de Jogadores"}),e.jsx(g,{id:"maxPlayers",type:"number",value:ne.maxPlayers,onChange:e=>de({...ne,maxPlayers:parseInt(e.target.value)})})]})]}),e.jsxs(u,{children:[e.jsx(l,{variant:"outline",onClick:()=>X(!1),children:"Cancelar"}),e.jsx(l,{onClick:async()=>{try{const e={date:ne.date,time:ne.time,location:ne.location,maxPlayers:ne.maxPlayers,status:"pending"};await U(e),X(!1),de({date:"",time:"20:00",location:"R. Renato Bazin, 705-751 - Laranjal, São Gonçalo - RJ",maxPlayers:22})}catch(e){}},className:"bg-green-600 hover:bg-green-700",children:"Criar Partida"})]})]})}),e.jsx(x,{open:ee,onOpenChange:se,children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(j,{children:"Editar Partida"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit-date",children:"Data"}),e.jsx(g,{id:"edit-date",type:"date",value:me.date,onChange:e=>xe({...me,date:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit-time",children:"Horário"}),e.jsx(g,{id:"edit-time",type:"time",value:me.time,onChange:e=>xe({...me,time:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit-location",children:"Local"}),e.jsx(g,{id:"edit-location",value:me.location,onChange:e=>xe({...me,location:e.target.value})})]}),e.jsxs("div",{children:[e.jsx(N,{htmlFor:"edit-maxPlayers",children:"Máximo de Jogadores"}),e.jsx(g,{id:"edit-maxPlayers",type:"number",value:me.maxPlayers,onChange:e=>xe({...me,maxPlayers:parseInt(e.target.value)})})]})]}),e.jsxs(u,{children:[e.jsx(l,{variant:"outline",onClick:()=>se(!1),children:"Cancelar"}),e.jsx(l,{onClick:async()=>{try{if(!ie)return;const e={...ie,date:me.date,time:me.time,location:me.location,maxPlayers:me.maxPlayers};await $(ie.id,e),se(!1),ce(null)}catch(e){}},className:"bg-blue-600 hover:bg-blue-700",children:"Salvar Alterações"})]})]})}),e.jsx(x,{open:ae,onOpenChange:le,children:e.jsxs(o,{children:[e.jsxs(h,{children:[e.jsx(j,{children:"Confirmar Exclusão"}),e.jsx(p,{children:"Tem certeza que deseja excluir esta partida? Esta ação não pode ser desfeita."})]}),e.jsxs(u,{children:[e.jsx(l,{variant:"outline",onClick:()=>le(!1),children:"Cancelar"}),e.jsx(l,{onClick:async()=>{try{if(!ie)return;await q(ie.id),le(!1),ce(null)}catch(e){}},className:"bg-red-600 hover:bg-red-700",children:"Excluir"})]})]})}),e.jsx(x,{open:re,onOpenChange:te,children:e.jsxs(o,{children:[e.jsx(h,{children:e.jsx(j,{children:"Detalhes da Partida"})}),ie&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(N,{children:"Data"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.date})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Horário"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.time})]})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Local"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.location})]}),e.jsxs("div",{children:[e.jsx(N,{children:"Máximo de Jogadores"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ie.maxPlayers})]})]}),e.jsx(u,{children:e.jsx(l,{variant:"outline",onClick:()=>te(!1),children:"Fechar"})})]})})]})}export{B as default};
