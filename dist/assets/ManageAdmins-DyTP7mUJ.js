import{j as e}from"./vendor-ui-Crwl98nu.js";import{r as a}from"./vendor-react-Cf1qRDNe.js";import{c as s,f as r,u as i,C as t,b as d,e as n,d as o,B as c,q as l,r as m,P as x}from"./index-D4lv_L5s.js";import{I as p}from"./input-DgMKldUO.js";import{B as u}from"./badge-BqDrbTf5.js";import{S as h}from"./shield-Cw7Op2NE.js";import{U as j}from"./user-plus-mEtGn1I1.js";import{U as v}from"./users-BSGs48q5.js";import{C as g}from"./crown-CPnk1FlJ.js";import"./vendor-router-Cpu-KcQe.js";import"./vendor-supabase-Dvt-yfip.js";import"./vendor-utils-CRulVwns.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=s("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function f(){const[s,f]=a.useState(""),[k,N]=a.useState(!1),{success:y,error:z}=r(),{user:w}=i(),[A,D]=a.useState([{id:"1",name:"Jo√£o Silva",email:"joao@exemplo.com",role:"admin",status:"active",addedDate:"2024-01-15"},{id:"2",name:"Maria Santos",email:"maria@exemplo.com",role:"aux",status:"active",addedDate:"2024-01-20"}]);return e.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-6",children:[e.jsxs("div",{className:"animate-fade-in-up",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(h,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"Gerenciar Administradores"]}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:"Gerencie as permiss√µes dos administradores do grupo"})]}),e.jsxs(t,{className:"animate-fade-in-up dark:bg-zinc-800 dark:border-zinc-700",children:[e.jsx(d,{children:e.jsxs(n,{className:"flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(j,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Adicionar Administrador"]})}),e.jsxs(o,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(p,{type:"email",placeholder:"Digite o email do novo admin",value:s,onChange:e=>f(e.target.value),className:"flex-1 dark:bg-zinc-700 dark:border-zinc-600 dark:text-zinc-100 dark:placeholder-zinc-400"}),e.jsx(c,{onClick:async()=>{if(s){N(!0);try{await new Promise(e=>setTimeout(e,1500));const e={id:Date.now().toString(),name:s.split("@")[0],email:s,role:"admin",status:"pending",addedDate:(new Date).toISOString().split("T")[0]};D(a=>[...a,e]),f(""),y("Admin adicionado","Convite enviado para "+s)}catch(e){z("Erro ao adicionar","Tente novamente")}finally{N(!1)}}else z("Email obrigat√≥rio","Digite um email v√°lido")},disabled:k||!s,className:"bg-gradient-primary hover:opacity-90 dark:bg-blue-600 dark:hover:bg-blue-700",children:k?"Adicionando...":"Adicionar"})]}),e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:"O usu√°rio receber√° um convite por email para se tornar administrador"})]})]}),e.jsxs(t,{className:"animate-fade-in-up dark:bg-zinc-800 dark:border-zinc-700",children:[e.jsx(d,{children:e.jsxs(n,{className:"flex items-center gap-2 dark:text-zinc-100",children:[e.jsx(v,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),"Administradores Ativos (",A.length,")"]})}),e.jsx(o,{children:e.jsx("div",{className:"space-y-3",children:A.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border dark:border-zinc-700 rounded-lg hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors",style:{animationDelay:100*s+"ms"},children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-primary dark:bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(g,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold dark:text-zinc-100",children:a.name}),e.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400",children:a.email}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(u,{variant:"admin"===a.role?"default":"secondary",className:"text-xs dark:border-zinc-600",children:"admin"===a.role?"üõ°Ô∏è Admin":"‚ö° Auxiliar"}),e.jsx(u,{variant:"active"===a.status?"default":"outline",className:"text-xs dark:border-zinc-600",children:"active"===a.status?"‚úÖ Ativo":"‚è≥ Pendente"}),l(a.id)&&e.jsx(u,{variant:"destructive",className:"text-xs bg-gradient-to-r from-purple-600 to-blue-600 text-white dark:from-purple-700 dark:to-blue-700",children:"üëë Owner Principal"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-xs text-zinc-400 dark:text-zinc-500",children:["Adicionado em ",new Date(a.addedDate).toLocaleDateString("pt-BR")]}),e.jsx(c,{variant:"outline",size:"sm",onClick:()=>(async e=>{if(m(e,w?.id)){N(!0);try{await new Promise(e=>setTimeout(e,1e3)),D(a=>a.filter(a=>a.id!==e)),y("Admin removido","Permiss√µes revogadas com sucesso")}catch(a){z("Erro ao remover","Tente novamente")}finally{N(!1)}}else z("Acesso negado",x.CANNOT_DELETE_MAIN_OWNER)})(a.id),disabled:k||!m(a.id,w?.id),className:m(a.id,w?.id)?"text-red-600 hover:bg-red-50 hover:border-red-200 dark:text-red-400 dark:hover:bg-red-900/30 dark:hover:border-red-800 dark:border-zinc-600":"text-gray-400 cursor-not-allowed dark:text-zinc-600 dark:border-zinc-700",title:m(a.id,w?.id)?"Remover administrador":"O owner principal n√£o pode ser removido",children:e.jsx(b,{className:"w-4 h-4"})})]})]},a.id))})})]})]})}export{f as default};
