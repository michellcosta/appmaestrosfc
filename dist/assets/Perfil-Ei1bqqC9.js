import{g as e,c as r,f as s,j as t,a,u as o,h as i,P as l,e as n,d as c,i as d}from"./vendor-ui-Cg0qxSES.js";import{c as m,b as u,B as x,g as h,C as p,f as g,S as f,R as b,Z as j,m as v,T as y,d as w,k as N,a as k,h as C,U as S,e as M}from"./index-XxW9FBxQ.js";import{r as P}from"./vendor-react-CyD6OLG_.js";import{D as z,a as A,b as D,c as q,d as E}from"./dialog-C8tkcOsA.js";import{M as R}from"./mail-C10ji3et.js";import{C as G}from"./check-Cf6Eusfg.js";import{C as _}from"./copy-BU4q-tvH.js";import{C as T}from"./clock-DeGhZLZS.js";import{C as I}from"./calendar-BrX1EaW7.js";import{E as $,S as F,M as L}from"./sun-CA4sBXJa.js";import{B as O}from"./badge-hWvPWwxj.js";import{I as V}from"./input-uMYoR_2G.js";import{S as U,a as B,b as H,c as K,d as Y}from"./select-DPwYioei.js";import{S as W}from"./search-Vi8H8w3g.js";import{u as X}from"./matchStore-Cq_uepae.js";import{u as J}from"./gamesStore-CEKKs3cA.js";import{u as Z}from"./usePermissions-C7BJFuWB.js";import{c as Q}from"./middleware-BLDYzNRS.js";import{u as ee}from"./vendor-router-VFXGavtY.js";import{C as re}from"./crown-CyBj_N2G.js";import{S as se}from"./square-pen-Z_vz8fGA.js";import{S as te}from"./shield-DWCzQdRN.js";import{U as ae}from"./users-CT76zCld.js";import{U as oe}from"./user-plus-2isPmhvc.js";import{L as ie}from"./log-out-DoNdvP1Z.js";import"./vendor-pdf-oqmhCI76.js";import"./vendor-utils-CrFdsnXa.js";const le=m("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ne=m("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),ce=m("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),de=m("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),me=m("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),ue=m("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xe=m("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),he=m("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var pe=["PageUp","PageDown"],ge=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],fe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},be="Slider",[je,ve,ye]=e(be),[we,Ne]=r(be,[ye]),[ke,Ce]=we(be),Se=P.forwardRef((e,r)=>{const{name:o,min:i=0,max:l=100,step:n=1,orientation:c="horizontal",disabled:m=!1,minStepsBetweenThumbs:u=0,defaultValue:x=[i],value:h,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:f=!1,form:b,...j}=e,v=P.useRef(new Set),y=P.useRef(0),w="horizontal"===c?ze:Ae,[N=[],k]=s({prop:h,defaultProp:x,onChange:e=>{const r=[...v.current];r[y.current]?.focus(),p(e)}}),C=P.useRef(N);function S(e,r,{commit:s}={commit:!1}){const t=function(e){return(String(e).split(".")[1]||"").length}(n),a=function(e,r){const s=Math.pow(10,r);return Math.round(e*s)/s}(Math.round((e-i)/n)*n+i,t),o=d(a,[i,l]);k((e=[])=>{const t=function(e=[],r,s){const t=[...e];return t[s]=r,t.sort((e,r)=>e-r)}(e,o,r);if(function(e,r){if(r>0){const s=function(e){return e.slice(0,-1).map((r,s)=>e[s+1]-r)}(e);return Math.min(...s)>=r}return!0}(t,u*n)){y.current=t.indexOf(o);const r=String(t)!==String(e);return r&&s&&g(t),r?t:e}return e})}return t.jsx(ke,{scope:e.__scopeSlider,name:o,disabled:m,min:i,max:l,valueIndexToChangeRef:y,thumbs:v.current,values:N,orientation:c,form:b,children:t.jsx(je.Provider,{scope:e.__scopeSlider,children:t.jsx(je.Slot,{scope:e.__scopeSlider,children:t.jsx(w,{"aria-disabled":m,"data-disabled":m?"":void 0,...j,ref:r,onPointerDown:a(j.onPointerDown,()=>{m||(C.current=N)}),min:i,max:l,inverted:f,onSlideStart:m?void 0:function(e){const r=function(e,r){if(1===e.length)return 0;const s=e.map(e=>Math.abs(e-r)),t=Math.min(...s);return s.indexOf(t)}(N,e);S(e,r)},onSlideMove:m?void 0:function(e){S(e,y.current)},onSlideEnd:m?void 0:function(){const e=C.current[y.current];N[y.current]!==e&&g(N)},onHomeKeyDown:()=>!m&&S(i,0,{commit:!0}),onEndKeyDown:()=>!m&&S(l,N.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:r})=>{if(!m){const s=pe.includes(e.key)||e.shiftKey&&ge.includes(e.key)?10:1,t=y.current;S(N[t]+n*s*r,t,{commit:!0})}}})})})})});Se.displayName=be;var[Me,Pe]=we(be,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ze=P.forwardRef((e,r)=>{const{min:s,max:a,dir:l,inverted:n,onSlideStart:c,onSlideMove:d,onSlideEnd:m,onStepKeyDown:u,...x}=e,[h,p]=P.useState(null),g=o(r,e=>p(e)),f=P.useRef(void 0),b=i(l),j="ltr"===b,v=j&&!n||!j&&n;function y(e){const r=f.current||h.getBoundingClientRect(),t=Le([0,r.width],v?[s,a]:[a,s]);return f.current=r,t(e-r.left)}return t.jsx(Me,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:t.jsx(De,{dir:b,"data-orientation":"horizontal",...x,ref:g,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const r=y(e.clientX);c?.(r)},onSlideMove:e=>{const r=y(e.clientX);d?.(r)},onSlideEnd:()=>{f.current=void 0,m?.()},onStepKeyDown:e=>{const r=fe[v?"from-left":"from-right"].includes(e.key);u?.({event:e,direction:r?-1:1})}})})}),Ae=P.forwardRef((e,r)=>{const{min:s,max:a,inverted:i,onSlideStart:l,onSlideMove:n,onSlideEnd:c,onStepKeyDown:d,...m}=e,u=P.useRef(null),x=o(r,u),h=P.useRef(void 0),p=!i;function g(e){const r=h.current||u.current.getBoundingClientRect(),t=Le([0,r.height],p?[a,s]:[s,a]);return h.current=r,t(e-r.top)}return t.jsx(Me,{scope:e.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:t.jsx(De,{"data-orientation":"vertical",...m,ref:x,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const r=g(e.clientY);l?.(r)},onSlideMove:e=>{const r=g(e.clientY);n?.(r)},onSlideEnd:()=>{h.current=void 0,c?.()},onStepKeyDown:e=>{const r=fe[p?"from-bottom":"from-top"].includes(e.key);d?.({event:e,direction:r?-1:1})}})})}),De=P.forwardRef((e,r)=>{const{__scopeSlider:s,onSlideStart:o,onSlideMove:i,onSlideEnd:n,onHomeKeyDown:c,onEndKeyDown:d,onStepKeyDown:m,...u}=e,x=Ce(be,s);return t.jsx(l.span,{...u,ref:r,onKeyDown:a(e.onKeyDown,e=>{"Home"===e.key?(c(e),e.preventDefault()):"End"===e.key?(d(e),e.preventDefault()):pe.concat(ge).includes(e.key)&&(m(e),e.preventDefault())}),onPointerDown:a(e.onPointerDown,e=>{const r=e.target;r.setPointerCapture(e.pointerId),e.preventDefault(),x.thumbs.has(r)?r.focus():o(e)}),onPointerMove:a(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&i(e)}),onPointerUp:a(e.onPointerUp,e=>{const r=e.target;r.hasPointerCapture(e.pointerId)&&(r.releasePointerCapture(e.pointerId),n(e))})})}),qe="SliderTrack",Ee=P.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,o=Ce(qe,s);return t.jsx(l.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...a,ref:r})});Ee.displayName=qe;var Re="SliderRange",Ge=P.forwardRef((e,r)=>{const{__scopeSlider:s,...a}=e,i=Ce(Re,s),n=Pe(Re,s),c=P.useRef(null),d=o(r,c),m=i.values.length,u=i.values.map(e=>Fe(e,i.min,i.max)),x=m>1?Math.min(...u):0,h=100-Math.max(...u);return t.jsx(l.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...a,ref:d,style:{...e.style,[n.startEdge]:x+"%",[n.endEdge]:h+"%"}})});Ge.displayName=Re;var _e="SliderThumb",Te=P.forwardRef((e,r)=>{const s=ve(e.__scopeSlider),[a,i]=P.useState(null),l=o(r,e=>i(e)),n=P.useMemo(()=>a?s().findIndex(e=>e.ref.current===a):-1,[s,a]);return t.jsx(Ie,{...e,ref:l,index:n})}),Ie=P.forwardRef((e,r)=>{const{__scopeSlider:s,index:i,name:c,...d}=e,m=Ce(_e,s),u=Pe(_e,s),[x,h]=P.useState(null),p=o(r,e=>h(e)),g=!x||(m.form||!!x.closest("form")),f=n(x),b=m.values[i],j=void 0===b?0:Fe(b,m.min,m.max),v=function(e,r){return r>2?`Value ${e+1} of ${r}`:2===r?["Minimum","Maximum"][e]:void 0}(i,m.values.length),y=f?.[u.size],w=y?function(e,r,s){const t=e/2,a=Le([0,50],[0,t]);return(t-a(r)*s)*s}(y,j,u.direction):0;return P.useEffect(()=>{if(x)return m.thumbs.add(x),()=>{m.thumbs.delete(x)}},[x,m.thumbs]),t.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${j}% + ${w}px)`},children:[t.jsx(je.ItemSlot,{scope:e.__scopeSlider,children:t.jsx(l.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":m.min,"aria-valuenow":b,"aria-valuemax":m.max,"aria-orientation":m.orientation,"data-orientation":m.orientation,"data-disabled":m.disabled?"":void 0,tabIndex:m.disabled?void 0:0,...d,ref:p,style:void 0===b?{display:"none"}:e.style,onFocus:a(e.onFocus,()=>{m.valueIndexToChangeRef.current=i})})}),g&&t.jsx($e,{name:c??(m.name?m.name+(m.values.length>1?"[]":""):void 0),form:m.form,value:b},i)]})});Te.displayName=_e;var $e=P.forwardRef(({__scopeSlider:e,value:r,...s},a)=>{const i=P.useRef(null),n=o(i,a),d=c(r);return P.useEffect(()=>{const e=i.current;if(!e)return;const s=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(s,"value").set;if(d!==r&&t){const s=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(s)}},[d,r]),t.jsx(l.input,{style:{display:"none"},...s,ref:n,defaultValue:r})});function Fe(e,r,s){return d(100/(s-r)*(e-r),[0,100])}function Le(e,r){return s=>{if(e[0]===e[1]||r[0]===r[1])return r[0];const t=(r[1]-r[0])/(e[1]-e[0]);return r[0]+t*(s-e[0])}}$e.displayName="RadioBubbleInput";var Oe=Se,Ve=Ee,Ue=Ge,Be=Te;const He=P.forwardRef(({className:e,...r},s)=>t.jsxs(Oe,{ref:s,className:u("relative flex w-full touch-none select-none items-center",e),...r,children:[t.jsx(Ve,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:t.jsx(Ue,{className:"absolute h-full bg-primary"})}),t.jsx(Be,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));function Ke({imageSrc:e,onCropComplete:r,onCancel:s}){const a=P.useRef(null),o=P.useRef(null),[i,l]=P.useState(1),[n,c]=P.useState(0),[d,m]=P.useState({x:0,y:0}),[u,h]=P.useState(!1),[p,g]=P.useState({x:0,y:0}),[f,b]=P.useState(!1),j=P.useCallback(()=>{const e=a.current,r=o.current;if(!e||!r||!f)return;const s=e.getContext("2d");if(!s)return;const t=300;e.width=t,e.height=t,s.clearRect(0,0,t,t),s.save(),s.beginPath(),s.arc(150,150,150,0,2*Math.PI),s.clip();s.translate(150+d.x,150+d.y),s.rotate(n*Math.PI/180),s.scale(i,i);const l=r.naturalWidth/r.naturalHeight;let c,m;l>1?(m=t,c=t*l):(c=t,m=t/l),s.drawImage(r,-c/2,-m/2,c,m),s.restore()},[i,n,d,f]);P.useEffect(()=>{f&&j()},[j,f]);const v=()=>{h(!1)};return t.jsxs("div",{className:"space-y-4",children:[t.jsx("img",{ref:o,src:e,alt:"Original",className:"hidden",onLoad:()=>{b(!0)}}),t.jsx("div",{className:"flex justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("canvas",{ref:a,className:"border-2 border-zinc-200 rounded-full cursor-move select-none",style:{width:"300px",height:"300px",touchAction:"none"},onMouseDown:e=>{e.preventDefault(),h(!0),g({x:e.clientX-d.x,y:e.clientY-d.y})},onMouseMove:e=>{u&&(e.preventDefault(),m({x:e.clientX-p.x,y:e.clientY-p.y}))},onMouseUp:v,onMouseLeave:v,onTouchStart:e=>{e.preventDefault();const r=e.touches[0];h(!0),g({x:r.clientX-d.x,y:r.clientY-d.y})},onTouchMove:e=>{if(!u)return;e.preventDefault();const r=e.touches[0];m({x:r.clientX-p.x,y:r.clientY-p.y})},onTouchEnd:()=>{h(!1)},onWheel:e=>{e.preventDefault();const r=e.deltaY>0?-.1:.1,s=Math.max(.5,Math.min(3,i+r));l(s)}}),t.jsx("div",{className:"absolute inset-0 border-2 border-dashed border-zinc-400 rounded-full pointer-events-none opacity-50"})]})}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[t.jsx(he,{className:"w-4 h-4"}),"Zoom"]}),t.jsxs("span",{className:"text-sm text-zinc-500",children:[Math.round(100*i),"%"]})]}),t.jsx(He,{value:[i],onValueChange:e=>{l(e[0])},min:.5,max:3,step:.1,className:"w-full"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(x,{variant:"outline",size:"sm",onClick:()=>{c(e=>(e+90)%360)},className:"flex-1 flex items-center justify-center",children:[t.jsx(me,{className:"w-4 h-4 mr-2"}),"Girar"]}),t.jsx(x,{variant:"outline",size:"sm",onClick:()=>{l(1),c(0),m({x:0,y:0})},className:"flex-1",children:"Resetar"})]}),t.jsxs("div",{className:"text-xs text-zinc-500 text-center space-y-1",children:[t.jsxs("p",{className:"flex items-center justify-center gap-1",children:[t.jsx(de,{className:"w-3 h-3"}),"Arraste para mover a imagem"]}),t.jsx("p",{children:"Use o scroll do mouse ou slider para zoom"}),t.jsx("p",{children:"Toque e arraste funciona no mobile"})]})]}),t.jsxs("div",{className:"flex gap-2 pt-4",children:[t.jsx(x,{variant:"outline",onClick:s,className:"flex-1",children:"Cancelar"}),t.jsx(x,{onClick:()=>{try{const e=a.current;if(!e)return;const s=document.createElement("canvas"),t=s.getContext("2d");if(!t)return;const o=512;s.width=o,s.height=o,t.drawImage(e,0,0,o,o);const i=s.toDataURL("image/jpeg",.9);r(i)}catch(e){alert("Erro ao processar a imagem")}},className:"flex-1 bg-green-600 hover:bg-green-700",children:"Aplicar Recorte"})]})]})}function Ye(){const[e,r]=P.useState([]),[s,t]=P.useState(!1),a=e=>{try{localStorage.setItem("maestrosfc_simple_invites",JSON.stringify(e)),r(e)}catch(s){}};return{invites:e,loading:s,createInvite:async(r,s)=>{t(!0);try{const o=(()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let r="";for(let s=0;s<8;s++)r+=e.charAt(Math.floor(36*Math.random()));return r})(),i=window.location.host.includes("localhost")||window.location.host.includes("192.168")||window.location.port.includes("808"),l=`${i?"https://maestrosfc.com.br":window.location.origin}/join?code=${o}&type=${r}`,n=((e,r)=>{const s="mensalista"===e?"Mensalista":"Diarista",t="mensalista"===e?"⭐":"⚡";return`🏆 MAESTROS FC - CONVITE ${s.toUpperCase()}! ${t}\n\nOlá! Você foi convidado para participar do nosso grupo de futebol como ${s.toLowerCase()}!\n\n⚽ Partidas regulares\n👥 Grupo ativo e organizado  \n🏆 Sistema de ranking\n💰 ${"mensalista"===e?"Mensalidade acessível":"Pagamento por partida"}\n\n🔗 Entre agora: ${r}\n\n#MaestrosFC #Futebol #Pelada`})(r,l),c={id:`invite_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:r,code:o,link:l,message:n,createdAt:(new Date).toISOString(),expiresAt:new Date(Date.now()+864e5).toISOString(),createdBy:s},d=[...e,c];return a(d),t(!1),c}catch(o){return t(!1),null}},copyToClipboard:async e=>{if(navigator.clipboard)try{return await navigator.clipboard.writeText(e),!0}catch(r){}try{const r=document.createElement("textarea");r.value=e,r.style.position="absolute",r.style.left="-9999px",r.style.top="0",r.style.opacity="0",r.style.pointerEvents="none",r.setAttribute("readonly",""),document.body.appendChild(r),r.select(),r.setSelectionRange(0,r.value.length);const s=document.execCommand("copy");return document.body.removeChild(r),!!s}catch(r){return!1}},cleanExpiredInvites:()=>{const r=new Date,s=e.filter(e=>new Date(e.expiresAt)>r);a(s)},getInvitesByType:r=>e.filter(e=>e.type===r),getRecentInvites:(r=10)=>e.sort((e,r)=>new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime()).slice(0,r),isInviteValid:r=>{const s=e.find(e=>e.code===r);if(!s)return!1;const t=new Date;return new Date(s.expiresAt)>t},getInviteByCode:r=>e.find(e=>e.code===r)||null,loadInvites:()=>{try{const e=localStorage.getItem("maestrosfc_simple_invites");if(e){const s=JSON.parse(e);r(s)}else r([])}catch(e){r([])}}}}function We({open:e,onOpenChange:r}){const{user:s}=h(),[a,o]=P.useState(null),[i,l]=P.useState(null),[n,c]=P.useState(null),{invites:d,loading:m,createInvite:u,copyToClipboard:v,cleanExpiredInvites:y,getRecentInvites:w,loadInvites:N}=Ye();P.useEffect(()=>{e&&N()},[e,N]);const k=async e=>{if(!s)return;const r=s.id||s.email||"unknown",t=await u(e,r);t?(l(e),c(t)):alert("Erro ao criar convite. Tente novamente.")},C=async e=>{await v(e.link)?(o(e.id),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar link. Verifique as permissões do navegador.")},S=e=>new Date(e).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),M=e=>"mensalista"===e?"Mensalista":"Diarista",F=w(5);return t.jsx(z,{open:e,onOpenChange:r,children:t.jsxs(A,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[t.jsx(D,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(R,{className:"w-5 h-5 text-blue-500"}),"Criar Convites para WhatsApp"]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(p,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>k("mensalista"),children:t.jsxs(g,{className:"p-6 text-center",children:[t.jsx(f,{className:"w-12 h-12 mx-auto text-purple-500 mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-purple-600 mb-2",children:"Convite Mensalista"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Para jogadores que pagam mensalidade fixa"}),t.jsx(x,{className:"w-full bg-purple-600 hover:bg-purple-700",disabled:m,children:m?t.jsx(b,{className:"w-4 h-4 animate-spin"}):"Gerar Convite"})]})}),t.jsx(p,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>k("diarista"),children:t.jsxs(g,{className:"p-6 text-center",children:[t.jsx(j,{className:"w-12 h-12 mx-auto text-orange-500 mb-3"}),t.jsx("h3",{className:"text-lg font-semibold text-orange-600 mb-2",children:"Convite Diarista"}),t.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Para jogadores que pagam por partida"}),t.jsx(x,{className:"w-full bg-orange-600 hover:bg-orange-700",disabled:m,children:m?t.jsx(b,{className:"w-4 h-4 animate-spin"}):"Gerar Convite"})]})})]}),n&&t.jsx(p,{className:"border-2 border-green-200 bg-green-50 dark:bg-green-900/20",children:t.jsxs(g,{className:"p-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(G,{className:"w-5 h-5 text-green-500"}),t.jsxs("h3",{className:"text-lg font-semibold text-green-600",children:["Convite ",M(n.type)," Criado!"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Link do Convite:"}),t.jsx("div",{className:"text-sm font-mono text-gray-800 dark:text-gray-200 break-all",children:n.link})]}),t.jsx(x,{size:"sm",onClick:()=>C(n),className:"ml-3 flex items-center gap-1",variant:a===n.id?"default":"outline",children:a===n.id?t.jsxs(t.Fragment,{children:[t.jsx(G,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-xs",children:"Copiado!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(_,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs",children:"Copiar"})]})})]})}),t.jsxs("div",{className:"bg-white dark:bg-gray-800 p-3 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("div",{className:"text-xs text-gray-500",children:"Mensagem para WhatsApp:"}),t.jsx(x,{size:"sm",onClick:()=>(async e=>{await v(e.message)?(o(`message_${e.id}`),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar mensagem. Verifique as permissões do navegador.")})(n),className:"flex items-center gap-1",variant:a===`message_${n.id}`?"default":"outline",children:a===`message_${n.id}`?t.jsxs(t.Fragment,{children:[t.jsx(G,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-xs",children:"Copiado!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(_,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs",children:"Copiar"})]})})]}),t.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-line",children:n.message})]}),t.jsx(x,{onClick:()=>(async e=>{const r=`${e.message}\n\n🔗 Link: ${e.link}`;await v(r)?(o(`all_${e.id}`),setTimeout(()=>o(null),3e3)):alert("❌ Erro ao copiar conteúdo. Verifique as permissões do navegador.")})(n),className:"w-full bg-green-600 hover:bg-green-700",variant:(n.id,"default"),children:a===`all_${n.id}`?t.jsxs(t.Fragment,{children:[t.jsx(G,{className:"w-4 h-4 mr-2"}),"Copiado! Cole no WhatsApp"]}):t.jsxs(t.Fragment,{children:[t.jsx(_,{className:"w-4 h-4 mr-2"}),"Copiar Link + Mensagem"]})}),t.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(T,{className:"w-3 h-3"}),t.jsxs("span",{children:["Expira em ",S(n.expiresAt)]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(I,{className:"w-3 h-3"}),t.jsxs("span",{children:["Criado em ",S(n.createdAt)]})]})]})]})]})}),F.length>0&&t.jsx(p,{children:t.jsxs(g,{className:"p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(T,{className:"w-5 h-5 text-gray-500"}),"Convites Recentes (",F.length,")"]}),t.jsx("div",{className:"space-y-3",children:F.map(e=>{return t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[(r=e.type,"mensalista"===r?t.jsx(f,{className:"w-5 h-5 text-purple-500"}):t.jsx(j,{className:"w-5 h-5 text-orange-500"})),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-sm",children:M(e.type)}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Criado em ",S(e.createdAt)]}),t.jsxs("div",{className:"text-xs text-gray-500",children:["Expira em ",S(e.expiresAt)]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(x,{size:"sm",variant:"outline",onClick:()=>C(e),className:"flex items-center gap-1",children:a===e.id?t.jsxs(t.Fragment,{children:[t.jsx(G,{className:"w-4 h-4 text-green-500"}),t.jsx("span",{className:"text-xs",children:"Copiado!"})]}):t.jsxs(t.Fragment,{children:[t.jsx(_,{className:"w-4 h-4"}),t.jsx("span",{className:"text-xs",children:"Copiar"})]})}),t.jsx(x,{size:"sm",variant:"outline",onClick:()=>window.open(e.link,"_blank"),className:"flex items-center gap-1",children:t.jsx($,{className:"w-4 h-4"})})]})]},e.id);var r})})]})}),0===d.length&&t.jsx(p,{children:t.jsxs(g,{className:"p-8 text-center",children:[t.jsx(R,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Nenhum convite criado"}),t.jsx("p",{className:"text-gray-500",children:"Crie seu primeiro convite clicando nos botões acima!"})]})})]}),t.jsxs(E,{children:[t.jsx(x,{variant:"outline",onClick:()=>r(!1),children:"Fechar"}),t.jsx(x,{onClick:y,variant:"outline",className:"text-orange-600 hover:text-orange-700",children:"Limpar Expirados"}),t.jsx(x,{onClick:async()=>{const e="🧪 TESTE DE CÓPIA - Maestros FC\n\nSe você está vendo esta mensagem, a função de cópia está funcionando!\n\n✅ Timestamp: "+(new Date).toLocaleString("pt-BR");await v(e)?alert("✅ Teste de cópia bem-sucedido! Cole em qualquer lugar para verificar."):alert("❌ Teste de cópia falhou! Verifique o console para mais detalhes.")},variant:"outline",className:"text-blue-600 hover:text-blue-700",children:"🧪 Testar Cópia"})]})]})})}function Xe(){const{theme:e,setTheme:r}=v(),s=[{id:"light",label:"Claro",icon:F},{id:"dark",label:"Escuro",icon:L},{id:"auto",label:"Automático",icon:ce}];return t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("span",{className:"text-xs font-medium text-zinc-600 dark:text-zinc-400",children:"Tema:"}),t.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-zinc-700 p-1 rounded-lg",children:s.map(s=>{const a=s.icon,o=e===s.id;return t.jsx("button",{className:"h-8 w-8 p-0 transition-all duration-200 border-0 rounded-md flex items-center justify-center "+(o?"bg-maestros-green hover:bg-maestros-green/90 text-white shadow-sm":"bg-transparent hover:bg-maestros-green/10 text-gray-600 dark:text-gray-300 hover:text-maestros-green"),onClick:()=>r(s.id),title:s.label,children:t.jsx(a,{className:"w-4 h-4"})},s.id)})})]})}He.displayName=Oe.displayName;const Je={basicas:{name:"Básicas",color:"green",description:"Primeiros passos no futebol",icon:"🥉"},intermediarias:{name:"Intermediárias",color:"blue",description:"Desenvolvendo suas habilidades",icon:"🥈"},avancadas:{name:"Avançadas",color:"purple",description:"Dominando o jogo",icon:"🥇"},lendarias:{name:"Lendárias",color:"gold",description:"Lendas do futebol",icon:"💎"},performance:{name:"Performance",color:"rainbow",description:"Habilidades especiais",icon:"⭐"},especiais:{name:"Especiais",color:"unique",description:"Conquistas únicas",icon:"👑"}},Ze={common:{name:"Comum",color:"from-green-400 to-emerald-500",borderColor:"border-green-300 dark:border-green-600",bgColor:"bg-green-50 dark:bg-green-900/20",textColor:"text-green-800 dark:text-green-300"},rare:{name:"Rara",color:"from-blue-400 to-cyan-500",borderColor:"border-blue-300 dark:border-blue-600",bgColor:"bg-blue-50 dark:bg-blue-900/20",textColor:"text-blue-800 dark:text-blue-300"},epic:{name:"Épica",color:"from-purple-400 to-violet-500",borderColor:"border-purple-300 dark:border-purple-600",bgColor:"bg-purple-50 dark:bg-purple-900/20",textColor:"text-purple-800 dark:text-purple-300"},legendary:{name:"Lendária",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-300 dark:border-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-900/20",textColor:"text-yellow-800 dark:text-yellow-300"},mythic:{name:"Mítica",color:"from-pink-400 to-rose-500",borderColor:"border-pink-300 dark:border-pink-600",bgColor:"bg-pink-50 dark:bg-pink-900/20",textColor:"text-pink-800 dark:text-pink-300"},unique:{name:"Única",color:"from-yellow-400 to-orange-500",borderColor:"border-yellow-300 dark:border-yellow-600",bgColor:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20",textColor:"text-yellow-800 dark:text-yellow-300"}};function Qe(e,r){const s=[];return s.push({id:"first-goal",name:"Primeiro Gol",emoji:"⚽",description:"1º gol da vida",requirement:1,current:e.totalGoals,unlocked:e.totalGoals>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"first-assist",name:"Primeira Assist",emoji:"🎯",description:"1ª assistência",requirement:1,current:e.totalAssists,unlocked:e.totalAssists>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"debutante",name:"Debutante",emoji:"⭐",description:"1ª partida",requirement:1,current:e.totalMatches,unlocked:e.totalMatches>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"first-payment",name:"Primeiro Pago",emoji:"💰",description:"1º pagamento",requirement:1,current:e.totalPayments,unlocked:e.totalPayments>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"primeiro-passo",name:"Primeiro Passo",emoji:"🏃",description:"Participar de 1 partida",requirement:1,current:e.totalMatches,unlocked:e.totalMatches>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"boas-vindas",name:"Boas Vindas",emoji:"👋",description:"Fazer login pela primeira vez",requirement:1,current:e.loginDays||0,unlocked:(e.loginDays||0)>=1,color:Ze.common.color,borderColor:Ze.common.borderColor,rarity:"common",category:"basicas"}),s.push({id:"nao-falto-uma",name:"Não Falto Uma",emoji:"🔗",description:"5 partidas seguidas",requirement:5,current:e.consecutiveMatches,unlocked:e.consecutiveMatches>=5,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"presente",name:"Presente",emoji:"🔥",description:"5 partidas total",requirement:5,current:e.totalMatches,unlocked:e.totalMatches>=5,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"velocista",name:"Velocista",emoji:"⚡",description:"Fazer 3 gols em 1 partida",requirement:3,current:0,unlocked:!1,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"precisao",name:"Precisão",emoji:"🎯",description:"5 assistências em 1 partida",requirement:5,current:0,unlocked:!1,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"resistencia",name:"Resistência",emoji:"💪",description:"Jogar 3 partidas seguidas",requirement:3,current:e.consecutiveMatches,unlocked:e.consecutiveMatches>=3,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"maratonista",name:"Maratonista",emoji:"🏃",description:"10 partidas em 1 mês",requirement:10,current:e.monthlyMatches||0,unlocked:(e.monthlyMatches||0)>=10,color:Ze.rare.color,borderColor:Ze.rare.borderColor,rarity:"rare",category:"intermediarias"}),s.push({id:"artilheiro",name:"Artilheiro",emoji:"🥊",description:"15+ gols total",requirement:15,current:e.totalGoals,unlocked:e.totalGoals>=15,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"criador",name:"Criador",emoji:"⚡",description:"10+ assistências",requirement:10,current:e.totalAssists,unlocked:e.totalAssists>=10,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"rei-futebol",name:"Rei do Futebol",emoji:"👑",description:"50 gols totais",requirement:50,current:e.totalGoals,unlocked:e.totalGoals>=50,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"mestre-assistencias",name:"Mestre das Assistências",emoji:"🎪",description:"25 assistências totais",requirement:25,current:e.totalAssists,unlocked:e.totalAssists>=25,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"campeao",name:"Campeão",emoji:"🏆",description:"20 vitórias totais",requirement:20,current:e.victories,unlocked:e.victories>=20,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"estrela",name:"Estrela",emoji:"⭐",description:"100 partidas jogadas",requirement:100,current:e.totalMatches,unlocked:e.totalMatches>=100,color:Ze.epic.color,borderColor:Ze.epic.borderColor,rarity:"epic",category:"avancadas"}),s.push({id:"lenda-viva",name:"Lenda Viva",emoji:"🔥",description:"100 gols totais",requirement:100,current:e.totalGoals,unlocked:e.totalGoals>=100,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"mestre-supremo",name:"Mestre Supremo",emoji:"⚡",description:"50 assistências totais",requirement:50,current:e.totalAssists,unlocked:e.totalAssists>=50,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"imperador",name:"Imperador",emoji:"👑",description:"50 vitórias totais",requirement:50,current:e.victories,unlocked:e.victories>=50,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"lenda",name:"Lenda",emoji:"🌟",description:"200 partidas jogadas",requirement:200,current:e.totalMatches,unlocked:e.totalMatches>=200,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"campeao-absoluto",name:"Campeão Absoluto",emoji:"🏆",description:"100 vitórias totais",requirement:100,current:e.victories,unlocked:e.victories>=100,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"idolo",name:"Ídolo",emoji:"⭐",description:"500 partidas jogadas",requirement:500,current:e.totalMatches,unlocked:e.totalMatches>=500,color:Ze.legendary.color,borderColor:Ze.legendary.borderColor,rarity:"legendary",category:"lendarias"}),s.push({id:"raio",name:"Raio",emoji:"⚡",description:"Gol em menos de 1 minuto",requirement:1,current:e.fastestGoal&&e.fastestGoal<60?1:0,unlocked:(e.fastestGoal||999)<60,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"atirador-elite",name:"Atirador de Elite",emoji:"🎯",description:"90% de precisão em gols",requirement:90,current:e.goalAccuracy||0,unlocked:(e.goalAccuracy||0)>=90,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"muralha",name:"Muralha",emoji:"🛡️",description:"0 gols sofridos em 5 partidas",requirement:5,current:e.cleanSheets||0,unlocked:(e.cleanSheets||0)>=5,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"hat-trick",name:"Hat-trick",emoji:"🔥",description:"3 gols em 1 partida",requirement:1,current:e.hatTricks||0,unlocked:(e.hatTricks||0)>=1,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"assistencia-perfeita",name:"Assistência Perfeita",emoji:"🎪",description:"5 assistências em 1 partida",requirement:1,current:e.perfectAssists||0,unlocked:(e.perfectAssists||0)>=1,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),s.push({id:"mvp",name:"MVP",emoji:"👑",description:"Melhor jogador da partida",requirement:1,current:e.mvpCount||0,unlocked:(e.mvpCount||0)>=1,color:Ze.mythic.color,borderColor:Ze.mythic.borderColor,rarity:"mythic",category:"performance"}),"owner"===r&&s.push({id:"grande-lider",name:"O GRANDE LÍDER",emoji:"👑",description:"Soberano Supremo",requirement:1,current:1,unlocked:!0,color:Ze.unique.color,borderColor:Ze.unique.borderColor,rarity:"unique",category:"especiais"}),s.forEach(e=>{!e.unlocked&&e.requirement>0&&(e.progress=Math.min(100,e.current/e.requirement*100))}),s}function er({playerStats:e,userRole:r,onClose:s}){const[a,o]=P.useState(""),[i,l]=P.useState("all"),[n,c]=P.useState("all"),[d,m]=P.useState(!1),u=P.useMemo(()=>Qe(e,r),[e,r]),h=P.useMemo(()=>{let e=u;var r,s;return a.trim()&&(e=function(e,r){if(!r.trim())return e;const s=r.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s))}(e,a)),"all"!==i&&(r=e,e="all"===(s=i)?r:r.filter(e=>e.category===s)),"all"!==n&&(e=function(e,r){return"all"===r?e:e.filter(e=>e.rarity===r)}(e,n)),d&&(e=e.filter(e=>e.unlocked)),e},[u,a,i,n,d]),f=P.useMemo(()=>function(e){const r=e.length,s=e.filter(e=>e.unlocked).length;return{total:r,unlocked:s,locked:r-s,progress:r>0?Math.round(s/r*100):0,byCategory:e.reduce((e,r)=>(e[r.category]=(e[r.category]||0)+1,e),{}),byRarity:e.reduce((e,r)=>(e[r.rarity]=(e[r.rarity]||0)+1,e),{})}}(u),[u]),b=({figurinha:e})=>t.jsx(p,{className:`\n      relative overflow-hidden transition-all duration-300 hover:scale-105\n      ${e.unlocked?`bg-gradient-to-br ${e.color} ${Ze[e.rarity].bgColor} border-2 ${e.borderColor}`:"bg-muted/50 border-muted"}\n    `,children:t.jsxs(g,{className:"p-4",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"text-3xl",children:e.emoji}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(O,{variant:e.unlocked?"default":"secondary",className:`\n                ${e.unlocked?`bg-gradient-to-r ${e.color} text-white`:"bg-muted text-muted-foreground"}\n              `,children:Ze[e.rarity].name}),e.unlocked&&t.jsx(y,{className:"h-4 w-4 text-yellow-500"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h3",{className:`font-bold text-lg ${e.unlocked?Ze[e.rarity].textColor:"text-muted-foreground"}`,children:e.name}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.description}),!e.unlocked&&void 0!==e.progress&&t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[t.jsx("span",{children:"Progresso"}),t.jsxs("span",{children:[Math.round(e.progress),"%"]})]}),t.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})}),t.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.current," / ",e.requirement]})]}),e.unlocked&&t.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600 dark:text-green-400",children:[t.jsx(y,{className:"h-3 w-3"}),t.jsx("span",{children:"Desbloqueada!"})]})]})]})});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold",children:"Catálogo de Figurinhas"}),t.jsxs("p",{className:"text-muted-foreground",children:[f.unlocked," de ",f.total," figurinhas desbloqueadas (",f.progress,"%)"]})]}),s&&t.jsx(x,{variant:"outline",onClick:s,children:"Fechar"})]}),t.jsx(p,{children:t.jsx(g,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.unlocked}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Desbloqueadas"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-muted-foreground",children:f.locked}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Bloqueadas"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[f.progress,"%"]}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Progresso"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.total}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]})]})})}),t.jsx(p,{children:t.jsx(g,{className:"p-4",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),t.jsx(V,{placeholder:"Buscar figurinhas...",value:a,onChange:e=>o(e.target.value),className:"pl-10"})]}),t.jsxs(U,{value:i,onValueChange:l,children:[t.jsx(B,{children:t.jsx(H,{placeholder:"Categoria"})}),t.jsxs(K,{children:[t.jsx(Y,{value:"all",children:"Todas as categorias"}),Object.entries(Je).map(([e,r])=>t.jsxs(Y,{value:e,children:[r.icon," ",r.name]},e))]})]}),t.jsxs(U,{value:n,onValueChange:c,children:[t.jsx(B,{children:t.jsx(H,{placeholder:"Raridade"})}),t.jsxs(K,{children:[t.jsx(Y,{value:"all",children:"Todas as raridades"}),Object.entries(Ze).map(([e,r])=>t.jsx(Y,{value:e,children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:`w-3 h-3 rounded-full bg-gradient-to-r ${r.color}`}),r.name]})},e))]})]}),t.jsxs(x,{variant:d?"default":"outline",onClick:()=>m(!d),className:"flex items-center gap-2",children:[t.jsx(y,{className:"h-4 w-4"}),d?"Todas":"Desbloqueadas"]}),t.jsxs(x,{variant:"outline",onClick:()=>{o(""),l("all"),c("all"),m(!1)},className:"flex items-center gap-2",children:[t.jsx(ne,{className:"h-4 w-4"}),"Limpar"]})]})})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:h.map(e=>t.jsx(b,{figurinha:e},e.id))}),0===h.length&&t.jsx(p,{children:t.jsxs(g,{className:"p-8 text-center",children:[t.jsx(y,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma figurinha encontrada"}),t.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros para encontrar as figurinhas que procura."})]})})]})}function rr({className:e,...r}){return t.jsx("div",{className:`animate-pulse rounded-md bg-gray-300 dark:bg-gray-600 ${e}`,...r})}function sr({size:e="large"}){return t.jsx(rr,{className:`${{small:"w-12 h-12",medium:"w-20 h-20",large:"w-32 h-32"}[e]} rounded-full`})}function tr(){return t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(e=>t.jsx(p,{children:t.jsx(g,{className:"p-4 text-center",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx(rr,{className:"w-8 h-8 mx-auto mb-2 rounded"}),t.jsx(rr,{className:"h-6 w-8 mx-auto mb-2 rounded"}),t.jsx(rr,{className:"h-4 w-16 mx-auto rounded"})]})})},e))})}function ar(){return t.jsxs(p,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",children:[t.jsx(w,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rr,{className:"w-6 h-6 rounded"}),t.jsx(rr,{className:"h-6 w-32 rounded"})]})}),t.jsx(g,{children:t.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:Array.from({length:8}).map((e,r)=>t.jsxs("div",{className:"text-center p-3 bg-gray-200 dark:bg-gray-700 rounded-lg",children:[t.jsx(rr,{className:"w-8 h-8 mx-auto mb-2 rounded"}),t.jsx(rr,{className:"h-3 w-16 mx-auto mb-1 rounded"}),t.jsx(rr,{className:"h-3 w-12 mx-auto rounded"})]},r))})})]})}function or(){return t.jsx(p,{children:t.jsx(g,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx(sr,{size:"large"}),t.jsx(rr,{className:"h-8 w-24 rounded"})]}),t.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-3",children:[t.jsxs("div",{children:[t.jsx(rr,{className:"h-8 w-48 mx-auto sm:mx-0 mb-2 rounded"}),t.jsx(rr,{className:"h-4 w-64 mx-auto sm:mx-0 rounded"})]}),t.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-xl p-4 mt-4 border border-zinc-200 dark:border-zinc-700",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx(rr,{className:"w-4 h-4 rounded"}),t.jsx(rr,{className:"h-4 w-32 rounded"})]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rr,{className:"w-10 h-10 rounded-xl"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(rr,{className:"h-3 w-16 mb-1 rounded"}),t.jsx(rr,{className:"h-4 w-20 rounded"})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(rr,{className:"w-10 h-10 rounded-xl"}),t.jsxs("div",{className:"flex-1",children:[t.jsx(rr,{className:"h-3 w-16 mb-1 rounded"}),t.jsx(rr,{className:"h-4 w-20 rounded"})]})]})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsx(rr,{className:"h-8 w-20 rounded"})})]})]})})})}function ir(){return t.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:[t.jsx("div",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsxs("div",{children:[t.jsx(rr,{className:"h-6 w-24 mb-2 rounded"}),t.jsx(rr,{className:"h-4 w-48 rounded"})]}),t.jsx(rr,{className:"w-8 h-8 rounded"})]})}),t.jsx(or,{}),t.jsx(tr,{}),t.jsx(ar,{}),t.jsxs(p,{children:[t.jsx(w,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rr,{className:"w-5 h-5 rounded"}),t.jsx(rr,{className:"h-6 w-32 rounded"})]})}),t.jsx(g,{children:t.jsxs("div",{className:"text-center py-8",children:[t.jsx(rr,{className:"w-12 h-12 mx-auto mb-4 rounded"}),t.jsx(rr,{className:"h-4 w-48 mx-auto rounded"})]})})]}),t.jsxs(p,{children:[t.jsx(w,{children:t.jsx(rr,{className:"h-6 w-24 rounded"})}),t.jsx(g,{children:t.jsx(rr,{className:"h-10 w-full rounded"})})]}),t.jsx(rr,{className:"h-10 w-full rounded"})]})}function lr({fileName:e,progress:r=0}){return t.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-blue-200 border-t-blue-600 rounded-full animate-spin"}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Processando: ",e]}),t.jsx("div",{className:"mt-1 w-full bg-blue-200 dark:bg-blue-800 rounded-full h-2",children:t.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r}%`}})}),t.jsxs("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:[Math.round(r),"% concluído"]})]})]})})}function nr(e){const[r,s]=P.useState({totalGoals:0,totalAssists:0,totalMatches:0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:0,participation:0,totalTimePlayed:0,totalYellowCards:0,totalRedCards:0,averageRating:0,goalsPerMatch:0,assistsPerMatch:0,manOfMatchCount:0,lastMatchDate:null}),[t,a]=P.useState(!0),[o,i]=P.useState(null),[l,n]=P.useState([]),[c,d]=P.useState([]);P.useEffect(()=>{if(!e)return;const r=async()=>{try{a(!0),i(null);const e=null,r=null,t=[],o=[],l=[];r&&r.code;const c=e?{totalGoals:e.total_goals||0,totalAssists:e.total_assists||0,totalMatches:e.total_matches||0,consecutiveMatches:0,totalPayments:0,victories:e.wins||0,draws:e.draws||0,defeats:e.losses||0,averageGoals:e.goals_per_match||0,participation:e.total_matches>0?Math.min(95,5*e.total_matches):0,totalTimePlayed:e.total_minutes_played||0,totalYellowCards:e.total_yellow_cards||0,totalRedCards:e.total_red_cards||0,averageRating:e.average_rating||0,goalsPerMatch:e.goals_per_match||0,assistsPerMatch:e.assists_per_match||0,manOfMatchCount:e.man_of_match_count||0,lastMatchDate:e.last_match_date||null}:{totalGoals:t?.length||0,totalAssists:o?.length||0,totalMatches:l?.length||0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:l?.length>0?Number(((t?.length||0)/l.length).toFixed(2)):0,participation:l?.length>0?Math.min(95,5*l.length):0,totalTimePlayed:l?.reduce((e,r)=>e+(r.minutes_played||0),0)||0,totalYellowCards:l?.reduce((e,r)=>e+(r.yellow_cards||0),0)||0,totalRedCards:l?.reduce((e,r)=>e+(r.red_cards||0),0)||0,averageRating:l?.length>0?Number((l.reduce((e,r)=>e+(r.rating||0),0)/l.length).toFixed(1)):0,goalsPerMatch:l?.length>0?Number(((t?.length||0)/l.length).toFixed(2)):0,assistsPerMatch:l?.length>0?Number(((o?.length||0)/l.length).toFixed(2)):0,manOfMatchCount:l?.filter(e=>e.is_man_of_match).length||0,lastMatchDate:l?.[0]?.created_at||null};n(t||[]),d(l||[]),s(c)}catch(e){i("Erro ao carregar estatísticas em tempo real"),s({totalGoals:0,totalAssists:0,totalMatches:0,consecutiveMatches:0,totalPayments:0,victories:0,draws:0,defeats:0,averageGoals:0,participation:0,totalTimePlayed:0,totalYellowCards:0,totalRedCards:0,averageRating:0,goalsPerMatch:0,assistsPerMatch:0,manOfMatchCount:0,lastMatchDate:null})}finally{a(!1)}};r();const t=setInterval(()=>{r()},3e4);return()=>{clearInterval(t)}},[e]);return{stats:r,loading:t,error:o,goalEvents:l,playerMatches:c,addGoal:async(e,r,t,a="Preto",o=0,i=1,l=!1,n=!1)=>{try{const e={id:`goal_${Date.now()}`};return s(e=>({...e,totalGoals:e.totalGoals+1,goalsPerMatch:e.totalMatches>0?Number(((e.totalGoals+1)/e.totalMatches).toFixed(2)):0})),await fetchPlayerStats(),e}catch(c){throw c}},addPlayerMatch:async(e,r,t,a="field",o=90)=>{try{const e={id:`match_${Date.now()}`};return s(e=>({...e,totalMatches:e.totalMatches+1,totalTimePlayed:e.totalTimePlayed+o})),await fetchPlayerStats(),e}catch(i){throw i}},refreshStats:async()=>{await fetchPlayerStats()}}}const cr=Q()((e,r)=>({lastUpdate:Date.now(),isRealtime:!1,subscribedPlayers:[],achievementListeners:{},subscribePlayerUpdates:r=>{e(e=>({subscribedPlayers:[...e.subscribedPlayers.filter(e=>e!==r),r],isRealtime:!0}))},unsubscribePlayerUpdates:r=>{e(e=>({subscribedPlayers:e.subscribedPlayers.filter(e=>e!==r),achievementListeners:Object.fromEntries(Object.entries(e.achievementListeners).filter(([e])=>e!==r))}))},triggerStatsUpdate:e=>{},loading:{}}));function dr(e){return e.trim().replace(/[<>]/g,"")}function mr(){const{user:e,loading:r,signOut:s,signInWithGoogle:a,updateAvatar:o}=h(),i=ee();J(),Z();const l=N(k.profiles.getProfileByEmail,e?.email?{email:e.email}:"skip"),{updateProfileFields:n}=C(),[c,d]=P.useState(!1),[m,u]=P.useState(!1),[f,b]=P.useState(!1),[j,v]=P.useState(""),[E,R]=P.useState(!1);P.useState(!1),P.useState(null),P.useState(!1);const G=P.useRef(null),[_,T]=P.useState("Meia"),[I,$]=P.useState("G"),[F,L]=P.useState(!1);P.useEffect(()=>{l&&(T(l.position??"Meia"),$(l.shirt_size??"G"))},[l]);const[V,U]=P.useState([]),[B,H]=P.useState([]),[K,Y]=P.useState(!1),[W,Q]=P.useState(!1),[ne,ce]=P.useState(()=>{const e=localStorage.getItem("playerRewards");return e?JSON.parse(e):{xp:0,coins:0,badges:[],titles:[],unlocked:[]}});P.useState(!1),P.useState([]),P.useState(new Set);const[de,me]=P.useState(0),[he,pe]=P.useState(""),[ge,fe]=P.useState(!1),{stats:be,loading:je,error:ve}=nr(e?.id||"");!function(e,r){const[s,t]=P.useState([]),[a,o]=P.useState([]),[i,l]=P.useState(null),{events:n,allEvents:c,round:d}=X();J();const{stats:m}=nr(e),u=P.useCallback(()=>{if(!m)return;const e={totalGoals:m.totalGoals||0,totalAssists:m.totalAssists||0,totalMatches:m.totalMatches||0,totalPayments:m.totalPayments||0,consecutiveMatches:m.consecutiveMatches||0,victories:m.victories||0,fastestGoal:45,goalAccuracy:85,cleanSheets:3,hatTricks:1,perfectAssists:2,mvpCount:5,monthlyGoals:8,monthlyMatches:6,loginDays:15},s=Qe(e,r),a=i?Qe(i,r):[],n=s.filter(e=>{const r=a.find(r=>r.id===e.id);return e.unlocked&&(!r||!r.unlocked)});if(n.length>0){o(n);const e=n.map(e=>({id:`notification-${Date.now()}-${e.id}`,figurinha:e,timestamp:Date.now(),isNew:!0}));t(r=>[...e,...r])}l(e)},[m,r,i]);P.useEffect(()=>{m&&u()},[m]),P.useEffect(()=>{(n.length>0||c.length>0)&&u()},[n,c]);const x=P.useCallback(e=>{t(r=>r.map(r=>r.id===e?{...r,isNew:!1}:r))},[]),h=P.useCallback(()=>{t([])},[])}(e?.id||"",e?.role);const ye=P.useMemo(()=>({victories:be.victories||0,totalGoals:be.totalGoals||0,totalAssists:be.totalAssists||0,totalMatches:be.totalMatches||0,totalPayments:be.totalPayments||0,consecutiveMatches:be.consecutiveMatches||0}),[be]),we=P.useMemo(()=>({totalGoals:ye.totalGoals,totalAssists:ye.totalAssists,totalMatches:ye.totalMatches,totalPayments:ye.totalPayments,consecutiveMatches:ye.consecutiveMatches,victories:ye.victories,fastestGoal:45,goalAccuracy:85,cleanSheets:3,hatTricks:1,perfectAssists:2,mvpCount:5,monthlyGoals:8,monthlyMatches:6,loginDays:15}),[ye]);P.useEffect(()=>{},[be,je]);const Ne=P.useRef(ne);P.useEffect(()=>{JSON.stringify(Ne.current)!==JSON.stringify(ne)&&(localStorage.setItem("playerRewards",JSON.stringify(ne)),Ne.current=ne)},[ne]),P.useMemo(()=>function(e){const r=Math.floor(e/100)+1,s=100*(r-1),t=100*r,a=(e-s)/(t-s)*100;return{level:r,xpToNext:t-e,progress:Math.min(100,Math.max(0,a))}}(ne.xp),[ne.xp]);const ke=P.useRef(null);P.useEffect(()=>{if(be&&!je){const e=function(e){const r=[],s=[];if(!e||"object"!=typeof e)return{isValid:!1,errors:["Dados de estatísticas devem ser um objeto válido"],warnings:[]};const t=["victories","totalGoals","totalAssists","totalMatches","totalPayments","consecutiveMatches"];for(const i of t)void 0!==e[i]&&null!==e[i]&&("number"!=typeof e[i]?r.push(`${i} deve ser um número`):Number.isInteger(e[i])?e[i]<0&&r.push(`${i} não pode ser negativo`):s.push(`${i} deve ser um número inteiro`));const a=0===r.length;let o;if(a){o={};for(const r of t)void 0!==e[r]&&null!==e[r]&&(o[r]=Math.max(0,Math.floor(e[r])))}return{isValid:a,errors:r,warnings:s,sanitizedData:o}}(be);e.isValid||(H(e.warnings),Y(!0),ke.current&&clearTimeout(ke.current),ke.current=setTimeout(()=>{Y(!1),H([])},3e3))}return()=>{ke.current&&clearTimeout(ke.current)}},[be,je]),P.useEffect(()=>{},[e]);const{subscribePlayerUpdates:Ce,unsubscribePlayerUpdates:Se,isRealtime:Me}=cr();P.useEffect(()=>(e?.id&&Ce(e.id),()=>{e?.id&&Se(e.id)}),[e?.id]);const Pe=P.useMemo(()=>[{id:"first-goal",name:"Primeiro Gol",emoji:"⚽",description:"1º gol da vida",requirement:1,current:ye.totalGoals,unlocked:ye.totalGoals>=1,color:"from-green-400 to-emerald-500",borderColor:"border-green-300 dark:border-green-600"},{id:"first-assist",name:"Primeira Assist",emoji:"🎯",description:"1ª assistência",requirement:1,current:ye.totalAssists,unlocked:ye.totalAssists>=1,color:"from-blue-400 to-cyan-500",borderColor:"border-blue-300 dark:border-blue-600"},{id:"debutante",name:"Debutante",emoji:"⭐",description:"1ª partida",requirement:1,current:ye.totalMatches,unlocked:ye.totalMatches>=1,color:"from-purple-400 to-indigo-500",borderColor:"border-purple-300 dark:border-purple-600"},{id:"first-payment",name:"Primeiro Pago",emoji:"💰",description:"1º pagamento",requirement:1,current:ye.totalPayments,unlocked:ye.totalPayments>=1,color:"from-yellow-400 to-amber-500",borderColor:"border-yellow-300 dark:border-yellow-600"},{id:"consecutive",name:"Não Falto Uma",emoji:"🔗",description:"5 partidas seguidas",requirement:5,current:ye.consecutiveMatches,unlocked:ye.consecutiveMatches>=5,color:"from-red-400 to-pink-500",borderColor:"border-red-300 dark:border-red-600"},{id:"presente",name:"Presente",emoji:"🔥",description:"5 partidas total",requirement:5,current:ye.totalMatches,unlocked:ye.totalMatches>=5,color:"from-emerald-400 to-teal-500",borderColor:"border-emerald-300 dark:border-emerald-600"},{id:"artilheiro",name:"Artilheiro",emoji:"🥊",description:"15+ gols total",requirement:15,current:ye.totalGoals,unlocked:ye.totalGoals>=15,color:"from-orange-400 to-red-500",borderColor:"border-orange-300 dark:border-orange-600"},{id:"criador",name:"Criador",emoji:"⚡",description:"10+ assistências",requirement:10,current:ye.totalAssists,unlocked:ye.totalAssists>=10,color:"from-violet-400 to-purple-500",borderColor:"border-violet-300 dark:border-violet-600"}],[ye]),ze=P.useCallback(async e=>{const r=e.target.files?.[0];if(!r)return;const s=function(e){const r=[],s=[];if(!(e&&e instanceof File))return{isValid:!1,errors:["Arquivo inválido"],warnings:[]};e.type.startsWith("image/")||r.push("Arquivo deve ser uma imagem"),e.size>10485760&&r.push("Arquivo deve ter no máximo 10MB"),e.size<1024&&s.push("Arquivo muito pequeno, pode ser de baixa qualidade");const t="."+e.name.split(".").pop()?.toLowerCase();return[".jpg",".jpeg",".png",".gif",".webp"].includes(t)||s.push("Extensões recomendadas: JPG, PNG, GIF, WebP"),{isValid:0===r.length,errors:r,warnings:s}}(r);if(!s.isValid)return U(s.errors),H(s.warnings),Y(!0),void setTimeout(()=>{Y(!1),U([]),H([])},5e3);s.warnings.length>0&&(H(s.warnings),Y(!0),setTimeout(()=>{Y(!1),H([])},3e3)),pe(r.name),fe(!0),me(0);const t=setInterval(()=>{me(e=>e>=90?(clearInterval(t),90):e+10)},100),a=new FileReader;a.onload=e=>{const r=e.target?.result;me(100),setTimeout(()=>{v(r),b(!0),d(!1),fe(!1),me(0),pe("")},500)},a.onerror=()=>{alert("Erro ao ler arquivo. Tente novamente."),fe(!1),me(0),pe(""),clearInterval(t)},a.readAsDataURL(r),G.current&&(G.current.value="")},[]),Ae=P.useCallback(async e=>{u(!0),b(!1);try{await o(e)}catch(r){alert("Erro ao atualizar avatar")}finally{u(!1),v(""),d(!1)}},[o]),De=P.useCallback(async()=>{try{await s(),i("/login")}catch(e){localStorage.removeItem("offline_user"),localStorage.clear(),sessionStorage.clear(),window.location.href="/login"}},[s,i]);return r?t.jsx(ir,{}):e?t.jsxs("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:[t.jsx("header",{className:"bg-white dark:bg-zinc-800 border-b border-gray-200 dark:border-zinc-700 shadow-sm rounded-lg mb-4",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-lg font-bold text-gray-900 dark:text-zinc-100",children:"Perfil"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-zinc-400",children:"Informações do seu perfil e configurações"})]}),"owner"===e.role&&t.jsx("button",{onClick:()=>i("/owner-dashboard"),className:"p-2 hover:bg-purple-100 hover:text-purple-700 transition-colors rounded-lg",title:"Acesso rápido ao Dashboard do Owner",children:t.jsx(re,{className:"w-4 h-4 text-purple-600"})})]})}),r?t.jsx(or,{}):t.jsx(p,{children:t.jsx(g,{className:"p-6",children:t.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6",children:[t.jsxs("div",{className:"flex flex-col items-center gap-2",children:[t.jsx("div",{className:"relative",children:e?.custom_avatar||e?.avatar_url||e?.avatar?t.jsx("img",{src:e.custom_avatar||e.avatar_url||e.avatar,alt:"Avatar",className:"w-28 h-28 sm:w-32 sm:h-32 rounded-full object-cover shadow-lg"}):t.jsx("div",{className:"w-28 h-28 sm:w-32 sm:h-32 bg-zinc-200 dark:bg-zinc-700 rounded-full flex items-center justify-center shadow-lg",children:t.jsx(S,{className:"w-12 h-12 sm:w-14 sm:h-14 text-zinc-500"})})}),t.jsxs("button",{onClick:()=>d(!0),className:"w-fit px-4 py-2 text-sm bg-blue-600 text-white rounded-lg flex items-center justify-center hover:bg-blue-700 transition-colors shadow-md",children:[t.jsx(le,{className:"w-4 h-4 mr-2"}),"Alterar Foto"]})]}),t.jsxs("div",{className:"flex-1 text-center sm:text-left space-y-3",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold dark:text-zinc-100",children:e.name||"Usuário"}),t.jsx("p",{className:"text-sm text-zinc-500 dark:text-zinc-400 mt-1",children:e.email||"E-mail não disponível"})]}),t.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800 rounded-xl p-4 mt-4 border border-zinc-200 dark:border-zinc-700",children:[t.jsxs("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100 mb-4 flex items-center gap-2",children:[t.jsx(S,{className:"w-4 h-4"}),"Informações do Jogador"]}),t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-xl flex items-center justify-center",children:t.jsx(ue,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),t.jsxs("div",{className:"text-left flex-1",children:[t.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-1",children:"Posição"}),F?t.jsxs("select",{value:_,onChange:e=>T(e.target.value),className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg px-3 py-2 w-full",children:[t.jsx("option",{value:"Goleiro",children:"Goleiro"}),t.jsx("option",{value:"Zagueiro",children:"Zagueiro"}),t.jsx("option",{value:"Meia",children:"Meia"}),t.jsx("option",{value:"Atacante",children:"Atacante"})]}):t.jsx("p",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:_})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center",children:t.jsx(S,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),t.jsxs("div",{className:"text-left flex-1",children:[t.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 mb-1",children:"Tamanho"}),F?t.jsxs("select",{value:I,onChange:e=>$(e.target.value),className:"text-sm font-medium text-zinc-900 dark:text-zinc-100 bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-600 rounded-lg px-3 py-2 w-full",children:[t.jsx("option",{value:"G",children:"G"}),t.jsx("option",{value:"GG",children:"GG"})]}):t.jsx("p",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:I})]})]})]})]}),t.jsx("div",{className:"flex justify-end mt-4",children:t.jsxs("button",{onClick:async()=>{if(F){const s=function(e){const r=[];e.position&&"string"!=typeof e.position?r.push("Posição deve ser uma string"):e.position&&(["Goleiro","Zagueiro","Meia","Atacante"].includes(e.position)||r.push("Posição deve ser uma das opções válidas: Goleiro, Zagueiro, Meia, Atacante"));e.shirtSize&&"string"!=typeof e.shirtSize?r.push("Tamanho da camisa deve ser uma string"):e.shirtSize&&(["P","M","G","GG","XG"].includes(e.shirtSize)||r.push("Tamanho da camisa deve ser um dos valores válidos: P, M, G, GG, XG"));const s=0===r.length;let t;return s&&(t={position:e.position?dr(e.position):void 0,shirtSize:e.shirtSize?dr(e.shirtSize):void 0}),{isValid:s,errors:r,warnings:[],sanitizedData:t}}({position:_,shirtSize:I});if(!s.isValid)return U(s.errors),H(s.warnings),Y(!0),void setTimeout(()=>{Y(!1),U([]),H([])},5e3);try{e?.email&&await n(e.email,_,I,void 0)}catch(r){return void alert("Erro ao salvar informações. Tente novamente.")}}L(!F)},className:"flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 "+(F?"bg-green-600 hover:bg-green-700 text-white shadow-md":"bg-zinc-100 hover:bg-zinc-200 dark:bg-zinc-700 dark:hover:bg-zinc-600 text-zinc-700 dark:text-zinc-300"),children:[F?"Salvar":"Editar",t.jsx(se,{className:"w-4 h-4"})]})}),e.role&&t.jsxs(O,{variant:"secondary",className:"owner"===e.role?"mt-3 bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-800":"admin"===e.role?"mt-3 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-800":"mt-3 bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300 border-green-200 dark:border-green-800",children:[t.jsx(te,{className:"w-3 h-3 mr-1"}),"owner"===e.role?"👑 Dono":"admin"===e.role?"🛡️ Admin":"aux"===e.role?"⚡ Auxiliar":"mensalista"===e.role?"⭐ Mensalista":"diarista"===e.role?"🔹 Diarista":"👤 Usuário"]}),"owner"===e.role&&t.jsxs(x,{onClick:()=>i("/owner-dashboard"),variant:"ghost",className:"mt-4 bg-purple-600 hover:bg-purple-700 dark:bg-purple-700 dark:hover:bg-purple-800 text-white px-4 py-2 rounded-lg transition-colors",children:[t.jsx(re,{className:"w-4 h-4 mr-2"}),"Acessar Dashboard Completo"]})]})]})})}),je?t.jsx(tr,{}):t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(p,{children:t.jsxs(g,{className:"p-4 text-center",children:[t.jsx(y,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold",children:ye.victories}),t.jsx("div",{className:"text-sm text-zinc-500",children:"Vitórias"})]})}),t.jsx(p,{children:t.jsxs(g,{className:"p-4 text-center",children:[t.jsx(ue,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold",children:ye.totalGoals}),t.jsx("div",{className:"text-sm text-zinc-500",children:"Gols"})]})}),t.jsx(p,{children:t.jsxs(g,{className:"p-4 text-center",children:[t.jsx(xe,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),t.jsx("div",{className:"text-2xl font-bold",children:ye.totalAssists}),t.jsx("div",{className:"text-sm text-zinc-500",children:"Assistências"})]})})]}),!1,Me&&!je&&t.jsx("div",{className:"text-center",children:t.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs rounded-full",children:[t.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Dados em tempo real ativo"]})}),ge&&t.jsx(lr,{fileName:he,progress:de}),K&&t.jsxs("div",{className:"space-y-2",children:[V.length>0&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xs",children:"!"})}),t.jsx("h4",{className:"text-sm font-semibold text-red-800 dark:text-red-300",children:"Erros de Validação"})]}),t.jsx("ul",{className:"text-sm text-red-700 dark:text-red-400 space-y-1",children:V.map((e,r)=>t.jsxs("li",{children:["• ",e]},r))})]}),B.length>0&&t.jsxs("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-white text-xs",children:"⚠"})}),t.jsx("h4",{className:"text-sm font-semibold text-yellow-800 dark:text-yellow-300",children:"Avisos"})]}),t.jsx("ul",{className:"text-sm text-yellow-700 dark:text-yellow-400 space-y-1",children:B.map((e,r)=>t.jsxs("li",{children:["• ",e]},r))})]})]}),je?t.jsx(ar,{}):t.jsxs(p,{className:"bg-gradient-to-br from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 border-yellow-200 dark:border-yellow-800",children:[t.jsx(w,{children:t.jsxs(M,{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-300",children:[t.jsx(y,{className:"w-6 h-6"}),"Minhas Conquistas"]})}),t.jsxs(g,{children:[t.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4",children:["owner"===e?.role&&t.jsxs("div",{className:"relative group",children:[t.jsxs("div",{className:"text-center p-3 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-lg border-4 border-yellow-300 dark:border-yellow-600 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx("div",{className:"text-4xl mb-1 drop-shadow-lg",children:"👑"}),t.jsx("div",{className:"text-xs font-bold text-white drop-shadow-md leading-tight",children:"O GRANDE LÍDER"}),t.jsx("div",{className:"text-xs text-yellow-100 drop-shadow-md mt-1",children:"Soberano Supremo"}),t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-300 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs",children:"💎"})})]}),t.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 bg-black text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap z-10",children:[t.jsx("div",{className:"text-yellow-300 font-bold",children:"FIGURINHA LENDÁRIA"}),t.jsx("div",{children:"Owner do Projeto"}),t.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-t-black"})]})]}),"owner"!==e?.role&&t.jsxs("div",{className:"text-center p-3 bg-gray-100 dark:bg-gray-800 rounded-lg border-2 border-gray-300 dark:border-gray-600",children:[t.jsx("div",{className:"text-2xl text-gray-400 mb-1",children:"🔒"}),t.jsx("div",{className:"text-xs text-gray-500",children:"Bloqueada"})]}),Pe.map(e=>t.jsxs("div",{className:"relative text-center p-3 rounded-lg border-2 shadow-md transition-all duration-300 "+(e.unlocked?`bg-gradient-to-br ${e.color} ${e.borderColor} hover:scale-105`:"bg-gray-200 dark:bg-gray-700 border-gray-300 dark:border-gray-600"),children:[t.jsx("div",{className:"text-3xl mb-1 opacity-100",children:e.emoji}),t.jsx("div",{className:"text-xs font-bold drop-shadow-md "+(e.unlocked?"text-white":"text-gray-500"),children:e.name}),t.jsx("div",{className:"text-xs "+(e.unlocked?"text-gray-100":"text-gray-500"),children:e.description}),!e.unlocked&&e.current>0&&t.jsxs("div",{className:"mt-1",children:[t.jsx("div",{className:"w-full bg-gray-300 dark:bg-gray-600 rounded-full h-1",children:t.jsx("div",{className:"bg-blue-500 h-1 rounded-full transition-all duration-500",style:{width:`${Math.min(100,e.current/e.requirement*100)}%`}})}),t.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[e.current,"/",e.requirement]})]}),e.unlocked&&t.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-400 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-xs",children:"✓"})})]},e.id))]}),t.jsxs("div",{className:"mt-4 p-4 bg-zinc-50 dark:bg-zinc-800 rounded-lg border border-zinc-200 dark:border-zinc-700",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h3",{className:"text-sm font-semibold text-zinc-900 dark:text-zinc-100",children:"Progresso das Conquistas"}),t.jsxs("div",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:[Pe.filter(e=>e.unlocked).length,"/",Pe.length]})]}),t.jsx("div",{className:"w-full bg-zinc-200 dark:bg-zinc-700 rounded-full h-2",children:t.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full transition-all duration-1000",style:{width:Pe.filter(e=>e.unlocked).length/Pe.length*100+"%"}})}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 text-xs text-zinc-600 dark:text-zinc-400",children:[t.jsxs("div",{children:["✅ Desbloqueadas: ",Pe.filter(e=>e.unlocked).length]}),t.jsxs("div",{children:["🔒 Em progresso: ",Pe.filter(e=>!e.unlocked&&e.current>0).length]})]})]}),"owner"===e?.role&&t.jsx("div",{className:"mt-4 p-3 bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 rounded-lg",children:t.jsxs("p",{className:"text-sm text-yellow-800 dark:text-yellow-200 text-center",children:[t.jsx("span",{className:"font-bold",children:"🎉 Parabéns! Você possui a figurinha lendária de Owner!"}),t.jsx("br",{}),t.jsx("span",{className:"text-xs",children:"Esta conquista excepcional destaca sua posição como fundador e líder do projeto."})]})}),!1,t.jsx("div",{className:"mt-4 flex justify-center",children:t.jsxs(x,{onClick:()=>Q(!0),className:"bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-semibold px-6 py-3 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[t.jsx(y,{className:"w-5 h-5 mr-2"}),"Catálogo de Figurinhas"]})})]})]}),t.jsxs(p,{children:[t.jsx(w,{children:t.jsx(M,{className:"flex items-center justify-between",children:t.jsxs("span",{className:"flex items-center gap-2",children:[t.jsx(ue,{className:"w-5 h-5"}),"Partidas Recentes"]})})}),t.jsx(g,{children:t.jsxs("div",{className:"text-center py-8 text-zinc-500",children:[t.jsx(ue,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"Nenhuma partida registrada ainda"})]})})]}),t.jsxs(p,{children:[t.jsx(w,{children:t.jsx(M,{children:"Configurações"})}),t.jsx(g,{className:"space-y-4",children:t.jsx(Xe,{})})]}),("admin"===e.role||"aux"===e.role)&&t.jsxs(p,{className:"border-green-200 dark:border-green-800 bg-green-50 dark:bg-green-900/10",children:[t.jsx(w,{children:t.jsxs(M,{className:"flex items-center gap-2 text-green-800 dark:text-green-300",children:[t.jsx(ae,{className:"w-5 h-5"}),"Ferramentas de Administração"]})}),t.jsx(g,{children:t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-lg p-4 border border-green-200 dark:border-green-700",children:[t.jsxs(x,{onClick:()=>{R(!0)},className:"w-full justify-start bg-green-600 hover:bg-green-700 text-white transition-all duration-200 shadow-md hover:shadow-lg transform hover:scale-[1.02]",variant:"default",children:[t.jsx(oe,{className:"w-4 h-4 mr-2"}),"Criar Convites WhatsApp"]}),t.jsxs("div",{className:"mt-3 text-xs text-green-600 dark:text-green-400 space-y-1",children:[t.jsxs("p",{className:"flex items-center gap-1",children:["📱 ",t.jsx("strong",{children:"Mensalistas:"})," Link de convite válido por 1 dia"]}),t.jsxs("p",{className:"flex items-center gap-1",children:["📱 ",t.jsx("strong",{children:"Diaristas:"})," Link de convite válido por 1 dia"]}),t.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Mensagem personalizada + URLs únicos para compartilhar"})]})]})})})]}),t.jsx("div",{children:t.jsxs(x,{variant:"destructive",onClick:De,className:"w-full flex items-center justify-center",title:"Sair da conta",children:[t.jsx(ie,{className:"w-4 h-4 mr-2"}),"Sair da Conta"]})}),t.jsx(z,{open:c,onOpenChange:d,children:t.jsxs(A,{children:[t.jsx(D,{children:t.jsx(q,{children:"Alterar Foto de Perfil"})}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-zinc-500",children:"Selecione uma imagem para ser sua foto de perfil."}),t.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:ze,className:"w-full",hidden:!0}),t.jsxs(x,{onClick:()=>G.current?.click(),className:"w-full",children:[t.jsx(le,{className:"w-4 h-4 mr-2"}),"Selecionar Imagem"]})]})]})}),f&&t.jsx(z,{open:f,onOpenChange:b,children:t.jsxs(A,{className:"max-w-md",children:[t.jsx(D,{children:t.jsx(q,{children:"Recortar Imagem"})}),t.jsx(Ke,{imageSrc:j,onCropComplete:Ae,onCancel:()=>b(!1)})]})}),("admin"===e.role||"aux"===e.role)&&t.jsx(We,{open:E,onOpenChange:R}),t.jsx(z,{open:W,onOpenChange:Q,children:t.jsxs(A,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[t.jsx(D,{children:t.jsxs(q,{className:"flex items-center gap-2",children:[t.jsx(y,{className:"w-6 h-6"}),"Catálogo de Figurinhas"]})}),t.jsx(er,{playerStats:we,userRole:e?.role,onClose:()=>Q(!1)})]})})]}):t.jsx("div",{className:"mx-auto w-full max-w-4xl p-4 sm:p-6 space-y-4 pb-20",children:t.jsx(p,{children:t.jsxs(g,{className:"p-6 text-center",children:[t.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Acesso Restrito"}),t.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Você precisa estar logado para acessar seu perfil."}),t.jsx(x,{onClick:()=>i("/simple-auth"),children:"Fazer Login"})]})})})}export{mr as default};
